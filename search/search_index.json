{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\ud83c\udfe1 Home Welcome to my home page. \u2b07\ufe0fWhat's here I read a lot of books but want to turn that into a more active hobby that ties into writing in some way. So you will find a list of books I've read, and reviews of some of them. On the software side, I've collected some notes over time on various things that interest me. They're not burned in my memory like the Emacs/readline keybindings, so I've felt the need to dump them here. \ud83d\udcd6Books Me and my books Here is a list of books read per year, starting November 2019. \ud83d\udcda2022 \ud83d\udcda2021 \ud83d\udcda2020 \ud83d\udcda2019 \ud83d\udcbbTech Notes One-liners for a variety of tools I use regularly.. Linux, openssl and so on. \ud83c\udd70\ufe0fAnsible \u2601\ufe0fAWS \ud83c\udf10Browsers \ud83d\udcbeDatabases \ud83d\udc0bDocker \u2328\ufe0fEditors \ud83d\udd0dElastic Stack \ud83d\udcbeGit \ud83d\udcc8Grafana \ud83d\udc1eKafka \u2638\ufe0fKubernetes \ud83d\udc27Linux \ud83d\udc27Package Management \ud83d\udc27Learnings & Notes \ud83d\udc27SystemD \ud83d\udd78\ufe0fNetworking \ud83d\udd12OpenSSL \ud83d\udcbbProgramming \ud83d\udc39Go \ud83c\udf75Java \ud83d\udc0dPython \ud83d\udd12Security \ud83c\udfaeGames Me and my games Current-gen: I have an \ud83c\udfaeXbox One Here is a list of games played per year: \ud83c\udfae2022 \ud83c\udfae2021 \ud83c\udfae2020 \ud83c\udfae2019 and before \ud83c\udfebResearch Here are some notes and links I've collected in topics that interest me. Several are works in progress: I'm yet to move my large collection of bookmarks to these sections. But this is an attempt to weave something from those saved links. \ud83e\udda0COVID-19 \ud83d\udcb8Cryptocurrencies \u2705Productivity \ud83c\udf21\ufe0fClimate Change \ud83d\udcadPhilosophy \ud83d\udcadScepticism \ud83d\udd0fOnline Privacy and the Internet \ud83d\udcb0Capitalism \ud83d\udc27About See About for more about me. This site is built using the lovely MkDocs , a python-based static site generator. The content is written in markdown using GNU Emacs. It is hosted on NFSN . \ud83c\udf10External Links My Blog - I double commit my content here too because there's times when I liked wordpress (I can post my artwork there) and times when I like this mkdocs site. Structurally I like the garden-like feel of this site more than chronological format of a blog) Asha's blog - My daughter's wordpress blog. She writes all the content, I just help with uploading images and post tagging/cateogorization. Siddharth's blog - My son's wordpress. I help him with choosing titles and uploading pics, he figures out the rest. Books I own, on LibraryThing and GoodReads . Github Profile - Mostly this site and my dotfiles. My Steam Profile - Not used much. My TrueAchievements Profile - I'm not an achievement hunter but it tracks my Xbox progress quite well. \u267b\ufe0fOlder Stuff Note These pages are less up to date than others. \ud83d\udcddBook reviews Some notes / reviews of books: \ud83d\udcddDespair \ud83d\udcddThe Happiness Hypothesis \ud83d\udcddHow to Read a Book \ud83d\udcddEats, Shoots & Leaves \ud83d\udcddGood Math \ud83d\udcddFlow \ud83d\udcddThe Thinking Person's Guide to Climate Change (IN PROGRESS) \ud83d\udcddHate Inc. \ud83d\udcddCrypto 101 \ud83d\udcddWe are our brains \ud83d\udcddThe Art of the Infinite Here are notes on Oxford's Very Short Introduction To.. series. \ud83d\udcc3Main page \ud83d\udcc3Accounting \ud83d\udcc3Advertising \ud83d\udcc3Alexander \ud83d\udcc3Anaesthesia ... and abandoned after this brief start. \ud83e\uddb8Role Models Some heroes that I look up to, in the tech and literary worlds mostly. \ud83e\uddecRichard Dawkins \ud83c\udf0cCarl Sagan \ud83d\udc27Richard Stallman \ud83d\udcadNoam Chomsky","title":"\ud83c\udfe1 Home"},{"location":"#home","text":"Welcome to my home page.","title":"\ud83c\udfe1 Home"},{"location":"#whats-here","text":"I read a lot of books but want to turn that into a more active hobby that ties into writing in some way. So you will find a list of books I've read, and reviews of some of them. On the software side, I've collected some notes over time on various things that interest me. They're not burned in my memory like the Emacs/readline keybindings, so I've felt the need to dump them here.","title":"\u2b07\ufe0fWhat's here"},{"location":"#books","text":"Me and my books Here is a list of books read per year, starting November 2019. \ud83d\udcda2022 \ud83d\udcda2021 \ud83d\udcda2020 \ud83d\udcda2019","title":"\ud83d\udcd6Books"},{"location":"#tech-notes","text":"One-liners for a variety of tools I use regularly.. Linux, openssl and so on. \ud83c\udd70\ufe0fAnsible \u2601\ufe0fAWS \ud83c\udf10Browsers \ud83d\udcbeDatabases \ud83d\udc0bDocker \u2328\ufe0fEditors \ud83d\udd0dElastic Stack \ud83d\udcbeGit \ud83d\udcc8Grafana \ud83d\udc1eKafka \u2638\ufe0fKubernetes \ud83d\udc27Linux \ud83d\udc27Package Management \ud83d\udc27Learnings & Notes \ud83d\udc27SystemD \ud83d\udd78\ufe0fNetworking \ud83d\udd12OpenSSL \ud83d\udcbbProgramming \ud83d\udc39Go \ud83c\udf75Java \ud83d\udc0dPython \ud83d\udd12Security","title":"\ud83d\udcbbTech Notes"},{"location":"#games","text":"Me and my games Current-gen: I have an \ud83c\udfaeXbox One Here is a list of games played per year: \ud83c\udfae2022 \ud83c\udfae2021 \ud83c\udfae2020 \ud83c\udfae2019 and before","title":"\ud83c\udfaeGames"},{"location":"#research","text":"Here are some notes and links I've collected in topics that interest me. Several are works in progress: I'm yet to move my large collection of bookmarks to these sections. But this is an attempt to weave something from those saved links. \ud83e\udda0COVID-19 \ud83d\udcb8Cryptocurrencies \u2705Productivity \ud83c\udf21\ufe0fClimate Change \ud83d\udcadPhilosophy \ud83d\udcadScepticism \ud83d\udd0fOnline Privacy and the Internet \ud83d\udcb0Capitalism","title":"\ud83c\udfebResearch"},{"location":"#about","text":"See About for more about me. This site is built using the lovely MkDocs , a python-based static site generator. The content is written in markdown using GNU Emacs. It is hosted on NFSN .","title":"\ud83d\udc27About"},{"location":"#external-links","text":"My Blog - I double commit my content here too because there's times when I liked wordpress (I can post my artwork there) and times when I like this mkdocs site. Structurally I like the garden-like feel of this site more than chronological format of a blog) Asha's blog - My daughter's wordpress blog. She writes all the content, I just help with uploading images and post tagging/cateogorization. Siddharth's blog - My son's wordpress. I help him with choosing titles and uploading pics, he figures out the rest. Books I own, on LibraryThing and GoodReads . Github Profile - Mostly this site and my dotfiles. My Steam Profile - Not used much. My TrueAchievements Profile - I'm not an achievement hunter but it tracks my Xbox progress quite well.","title":"\ud83c\udf10External Links"},{"location":"#older-stuff","text":"Note These pages are less up to date than others.","title":"\u267b\ufe0fOlder Stuff"},{"location":"#book-reviews","text":"Some notes / reviews of books: \ud83d\udcddDespair \ud83d\udcddThe Happiness Hypothesis \ud83d\udcddHow to Read a Book \ud83d\udcddEats, Shoots & Leaves \ud83d\udcddGood Math \ud83d\udcddFlow \ud83d\udcddThe Thinking Person's Guide to Climate Change (IN PROGRESS) \ud83d\udcddHate Inc. \ud83d\udcddCrypto 101 \ud83d\udcddWe are our brains \ud83d\udcddThe Art of the Infinite Here are notes on Oxford's Very Short Introduction To.. series. \ud83d\udcc3Main page \ud83d\udcc3Accounting \ud83d\udcc3Advertising \ud83d\udcc3Alexander \ud83d\udcc3Anaesthesia ... and abandoned after this brief start.","title":"\ud83d\udcddBook reviews"},{"location":"#role-models","text":"Some heroes that I look up to, in the tech and literary worlds mostly. \ud83e\uddecRichard Dawkins \ud83c\udf0cCarl Sagan \ud83d\udc27Richard Stallman \ud83d\udcadNoam Chomsky","title":"\ud83e\uddb8Role Models"},{"location":"about/","text":"\ud83d\udc27About I\u2019m a software engineer in Bangalore who is addicted to books . Classic Literature ( Vladimir Nabokov ), Popular Science ( Richard Dawkins ) and Science Fiction (Greg Egan) are the genres I prefer. The picture at the end of this page shows all the books I own, as of Feb 2015. I seem to prefer breadth over depth, and enjoy playing games (mostly on my Xbox One these days), fiddling with GNU/Linux (Fedora, MATE, Emacs ) and Python . I have an adorable little daughter (Update Mar-2016 \u2014 and son!)","title":"\ud83d\udc27About"},{"location":"about/#about","text":"I\u2019m a software engineer in Bangalore who is addicted to books . Classic Literature ( Vladimir Nabokov ), Popular Science ( Richard Dawkins ) and Science Fiction (Greg Egan) are the genres I prefer. The picture at the end of this page shows all the books I own, as of Feb 2015. I seem to prefer breadth over depth, and enjoy playing games (mostly on my Xbox One these days), fiddling with GNU/Linux (Fedora, MATE, Emacs ) and Python . I have an adorable little daughter (Update Mar-2016 \u2014 and son!)","title":"\ud83d\udc27About"},{"location":"books/","text":"\ud83d\udcd6Books What I like I mostly prefer Classic Literature these days. My favourite author is Vladimir Nabokov. Among science fiction authors, I like hard sci-fi authors like Greg Egan and Peter Watts. For non-fiction I like writers like Richard Dawkins and Noam Chomsky. What I've read Here is a chronological list of books I've read, every month. 2021 2020 2019 Favourite Books Check my 'heroes' section for my favourite authors, such as: Richard Dawkins Carl Sagan Noam Chomsky","title":"\ud83d\udcd6Books"},{"location":"books/#books","text":"","title":"\ud83d\udcd6Books"},{"location":"books/#what-i-like","text":"I mostly prefer Classic Literature these days. My favourite author is Vladimir Nabokov. Among science fiction authors, I like hard sci-fi authors like Greg Egan and Peter Watts. For non-fiction I like writers like Richard Dawkins and Noam Chomsky.","title":"What I like"},{"location":"books/#what-ive-read","text":"Here is a chronological list of books I've read, every month. 2021 2020 2019","title":"What I've read"},{"location":"books/#favourite-books","text":"Check my 'heroes' section for my favourite authors, such as: Richard Dawkins Carl Sagan Noam Chomsky","title":"Favourite Books"},{"location":"books/2019/","text":"\ud83d\udcda 2019 December Annihilation, by Jeff VanDermeer I read this because I'd seen and loved the movie. It maintains the movie's atmosphere but goes in its own direction. Hate, Inc. by Matt Taibbi I've taken some notes here . Trilobite! by Richard Fortey My biggest regret is that I read a text-only version. I had already read the excellent chapter on the Trilobite's Eye and knew this book was good. It is. The Soul of an Octopus: A Surprising Exploration into the Wonder of Consciousness, by Sy Montgomery Octopuses are now my new favourite animal! Read this book! November The Interpreter of Maladies, by Jhumpa Lahiri I didn't like this all that much. It seemed like a slightly foreign view of Indian life, so the characters didn't seem to feel natural. The Incredible History of India's Geography, by Sanjeev Sanyal This is targeted at younger audiences but it is a concise information dump of India's Geography and how it shaped its History. I found it a good refresher of things from my school days. The Mother Tongue: English and How It Got That Way, by Bill Bryson I wanted to like this book so much, but I didn't. It is too light for my tastes. Mark Forsyth's books are a nice counter-example of how to write interesting English books. What Kind of Creatures Are We? by Noam Chomsky I heard this as an audiobook. I love Chomsky's political books and this was the first of his that I've read on Language. I like how he talks about language, not as a mode of communication, but as a mode of cognition itself. His theory involves (external and internal) merge, which is a bottom-up approach for the mind to recursively combine parts of a sentence to build higher meaning. What the Hell Did I Just Read, by David Wong I like David Wong's books and this is the third in his 'John' trilogy. Very entertaining read, constantly humorous and horrifying.","title":"\ud83d\udcda 2019"},{"location":"books/2019/#2019","text":"","title":"\ud83d\udcda 2019"},{"location":"books/2019/#december","text":"","title":"December"},{"location":"books/2019/#annihilation-by-jeff-vandermeer","text":"I read this because I'd seen and loved the movie. It maintains the movie's atmosphere but goes in its own direction.","title":"Annihilation, by Jeff VanDermeer"},{"location":"books/2019/#hate-inc-by-matt-taibbi","text":"I've taken some notes here .","title":"Hate, Inc. by Matt Taibbi"},{"location":"books/2019/#trilobite-by-richard-fortey","text":"My biggest regret is that I read a text-only version. I had already read the excellent chapter on the Trilobite's Eye and knew this book was good. It is.","title":"Trilobite! by Richard Fortey"},{"location":"books/2019/#the-soul-of-an-octopus-a-surprising-exploration-into-the-wonder-of-consciousness-by-sy-montgomery","text":"Octopuses are now my new favourite animal! Read this book!","title":"The Soul of an Octopus: A Surprising Exploration into the Wonder of Consciousness, by Sy Montgomery"},{"location":"books/2019/#november","text":"","title":"November"},{"location":"books/2019/#the-interpreter-of-maladies-by-jhumpa-lahiri","text":"I didn't like this all that much. It seemed like a slightly foreign view of Indian life, so the characters didn't seem to feel natural.","title":"The Interpreter of Maladies, by Jhumpa Lahiri"},{"location":"books/2019/#the-incredible-history-of-indias-geography-by-sanjeev-sanyal","text":"This is targeted at younger audiences but it is a concise information dump of India's Geography and how it shaped its History. I found it a good refresher of things from my school days.","title":"The Incredible History of India's Geography, by Sanjeev Sanyal"},{"location":"books/2019/#the-mother-tongue-english-and-how-it-got-that-way-by-bill-bryson","text":"I wanted to like this book so much, but I didn't. It is too light for my tastes. Mark Forsyth's books are a nice counter-example of how to write interesting English books.","title":"The Mother Tongue: English and How It Got That Way, by Bill Bryson"},{"location":"books/2019/#what-kind-of-creatures-are-we-by-noam-chomsky","text":"I heard this as an audiobook. I love Chomsky's political books and this was the first of his that I've read on Language. I like how he talks about language, not as a mode of communication, but as a mode of cognition itself. His theory involves (external and internal) merge, which is a bottom-up approach for the mind to recursively combine parts of a sentence to build higher meaning.","title":"What Kind of Creatures Are We? by Noam Chomsky"},{"location":"books/2019/#what-the-hell-did-i-just-read-by-david-wong","text":"I like David Wong's books and this is the third in his 'John' trilogy. Very entertaining read, constantly humorous and horrifying.","title":"What the Hell Did I Just Read, by David Wong"},{"location":"books/2020/","text":"\ud83d\udcda 2020 December The Happiness Hypothesis, by Jonathan Haidt Reviewed here . The Count of Monte Cristo, by Alexandre Dumas I have fond memories of this book: I won an abridged copy as an award in school, way back in IInd standard. So I was not ready for how BIG the original version is. So most of this month went in reading this enjoyable revenge tale. November Nabokov: The Mystery of Literary Structures, by Leona Toker A detailed look at several of Nabokov's books. A few weren't fresh in my memory but this is always a fruitful area to get lost in. Circe, by Madeline Miller Lovely book from the author of The Song of Achilles . This one's about, as you'd expect, Circe, who features in the Odyssey. We Are Legion (We Are Bob), by Dennis E. Taylor Pretty decent. Reads a bit like Star Trek fanfic at times so I don't know if I'll continue the series. October I got a new kindle at the end of this month, so I read more than usual. It is quite nice! The Dead, James Joyce Short and bitter-sweet story. Mythos, by Stephen Fry Has his trademark light-hearted air which is really nice sometimes and a bit annoying some other times. When Breath Becomes Air, by Paul Kalanidhi An exquisite book. Not an easy read (emotionally), but so lyrical. Alexander the Great Reviewed here . September Exhalation, by Ted Chiang A short story collection from one of my favourite science fiction authors. The Truth of Fact, The Truth of Feeling is my favourite, as it ties into discussions around memory and writing. Available here . Accounting: A Very Short Introduction Reviewed here . Advertising: A Very Short Introduction Reviewed here . August An Atlas of Impossible Longing, by Anuradha Roy Probably not as enjoyable as the other book of hers that I've read (All the Lives We Never Lived), but decent nonetheless. July Luzhin's Defense, by Vladimir Nabokov Hit a spot of reader's block so I decided to reread my favourite author. What can I say? It's Nabokov and Chess and obsession, in language and form that only he can create. June On Writing Well, by William Zinsser I've had a bad couple of months and it was difficult to get back into books. I finally finished this one and liked it for its clarity. The author practices what he preaches. May nothing Bad month. My long commute was the only time I used to read. I'm working from home these days due to COVID-19, so my reading habit has suffered. April The Lord of the Rings, by JRR Tolkien Probably my third reading of one of my all time favourites. The Sounds of Poetry: A Brief Guide, by Robert Pinsky An enjoyable introduction for some one with very little exposure to the world of poetry. I think this has genuinely sharpened my ear a bit and helped me appreciate good poetry. March Eats, Shoots & Leaves: The Zero Tolerance Approach to Punctuation, by Lynne Truss See my detailed review here . February Good Math, Mark C. Chu-Carroll See my detailed review here . Grokking Algorithms An Illustrated Guide For Programmers and Other Curious People, by Aditya Y. Bhargava I quite liked this book. It was a good refreshes of things that my college ought to have taught me but didn't. Bonus points for the pretty pictures. Flow, by Mihaly Csikszentmihalyi See my detailed review here . January Bottle of Lies, by Katherine Eban The story of Ranbaxy and the generic drug market. Wasn't what I expected, and was pleasantly surprised by how nicely the stories were woven together. Olive Kitteridge, by Elizabeth Strout Not the sort of book I usually read, but Penn Jillete spoke highly of it in his podcast . Well-written, poignant stories of old age, depression, families and so on, centered around an outspoken, strict school teacher. The Song of Achilles by Madeline Miller I found the initial half to be a bit slow-paced, and didn't think the characters were interesting either. But it picked up in the second half and became genuinely interesting. Recommended for fans of Greek mythology.","title":"\ud83d\udcda 2020"},{"location":"books/2020/#2020","text":"","title":"\ud83d\udcda 2020"},{"location":"books/2020/#december","text":"","title":"December"},{"location":"books/2020/#the-happiness-hypothesis-by-jonathan-haidt","text":"Reviewed here .","title":"The Happiness Hypothesis, by Jonathan Haidt"},{"location":"books/2020/#the-count-of-monte-cristo-by-alexandre-dumas","text":"I have fond memories of this book: I won an abridged copy as an award in school, way back in IInd standard. So I was not ready for how BIG the original version is. So most of this month went in reading this enjoyable revenge tale.","title":"The Count of Monte Cristo, by Alexandre Dumas"},{"location":"books/2020/#november","text":"","title":"November"},{"location":"books/2020/#nabokov-the-mystery-of-literary-structures-by-leona-toker","text":"A detailed look at several of Nabokov's books. A few weren't fresh in my memory but this is always a fruitful area to get lost in.","title":"Nabokov: The Mystery of Literary Structures, by Leona Toker"},{"location":"books/2020/#circe-by-madeline-miller","text":"Lovely book from the author of The Song of Achilles . This one's about, as you'd expect, Circe, who features in the Odyssey.","title":"Circe, by Madeline Miller"},{"location":"books/2020/#we-are-legion-we-are-bob-by-dennis-e-taylor","text":"Pretty decent. Reads a bit like Star Trek fanfic at times so I don't know if I'll continue the series.","title":"We Are Legion (We Are Bob), by Dennis E. Taylor"},{"location":"books/2020/#october","text":"I got a new kindle at the end of this month, so I read more than usual. It is quite nice!","title":"October"},{"location":"books/2020/#the-dead-james-joyce","text":"Short and bitter-sweet story.","title":"The Dead, James Joyce"},{"location":"books/2020/#mythos-by-stephen-fry","text":"Has his trademark light-hearted air which is really nice sometimes and a bit annoying some other times.","title":"Mythos, by Stephen Fry"},{"location":"books/2020/#when-breath-becomes-air-by-paul-kalanidhi","text":"An exquisite book. Not an easy read (emotionally), but so lyrical.","title":"When Breath Becomes Air, by Paul Kalanidhi"},{"location":"books/2020/#alexander-the-great","text":"Reviewed here .","title":"Alexander the Great"},{"location":"books/2020/#september","text":"","title":"September"},{"location":"books/2020/#exhalation-by-ted-chiang","text":"A short story collection from one of my favourite science fiction authors. The Truth of Fact, The Truth of Feeling is my favourite, as it ties into discussions around memory and writing. Available here .","title":"Exhalation, by Ted Chiang"},{"location":"books/2020/#accounting-a-very-short-introduction","text":"Reviewed here .","title":"Accounting: A Very Short Introduction"},{"location":"books/2020/#advertising-a-very-short-introduction","text":"Reviewed here .","title":"Advertising: A Very Short Introduction"},{"location":"books/2020/#august","text":"","title":"August"},{"location":"books/2020/#an-atlas-of-impossible-longing-by-anuradha-roy","text":"Probably not as enjoyable as the other book of hers that I've read (All the Lives We Never Lived), but decent nonetheless.","title":"An Atlas of Impossible Longing, by Anuradha Roy"},{"location":"books/2020/#july","text":"","title":"July"},{"location":"books/2020/#luzhins-defense-by-vladimir-nabokov","text":"Hit a spot of reader's block so I decided to reread my favourite author. What can I say? It's Nabokov and Chess and obsession, in language and form that only he can create.","title":"Luzhin's Defense, by Vladimir Nabokov"},{"location":"books/2020/#june","text":"","title":"June"},{"location":"books/2020/#on-writing-well-by-william-zinsser","text":"I've had a bad couple of months and it was difficult to get back into books. I finally finished this one and liked it for its clarity. The author practices what he preaches.","title":"On Writing Well, by William Zinsser"},{"location":"books/2020/#may","text":"","title":"May"},{"location":"books/2020/#nothing","text":"Bad month. My long commute was the only time I used to read. I'm working from home these days due to COVID-19, so my reading habit has suffered.","title":"nothing"},{"location":"books/2020/#april","text":"","title":"April"},{"location":"books/2020/#the-lord-of-the-rings-by-jrr-tolkien","text":"Probably my third reading of one of my all time favourites.","title":"The Lord of the Rings, by JRR Tolkien"},{"location":"books/2020/#the-sounds-of-poetry-a-brief-guide-by-robert-pinsky","text":"An enjoyable introduction for some one with very little exposure to the world of poetry. I think this has genuinely sharpened my ear a bit and helped me appreciate good poetry.","title":"The Sounds of Poetry: A Brief Guide, by Robert Pinsky"},{"location":"books/2020/#march","text":"","title":"March"},{"location":"books/2020/#eats-shoots-leaves-the-zero-tolerance-approach-to-punctuation-by-lynne-truss","text":"See my detailed review here .","title":"Eats, Shoots &amp; Leaves: The Zero Tolerance Approach to Punctuation, by Lynne Truss"},{"location":"books/2020/#february","text":"","title":"February"},{"location":"books/2020/#good-math-mark-c-chu-carroll","text":"See my detailed review here .","title":"Good Math, Mark C. Chu-Carroll"},{"location":"books/2020/#grokking-algorithms-an-illustrated-guide-for-programmers-and-other-curious-people-by-aditya-y-bhargava","text":"I quite liked this book. It was a good refreshes of things that my college ought to have taught me but didn't. Bonus points for the pretty pictures.","title":"Grokking Algorithms An Illustrated Guide For Programmers and Other Curious People, by Aditya Y. Bhargava"},{"location":"books/2020/#flow-by-mihaly-csikszentmihalyi","text":"See my detailed review here .","title":"Flow, by Mihaly Csikszentmihalyi"},{"location":"books/2020/#january","text":"","title":"January"},{"location":"books/2020/#bottle-of-lies-by-katherine-eban","text":"The story of Ranbaxy and the generic drug market. Wasn't what I expected, and was pleasantly surprised by how nicely the stories were woven together.","title":"Bottle of Lies, by Katherine Eban"},{"location":"books/2020/#olive-kitteridge-by-elizabeth-strout","text":"Not the sort of book I usually read, but Penn Jillete spoke highly of it in his podcast . Well-written, poignant stories of old age, depression, families and so on, centered around an outspoken, strict school teacher.","title":"Olive Kitteridge, by Elizabeth Strout"},{"location":"books/2020/#the-song-of-achilles-by-madeline-miller","text":"I found the initial half to be a bit slow-paced, and didn't think the characters were interesting either. But it picked up in the second half and became genuinely interesting. Recommended for fans of Greek mythology.","title":"The Song of Achilles by Madeline Miller"},{"location":"books/2021/","text":"\ud83d\udcda 2021 December Not the best month: I started Ian Stewart's Does God Play Dice and abandoned it because it required a greater commitment of effort than I was able to give. I'm also midway through a couple of other books but have not finished either of them yet. I did finish an audiobook called The Art of Reading from The Great Courses. It has inspired me to tackle books that I previously considered too hard. So I expect the quantity of books read to be lesser from now, but hopefully the quality is higher. Shakespeare, by Bill Bryson A slim book, what I liked most was how the times and place were brought to life. Four Thousand Weeks, by Oliver Burkeman A 'productivity' book from someone who embraced productivity tools, got burned out, and tries to give some perspective on things that matter more than trying to make the most of every minute. November Axiomatic, by Greg Egan A short story collection from one of my favourite hard-sci-fi writers. Excellent as always. The Witcher series (continued), by Andrzej Sapkowski Baptism of Fire The Tower of the Swallow Things are getting interesting now, with the Witcher assembling a rag-tag party to search for Ciri. Indica, by Pranay Lal I've longed to get a book like this: a natural history of India. The photos and illustrations are quite beautiful. Shards of Earth, by Adrian Tchaikovsky I wanted a bit of epic science fiction and this is my first foray into this author's books. It is quite nice. Humanity and a bunch of aliens face up to a fearsome race of planet-destroying 'Architects'. October The Witcher series, by Andrzej Sapkowski The Last Wish Sword of Destiny Blood of Elves Time of Contempt I got the entire Witcher series as an ebook collection, and got hooked right from the start. The first two were quite nice, as they were more of short-story collections. I have another four to go but plan to mix it up a bit next month. September Pale Fire, by Vladimir Nabokov I re-read this book every year or so. This is probably my all-time favourite book. The Authenticity Project, by Clare Pooley A farewell gift from my friends. Not usually the kind of book I read but interesting in its own way. August The Hero with a Thousand Faces, by Joseph Cambell A beautiful synthesis of several major world myths. If you like going down the TV Tropes rabbit hole, this is for you. Civilization, by Niall Ferguson I suppose I'm not enough of an expert to comment, but the tendency to pigeon hole vast swathes of history into a few fixed theories seemed too forced to me. Hamlet, by William Shakespeare I read the Penguin edition as part of a collection called Four Tragedies . The annotations are quite extensive and extremely useful to new readers. That apart, it's Shakespeare, of course it's great. July The Letters of Vincent Van Gogh, by Vincent Van Gogh My wife got this as a birthday gift. It is a tragic look at Van Gogh's suffering but passionate and all too brief life. The editor's notes before each section were quite helpful in setting the context. Before reading this, I saw Loving Vincent , a beautiful tribute to the same author. So I'd recommend folks to watch that movie first, and dive into the week if they crave more. The Checklist Manifesto, by Atul Gawande I'm been tweaking my productivity tools, and this seemed like a well-recommended book in that space. It is quite nice although a bit light. The summary is that in high pressure and critical jobs, experts usually look for corner-cases but quite often miss the basics. And a good checklist serves as a reminder for a group of people to coordinate tasks well. Pomodoro Technique Illustrated, by Staffan Noteberg Continued my productivity investigation with this book. Again, a light, enjoyable read. I read the book using the Pomo technique itself and quite liked the approach. I have too many meetings at work these days to be able to use this as often as I'd like. But it seems like a nice way to pace your work without getting swamped by distractions. June Thinking, Fast and Slow by Daniel Kahnemann Did not have high expectations going in, as I was already aware that an entire chapter was essentially worthless due to the replication crisis that has proven that most research around priming has very little value. I find survey-based research rather depressing. The book time and again states that researchers have a poor understanding of statistics, and the subjects display a high variability in their answers based on trivial and unrelated conditions. But it then goes on to quote study after study as if it were fact. I've enjoyed other areas in non-fiction a lot more than this one and should probably stick to them. Mistborn: The Final Empre by Brandon Sanderson My first by the author. Thoroughly enjoyed it. Did not have too many of the usual fantasy tropes about heroes and destiny and so on. All Systems Red by Martha Wells Was a short science fiction piece I read for a change of pace. It had a decent cast and atmosphere. May Assassin's Apprentice by Robin Hobb I wanted to read a good fantasy book and this was the one I picked. Very enjoyable read and seems worth committing to finish the trilogy. The Pig That Wants to Be Eaten, by Julian Baggini Fun armchair philosophy thought experiments. There are a hundred of them, from age old paradoxes (Zeno) to funny insights that trigger a deeper train of thought (Douglas Adams). The fact that there are so many make this book harder to read in one sitting. Good in bite-sized chunks. Nexus, by Ramez Naam Wanted a switch from fantasy to science fiction so I tried this one out. It was alright. April The Brain: The Story of You, by David Eagleman Felt like a short read that didn't go deep enough but this was a nice introduction to our current undertanding of how the brain functions. The author does a nice job of keep things interesting at a high level. Golden Gate, by Vikram Seth This is a technically brilliant book but ultimately dealt with themes outside my usual genres. Haunted, by Chuck Palahniuk Ahh this one is not for the queasy. A collection of uncomfortable short stories about cynical wannabe authors stuck in a writers' retreat. March Myths and Legends of Ancient Greece and Rome, by E. M. Berens After reading Stephen Fry\u2019s take on this genre, it was refreshing to read a more classic take. Highly recommended. I was fascinated by this kind of stuff when I was young. Is adulthood mostly us trying to recapture those days? Despair, by Vladimir Nabokov I wrote about it here . February This was a great month for books. I signed up for scribd (again) and went to my favourite book store (Blossoms) after nearly a year. The Enchanter: An Adventure in the Land of Nabokov, by Lila Azam Zanganeh An exquisite love letter to Nabokov's works. Emulates his luminous, mad style very well. Fight Club, by Chuck Palahniuk Our great depression is our lives. Reread this. Immensely quotable book. Seven Brief Lessons on Physics, by Carlo Rovelli A light overview of physics. Does not go too deep so might be good for folks who are dipping their toes in this genre. Goodbye, Things: On Minimalist Living, by Fumio Sasaki A light look at the minimalist movement from a Japanese blogger. Blood, Sweat, and Pixels: The Triumphant, Turbulent Stories Behind How Video Games Are Made, by Jason Schreier Somehow this was more forgiving than I expected, of the grind and hell folks in the videogame industry go through. The author hand waves it away as something people do out of sheer passion. I can understand that from the small indies working away for years on a tight budget, but I wonder if that holds true for the entire industry. Nevertheless this was an interesting peek behind the curtains of game companies small and large. Range: Why Generalists Triumph in a Specialized World, by David Epstein Well this was preaching to the choir as I consider myself a bit of a generalist. Most of the book quotes success stories, which makes for nice reading but I guess if you look for something you'll always find examples supporting your cause. The larger point is that we don't know what we want to do unless we try it, so the general recommendation is to sample widely and not be afraid to be a late bloomer. The Tangled Lands, by Paolo Bacigalupi, Tobias S. Buckell Four short stories by the two authors, all centered around a world troubled by poisonous brambles that grow and spread whenever its people use magic. I've read and liked Baciagalupi's dystopian science fiction before. January Anabasis, by Xenophon \"Ah, Dedalus, the Greeks. I must teach you. You must read them in the original. Thalatta! Thalatta!\" -- Buck Mulligan in Joyce's Ulysses . \"Warriors, come out to play-i-ay.\" -- From the movie The Warriors . Well I didn't read it in the original Greek but I finally read this book. It's nice when you finally read something that has such a rich cultural history and you see all the influences it has had.","title":"\ud83d\udcda 2021"},{"location":"books/2021/#2021","text":"","title":"\ud83d\udcda 2021"},{"location":"books/2021/#december","text":"Not the best month: I started Ian Stewart's Does God Play Dice and abandoned it because it required a greater commitment of effort than I was able to give. I'm also midway through a couple of other books but have not finished either of them yet. I did finish an audiobook called The Art of Reading from The Great Courses. It has inspired me to tackle books that I previously considered too hard. So I expect the quantity of books read to be lesser from now, but hopefully the quality is higher.","title":"December"},{"location":"books/2021/#shakespeare-by-bill-bryson","text":"A slim book, what I liked most was how the times and place were brought to life.","title":"Shakespeare, by Bill Bryson"},{"location":"books/2021/#four-thousand-weeks-by-oliver-burkeman","text":"A 'productivity' book from someone who embraced productivity tools, got burned out, and tries to give some perspective on things that matter more than trying to make the most of every minute.","title":"Four Thousand Weeks, by Oliver Burkeman"},{"location":"books/2021/#november","text":"","title":"November"},{"location":"books/2021/#axiomatic-by-greg-egan","text":"A short story collection from one of my favourite hard-sci-fi writers. Excellent as always.","title":"Axiomatic, by Greg Egan"},{"location":"books/2021/#the-witcher-series-continued-by-andrzej-sapkowski","text":"Baptism of Fire The Tower of the Swallow Things are getting interesting now, with the Witcher assembling a rag-tag party to search for Ciri.","title":"The Witcher series (continued), by Andrzej Sapkowski"},{"location":"books/2021/#indica-by-pranay-lal","text":"I've longed to get a book like this: a natural history of India. The photos and illustrations are quite beautiful.","title":"Indica, by Pranay Lal"},{"location":"books/2021/#shards-of-earth-by-adrian-tchaikovsky","text":"I wanted a bit of epic science fiction and this is my first foray into this author's books. It is quite nice. Humanity and a bunch of aliens face up to a fearsome race of planet-destroying 'Architects'.","title":"Shards of Earth, by Adrian Tchaikovsky"},{"location":"books/2021/#october","text":"","title":"October"},{"location":"books/2021/#the-witcher-series-by-andrzej-sapkowski","text":"The Last Wish Sword of Destiny Blood of Elves Time of Contempt I got the entire Witcher series as an ebook collection, and got hooked right from the start. The first two were quite nice, as they were more of short-story collections. I have another four to go but plan to mix it up a bit next month.","title":"The Witcher series, by Andrzej Sapkowski"},{"location":"books/2021/#september","text":"","title":"September"},{"location":"books/2021/#pale-fire-by-vladimir-nabokov","text":"I re-read this book every year or so. This is probably my all-time favourite book.","title":"Pale Fire, by Vladimir Nabokov"},{"location":"books/2021/#the-authenticity-project-by-clare-pooley","text":"A farewell gift from my friends. Not usually the kind of book I read but interesting in its own way.","title":"The Authenticity Project, by Clare Pooley"},{"location":"books/2021/#august","text":"","title":"August"},{"location":"books/2021/#the-hero-with-a-thousand-faces-by-joseph-cambell","text":"A beautiful synthesis of several major world myths. If you like going down the TV Tropes rabbit hole, this is for you.","title":"The Hero with a Thousand Faces, by Joseph Cambell"},{"location":"books/2021/#civilization-by-niall-ferguson","text":"I suppose I'm not enough of an expert to comment, but the tendency to pigeon hole vast swathes of history into a few fixed theories seemed too forced to me.","title":"Civilization, by Niall Ferguson"},{"location":"books/2021/#hamlet-by-william-shakespeare","text":"I read the Penguin edition as part of a collection called Four Tragedies . The annotations are quite extensive and extremely useful to new readers. That apart, it's Shakespeare, of course it's great.","title":"Hamlet, by William Shakespeare"},{"location":"books/2021/#july","text":"","title":"July"},{"location":"books/2021/#the-letters-of-vincent-van-gogh-by-vincent-van-gogh","text":"My wife got this as a birthday gift. It is a tragic look at Van Gogh's suffering but passionate and all too brief life. The editor's notes before each section were quite helpful in setting the context. Before reading this, I saw Loving Vincent , a beautiful tribute to the same author. So I'd recommend folks to watch that movie first, and dive into the week if they crave more.","title":"The Letters of Vincent Van Gogh, by Vincent Van Gogh"},{"location":"books/2021/#the-checklist-manifesto-by-atul-gawande","text":"I'm been tweaking my productivity tools, and this seemed like a well-recommended book in that space. It is quite nice although a bit light. The summary is that in high pressure and critical jobs, experts usually look for corner-cases but quite often miss the basics. And a good checklist serves as a reminder for a group of people to coordinate tasks well.","title":"The Checklist Manifesto, by Atul Gawande"},{"location":"books/2021/#pomodoro-technique-illustrated-by-staffan-noteberg","text":"Continued my productivity investigation with this book. Again, a light, enjoyable read. I read the book using the Pomo technique itself and quite liked the approach. I have too many meetings at work these days to be able to use this as often as I'd like. But it seems like a nice way to pace your work without getting swamped by distractions.","title":"Pomodoro Technique Illustrated, by Staffan Noteberg"},{"location":"books/2021/#june","text":"","title":"June"},{"location":"books/2021/#thinking-fast-and-slow-by-daniel-kahnemann","text":"Did not have high expectations going in, as I was already aware that an entire chapter was essentially worthless due to the replication crisis that has proven that most research around priming has very little value. I find survey-based research rather depressing. The book time and again states that researchers have a poor understanding of statistics, and the subjects display a high variability in their answers based on trivial and unrelated conditions. But it then goes on to quote study after study as if it were fact. I've enjoyed other areas in non-fiction a lot more than this one and should probably stick to them.","title":"Thinking, Fast and Slow by Daniel Kahnemann"},{"location":"books/2021/#mistborn-the-final-empre-by-brandon-sanderson","text":"My first by the author. Thoroughly enjoyed it. Did not have too many of the usual fantasy tropes about heroes and destiny and so on.","title":"Mistborn: The Final Empre by Brandon Sanderson"},{"location":"books/2021/#all-systems-red-by-martha-wells","text":"Was a short science fiction piece I read for a change of pace. It had a decent cast and atmosphere.","title":"All Systems Red by Martha Wells"},{"location":"books/2021/#may","text":"","title":"May"},{"location":"books/2021/#assassins-apprentice-by-robin-hobb","text":"I wanted to read a good fantasy book and this was the one I picked. Very enjoyable read and seems worth committing to finish the trilogy.","title":"Assassin's Apprentice by Robin Hobb"},{"location":"books/2021/#the-pig-that-wants-to-be-eaten-by-julian-baggini","text":"Fun armchair philosophy thought experiments. There are a hundred of them, from age old paradoxes (Zeno) to funny insights that trigger a deeper train of thought (Douglas Adams). The fact that there are so many make this book harder to read in one sitting. Good in bite-sized chunks.","title":"The Pig That Wants to Be Eaten, by Julian Baggini"},{"location":"books/2021/#nexus-by-ramez-naam","text":"Wanted a switch from fantasy to science fiction so I tried this one out. It was alright.","title":"Nexus, by Ramez Naam"},{"location":"books/2021/#april","text":"","title":"April"},{"location":"books/2021/#the-brain-the-story-of-you-by-david-eagleman","text":"Felt like a short read that didn't go deep enough but this was a nice introduction to our current undertanding of how the brain functions. The author does a nice job of keep things interesting at a high level.","title":"The Brain: The Story of You, by David Eagleman"},{"location":"books/2021/#golden-gate-by-vikram-seth","text":"This is a technically brilliant book but ultimately dealt with themes outside my usual genres.","title":"Golden Gate, by Vikram Seth"},{"location":"books/2021/#haunted-by-chuck-palahniuk","text":"Ahh this one is not for the queasy. A collection of uncomfortable short stories about cynical wannabe authors stuck in a writers' retreat.","title":"Haunted, by Chuck Palahniuk"},{"location":"books/2021/#march","text":"","title":"March"},{"location":"books/2021/#myths-and-legends-of-ancient-greece-and-rome-by-e-m-berens","text":"After reading Stephen Fry\u2019s take on this genre, it was refreshing to read a more classic take. Highly recommended. I was fascinated by this kind of stuff when I was young. Is adulthood mostly us trying to recapture those days?","title":"Myths and Legends of Ancient Greece and Rome, by E. M. Berens"},{"location":"books/2021/#despair-by-vladimir-nabokov","text":"I wrote about it here .","title":"Despair, by Vladimir Nabokov"},{"location":"books/2021/#february","text":"This was a great month for books. I signed up for scribd (again) and went to my favourite book store (Blossoms) after nearly a year.","title":"February"},{"location":"books/2021/#the-enchanter-an-adventure-in-the-land-of-nabokov-by-lila-azam-zanganeh","text":"An exquisite love letter to Nabokov's works. Emulates his luminous, mad style very well.","title":"The Enchanter: An Adventure in the Land of Nabokov, by Lila Azam Zanganeh"},{"location":"books/2021/#fight-club-by-chuck-palahniuk","text":"Our great depression is our lives. Reread this. Immensely quotable book.","title":"Fight Club, by Chuck Palahniuk"},{"location":"books/2021/#seven-brief-lessons-on-physics-by-carlo-rovelli","text":"A light overview of physics. Does not go too deep so might be good for folks who are dipping their toes in this genre.","title":"Seven Brief Lessons on Physics, by Carlo Rovelli"},{"location":"books/2021/#goodbye-things-on-minimalist-living-by-fumio-sasaki","text":"A light look at the minimalist movement from a Japanese blogger.","title":"Goodbye, Things: On Minimalist Living, by Fumio Sasaki"},{"location":"books/2021/#blood-sweat-and-pixels-the-triumphant-turbulent-stories-behind-how-video-games-are-made-by-jason-schreier","text":"Somehow this was more forgiving than I expected, of the grind and hell folks in the videogame industry go through. The author hand waves it away as something people do out of sheer passion. I can understand that from the small indies working away for years on a tight budget, but I wonder if that holds true for the entire industry. Nevertheless this was an interesting peek behind the curtains of game companies small and large.","title":"Blood, Sweat, and Pixels: The Triumphant, Turbulent Stories Behind How Video Games Are Made, by Jason Schreier"},{"location":"books/2021/#range-why-generalists-triumph-in-a-specialized-world-by-david-epstein","text":"Well this was preaching to the choir as I consider myself a bit of a generalist. Most of the book quotes success stories, which makes for nice reading but I guess if you look for something you'll always find examples supporting your cause. The larger point is that we don't know what we want to do unless we try it, so the general recommendation is to sample widely and not be afraid to be a late bloomer.","title":"Range: Why Generalists Triumph in a Specialized World, by David Epstein"},{"location":"books/2021/#the-tangled-lands-by-paolo-bacigalupi-tobias-s-buckell","text":"Four short stories by the two authors, all centered around a world troubled by poisonous brambles that grow and spread whenever its people use magic. I've read and liked Baciagalupi's dystopian science fiction before.","title":"The Tangled Lands, by Paolo Bacigalupi, Tobias S. Buckell"},{"location":"books/2021/#january","text":"","title":"January"},{"location":"books/2021/#anabasis-by-xenophon","text":"\"Ah, Dedalus, the Greeks. I must teach you. You must read them in the original. Thalatta! Thalatta!\" -- Buck Mulligan in Joyce's Ulysses . \"Warriors, come out to play-i-ay.\" -- From the movie The Warriors . Well I didn't read it in the original Greek but I finally read this book. It's nice when you finally read something that has such a rich cultural history and you see all the influences it has had.","title":"Anabasis, by Xenophon"},{"location":"books/2022/","text":"\ud83d\udcda 2022 January A great way to start the year. I'm in Chennai and had nothing to do except read. Pride and Prejudice, by Jane Austen This is my first Austen. I tried to place close attention to the conversations and motivations of the characters, and imagine how a less skilled author would have done the same thing. The Witcher Series, by Andrzej Sapkowski The Lady of the Lake Season of Storms With these two, I've now read all the Witcher books. The Lady of the Lake was quite exquisite. The entire series was leading up to this one as all the stories converge to a set of brutal, poignant and unpredictable set of events. Highly recommended. The Season of Storms is an unrelated prequel that can be read by itself but has some spoilers about events in the last book. Ilium, Dan Simmons It's the Iliad, but with post-human Shakespeare-reading robots, meddling 'gods' and a human society that has lost all knowledge of its past. If that sounded fun, this book is for you. I tried to go in blind and enjoyed this. Unfortunately the story doesn't end here and there's one more book that continues (and hopefully concludes) things. Nausea, Jean-Paul Sartre A gloomy book about a lonely writer pondering his existence. Quite nice.","title":"\ud83d\udcda 2022"},{"location":"books/2022/#2022","text":"","title":"\ud83d\udcda 2022"},{"location":"books/2022/#january","text":"A great way to start the year. I'm in Chennai and had nothing to do except read.","title":"January"},{"location":"books/2022/#pride-and-prejudice-by-jane-austen","text":"This is my first Austen. I tried to place close attention to the conversations and motivations of the characters, and imagine how a less skilled author would have done the same thing.","title":"Pride and Prejudice, by Jane Austen"},{"location":"books/2022/#the-witcher-series-by-andrzej-sapkowski","text":"The Lady of the Lake Season of Storms With these two, I've now read all the Witcher books. The Lady of the Lake was quite exquisite. The entire series was leading up to this one as all the stories converge to a set of brutal, poignant and unpredictable set of events. Highly recommended. The Season of Storms is an unrelated prequel that can be read by itself but has some spoilers about events in the last book.","title":"The Witcher Series, by Andrzej Sapkowski"},{"location":"books/2022/#ilium-dan-simmons","text":"It's the Iliad, but with post-human Shakespeare-reading robots, meddling 'gods' and a human society that has lost all knowledge of its past. If that sounded fun, this book is for you. I tried to go in blind and enjoyed this. Unfortunately the story doesn't end here and there's one more book that continues (and hopefully concludes) things.","title":"Ilium, Dan Simmons"},{"location":"books/2022/#nausea-jean-paul-sartre","text":"A gloomy book about a lonely writer pondering his existence. Quite nice.","title":"Nausea, Jean-Paul Sartre"},{"location":"books/intro/","text":"\ud83d\udcc3 Oxford - A Very Short Introduction Series Here are my notes from reading the Oxford Very Short Introduction Series. Accounting Advertising Alexander the Great Anaeshesia","title":"\ud83d\udcc3 Oxford - A Very Short Introduction Series"},{"location":"books/intro/#oxford-a-very-short-introduction-series","text":"Here are my notes from reading the Oxford Very Short Introduction Series. Accounting Advertising Alexander the Great Anaeshesia","title":"\ud83d\udcc3 Oxford - A Very Short Introduction Series"},{"location":"books/intro/accounting/","text":"\ud83d\udcc3 Accounting Introduction Apparently, the need to keep accounting was a key driver in the invention of writing and numbers. Types of Accounting Book keeping - raw data collection. Almost always double-entry bookkeeping Financial accounting - Create reports about income statement, balance sheet, etc to see cash flows and profit and financial positiion of an entity. Auditing - Independent checks Management accounting - Internal use of accounting data to make decisions around prices, volumes of production, locations for expansion etc. Deloitte, Ernst and Young, KPMG, PwC are apparently the big four. Ownership Individual / Sole Trader - Fully liable for tax, debt, profit etc. Joint Owners / Partners - All partners are legally responsible for assets, tax etc. LLP - partial protection for partners from some liabilities. Company - full legal separation of owners from the business. Company has its own existence and ownership is determined by 'shares'. The 'shareholder' can transfer ownership by selling shares. Multinational companies, e.g. Nokia have a single Parent company that pays taxes, transacts business etc and is viewed as a legal entity. It has multiple subsidiaries in different countries. Each S is a legal entity that pays taxes locally and reports dividends upstream to P. International Evolution of Accounting Serious accounting (double entry) started in Italy (Luca Pacioli published a book in 1494 that is the earlier surviving textbook describing it). Spread to England eventually in 1800's. After the Wall Street Crash of 1929, the SEC was formed and accountability became critical. With globalization, accounting practices and reporting had to be similar for comparisons across countries to be valid. US uses GAAP (Generally Accepted Accounting Principles). Australia, Brazil, Canada and the EU have an IASB (International Accounting Standards Board) that models the IFRS standards (International Financial Reporting Standards). Question: What does India follow? Answer: IFRS The Fundamentals of Financial Accounting A Balance Sheet is officially called Statement of Financial Position by the IFRS. Good example here, on how initial investment, purchase of inventories, sale to customer and profit to owner etc are shown in balance sheet. The equation Assets0 = Equity0 + Liabilities0 Equity1 - Equity0 = Income0->1 - Expenses0->1 Assets1 = Equity1 + Liabilities1 I.e. Assets1 = Expenses0->1 = Equity0 + Income0->1 + Liabilities1 Or Assets - Liabilities = Equity = Net Assets However, some costs end up as Assets (e.g. Land) or Expenses (e.g. wages), so it's not always clear which bucket to put a cost into. Here an asset is a resource which has remaining future benefits at the period end. An expense is a resource that is used up in that period. So, for example, is money spent on Research and Advertising an Asset or an Expense? Approach followed can be to measure Asset (resources with remaining future benefits at the period end), and call everything else an Expense. Or measure all Expenses (everything used up in that period) and tag everything else as an Asset. Or mix of both approaches. Cash Flow Some transactions involve cash flowing in or out but no profit (e.g. buying inventory), while others involve profit but no flow (e.g. selling inventory with later payment). So we represent Operating and Investing and Financing as the 3 cash flows. Operating == buying inventory, paying wages, selling stuff Investing == buying property Financing == owner investing his money, bank giving loan Note Cash increasing does not imply profit (e.g. it could increase if we take a loan) Similarly cash decreasing is also not necessarily bad (e.g. buying long lasting equipment) Financial Reports of Listed Companies Companies follow GAAP or IFRS and publish annual reports. Here we will see the audited financial statements. They will provide: Balance sheet Income statement, in two parts Statement of changes in equity Cash flow statement Assets Definition : A resource controlled, as a result of a past transaction or event, when future benefit is expected. i.e. a company does not 'control' or 'own' a road, so the road is not its asset. It may lease some other company's and use it i.e. it controls it. Staff are not treated as assets because they cannot be 'controlled'. Assets can be : Tangible: property, plant, equipment Intangible: patents, licenses, software Financial: cash, receivables, shares in other companies, government bonds. And they can be: Non-current e.g. property Current e.g. this quarter's sales This helps assess future cash flows. An asset is represented in the balance sheet in onese ways: NRV: Net Realizable Value i.e. current selling price FV: Fair Value i.e. market price now. HC: Historical Cost i.e. original cost DCF: Discounted Cash Flows i.e. worth to the business. Apart from HC, rest are not easy to calculate or not relevant (FV is useless if there's no plan to sell the asset). So usually its represented on a cost basis i.e. market price of buying an inventory + taxes + transport + storage + labour and materials ==> cost of that inventory. Depreciation of asset also needs to be considered. Depreciation = (Cost - Residual Life) / Life Liabilities Definition : A present obligation, cause by a past event, expected to lead to future outflows. E.g amounts owed to banks, tax authorities etc. Those that are present. Therefore future wages are not liabilities. Things that need to paid in the distant future are adjusted through discounting to differentiate from more urgent payments. Interpreting numbers Profit alone not enough e.g. measure their sales as well. Also see their long term debt. And liquidity i.e. can they meet current obligations with current assets. Also how geared or leveraged are they, i.e. a heavily geated company is funded by a lot of debt and not equity capital. High gear == high risk. (since larger loans means more interest etc) Earning per share (EPS) = profit after tax / Number of shares issued Price earning (p/e) ratio : Market price per share / Earnings per share i.e. expensiveness of the share i.e confidence level of investors. High p/e ratio => high confidence in the company. Misleading accounts Window dressing: temporary trans to improve numbers Creative accounting: exploit loopholes, lack of clarity Off-balance-sheet finance: incur obligations but don't show them International Differences and Standardization IFRS vs GAAP Daimler-Benz and British Airways published earnings in both models and showed wildly different profit figures! Regulation and Audit Some stuff around the SEC, auditors, etc. Statements are prepared by directors and auditors cannot prepare or change them, they only publish a review. Stages of an audit: - Accepting and defining terms of engagement - Planning, risk assessment, level of materiality (i.e level of approximation that is acceptable) - Gathering evidence - Reporting to client and others Internal Decision-making: Costs and Volumes As a part of financial accounting, the following are produced: income statement, the balance sheet, the cash flow statement. ^ These are required by law. But management accounting (focus of this and next chapter) is around internal documents: costing reports, break-even reports, budgets. Accounting as Control Stuff around internal Planning, Motivation (bonuseslegation (budget to each team), Communication, Control (analyze and iterate), Evaluation. Come up with a balanced scorecard around 3 axes: Keeping customers happy Having good internal processes/objectives Achieving learning/growth Homework Download and Understand a few financial reports. Compare 2 companies. How leveraged is it? i.e. is money going to pay interest (i.e they've taken loans) or to pay owners How much is it borrowing i.e. more borrowing -> more future growth See satyam scan: initial disclosed reports and follow up reality.","title":"\ud83d\udcc3 Accounting"},{"location":"books/intro/accounting/#accounting","text":"","title":"\ud83d\udcc3 Accounting"},{"location":"books/intro/accounting/#introduction","text":"Apparently, the need to keep accounting was a key driver in the invention of writing and numbers.","title":"Introduction"},{"location":"books/intro/accounting/#types-of-accounting","text":"Book keeping - raw data collection. Almost always double-entry bookkeeping Financial accounting - Create reports about income statement, balance sheet, etc to see cash flows and profit and financial positiion of an entity. Auditing - Independent checks Management accounting - Internal use of accounting data to make decisions around prices, volumes of production, locations for expansion etc. Deloitte, Ernst and Young, KPMG, PwC are apparently the big four.","title":"Types of Accounting"},{"location":"books/intro/accounting/#ownership","text":"Individual / Sole Trader - Fully liable for tax, debt, profit etc. Joint Owners / Partners - All partners are legally responsible for assets, tax etc. LLP - partial protection for partners from some liabilities. Company - full legal separation of owners from the business. Company has its own existence and ownership is determined by 'shares'. The 'shareholder' can transfer ownership by selling shares. Multinational companies, e.g. Nokia have a single Parent company that pays taxes, transacts business etc and is viewed as a legal entity. It has multiple subsidiaries in different countries. Each S is a legal entity that pays taxes locally and reports dividends upstream to P.","title":"Ownership"},{"location":"books/intro/accounting/#international-evolution-of-accounting","text":"Serious accounting (double entry) started in Italy (Luca Pacioli published a book in 1494 that is the earlier surviving textbook describing it). Spread to England eventually in 1800's. After the Wall Street Crash of 1929, the SEC was formed and accountability became critical. With globalization, accounting practices and reporting had to be similar for comparisons across countries to be valid. US uses GAAP (Generally Accepted Accounting Principles). Australia, Brazil, Canada and the EU have an IASB (International Accounting Standards Board) that models the IFRS standards (International Financial Reporting Standards). Question: What does India follow? Answer: IFRS","title":"International Evolution of Accounting"},{"location":"books/intro/accounting/#the-fundamentals-of-financial-accounting","text":"A Balance Sheet is officially called Statement of Financial Position by the IFRS. Good example here, on how initial investment, purchase of inventories, sale to customer and profit to owner etc are shown in balance sheet.","title":"The Fundamentals of Financial Accounting"},{"location":"books/intro/accounting/#the-equation","text":"Assets0 = Equity0 + Liabilities0 Equity1 - Equity0 = Income0->1 - Expenses0->1 Assets1 = Equity1 + Liabilities1 I.e. Assets1 = Expenses0->1 = Equity0 + Income0->1 + Liabilities1 Or Assets - Liabilities = Equity = Net Assets However, some costs end up as Assets (e.g. Land) or Expenses (e.g. wages), so it's not always clear which bucket to put a cost into. Here an asset is a resource which has remaining future benefits at the period end. An expense is a resource that is used up in that period. So, for example, is money spent on Research and Advertising an Asset or an Expense? Approach followed can be to measure Asset (resources with remaining future benefits at the period end), and call everything else an Expense. Or measure all Expenses (everything used up in that period) and tag everything else as an Asset. Or mix of both approaches.","title":"The equation"},{"location":"books/intro/accounting/#cash-flow","text":"Some transactions involve cash flowing in or out but no profit (e.g. buying inventory), while others involve profit but no flow (e.g. selling inventory with later payment). So we represent Operating and Investing and Financing as the 3 cash flows. Operating == buying inventory, paying wages, selling stuff Investing == buying property Financing == owner investing his money, bank giving loan Note Cash increasing does not imply profit (e.g. it could increase if we take a loan) Similarly cash decreasing is also not necessarily bad (e.g. buying long lasting equipment)","title":"Cash Flow"},{"location":"books/intro/accounting/#financial-reports-of-listed-companies","text":"Companies follow GAAP or IFRS and publish annual reports. Here we will see the audited financial statements. They will provide: Balance sheet Income statement, in two parts Statement of changes in equity Cash flow statement","title":"Financial Reports of Listed Companies"},{"location":"books/intro/accounting/#assets","text":"Definition : A resource controlled, as a result of a past transaction or event, when future benefit is expected. i.e. a company does not 'control' or 'own' a road, so the road is not its asset. It may lease some other company's and use it i.e. it controls it. Staff are not treated as assets because they cannot be 'controlled'. Assets can be : Tangible: property, plant, equipment Intangible: patents, licenses, software Financial: cash, receivables, shares in other companies, government bonds. And they can be: Non-current e.g. property Current e.g. this quarter's sales This helps assess future cash flows. An asset is represented in the balance sheet in onese ways: NRV: Net Realizable Value i.e. current selling price FV: Fair Value i.e. market price now. HC: Historical Cost i.e. original cost DCF: Discounted Cash Flows i.e. worth to the business. Apart from HC, rest are not easy to calculate or not relevant (FV is useless if there's no plan to sell the asset). So usually its represented on a cost basis i.e. market price of buying an inventory + taxes + transport + storage + labour and materials ==> cost of that inventory. Depreciation of asset also needs to be considered. Depreciation = (Cost - Residual Life) / Life","title":"Assets"},{"location":"books/intro/accounting/#liabilities","text":"Definition : A present obligation, cause by a past event, expected to lead to future outflows. E.g amounts owed to banks, tax authorities etc. Those that are present. Therefore future wages are not liabilities. Things that need to paid in the distant future are adjusted through discounting to differentiate from more urgent payments.","title":"Liabilities"},{"location":"books/intro/accounting/#interpreting-numbers","text":"Profit alone not enough e.g. measure their sales as well. Also see their long term debt. And liquidity i.e. can they meet current obligations with current assets. Also how geared or leveraged are they, i.e. a heavily geated company is funded by a lot of debt and not equity capital. High gear == high risk. (since larger loans means more interest etc) Earning per share (EPS) = profit after tax / Number of shares issued Price earning (p/e) ratio : Market price per share / Earnings per share i.e. expensiveness of the share i.e confidence level of investors. High p/e ratio => high confidence in the company.","title":"Interpreting numbers"},{"location":"books/intro/accounting/#misleading-accounts","text":"Window dressing: temporary trans to improve numbers Creative accounting: exploit loopholes, lack of clarity Off-balance-sheet finance: incur obligations but don't show them","title":"Misleading accounts"},{"location":"books/intro/accounting/#international-differences-and-standardization","text":"IFRS vs GAAP Daimler-Benz and British Airways published earnings in both models and showed wildly different profit figures!","title":"International Differences and Standardization"},{"location":"books/intro/accounting/#regulation-and-audit","text":"Some stuff around the SEC, auditors, etc. Statements are prepared by directors and auditors cannot prepare or change them, they only publish a review. Stages of an audit: - Accepting and defining terms of engagement - Planning, risk assessment, level of materiality (i.e level of approximation that is acceptable) - Gathering evidence - Reporting to client and others","title":"Regulation and Audit"},{"location":"books/intro/accounting/#internal-decision-making-costs-and-volumes","text":"As a part of financial accounting, the following are produced: income statement, the balance sheet, the cash flow statement. ^ These are required by law. But management accounting (focus of this and next chapter) is around internal documents: costing reports, break-even reports, budgets.","title":"Internal Decision-making: Costs and Volumes"},{"location":"books/intro/accounting/#accounting-as-control","text":"Stuff around internal Planning, Motivation (bonuseslegation (budget to each team), Communication, Control (analyze and iterate), Evaluation. Come up with a balanced scorecard around 3 axes: Keeping customers happy Having good internal processes/objectives Achieving learning/growth","title":"Accounting as Control"},{"location":"books/intro/accounting/#homework","text":"Download and Understand a few financial reports. Compare 2 companies. How leveraged is it? i.e. is money going to pay interest (i.e they've taken loans) or to pay owners How much is it borrowing i.e. more borrowing -> more future growth See satyam scan: initial disclosed reports and follow up reality.","title":"Homework"},{"location":"books/intro/advertising/","text":"\ud83d\udcc3 Advertising Introduction I have a low impression of the advertising industry but it should be interesting to read an advocate's perspective. Lol the author blames policymakers for mandating content labels (this product is 90% sugar) over end result (it's tasty and you'll love eating it). Types Classifieds: ads which people look for; newspaper/internet Display: ads which look for people; intrusive by nature; newspaper/tv/radio/internet Advertising tripartite Advertisers e.g. soda companies. The ones who pay money to reach an audience. Media e.g. news channels, papers, radio stations. They have an ad arm that is hopefully independent of the content arm. Advertising agencies e.g. the people who create the ads. History and Ecosystem Media and agency split is apparently about 90/10% these days. Earlier there was a flat 15% cut to the advertising agencies, so they competed by providing 'full-service': direct mail marketing, door to door distribution, market research, press relations, trade exhibitions etc. For two reasons this changed: Their best practitioners left and started their own businesses. And the cost of providing 'full' service was loss making for the bigger clients. Media buying, which was not loss-making, was looked down upon by the 'creative' folks, so those specialists as well broke away from the big agencies, taking clients with them. Governments felt the 15% flat rate was anti-competitive. So the current ecosystem has the 'full-service' agencies, the 'creative agencies' and the 'media agencies' and 'planners' who bring all these together. Then there are the small shops that offer full services to survive, and the marketing services conglomerate who own all of these divisions throughout the world. So although commissions have reduced to 10%, the number of specialized divisions to talk to is more nowadays. Advertisers Is advertising mandatory ? Not at all. E.g. manufacturing companies, movie industries, etc either reach their customers directly or their customers focus more on the output than the brand (e.g. a movie can be successful without the audience knowing the publisher) \"I know half of all the money I spend on advertising is wasted, but I have no means of knowing which half.\" The Media Evaluation criteria: How many people can the medium reach in the target market? How much does it cost? How powerful or persuasive is the medium? Newspapers The cost per thousand readers is the key for newspaper ads. Factors are colour versus black and white, large versus small, positioning etc. Consumer magazines General interest and women's magazines Special interest / hobby magazines Main difference over newspapers is their longevity. So more readers per copy. Trade journals and directories Low profile. Specific target markets. e.g. dentists. Television Cost per thousand viewers again the metric. Apparently television viewership has not fallen because of the internet (I wonder how popular Netflix, Prime Video etc were at the time this book was published). Minor Media Remaining 20% of total advertising. Direct mail, outdoor (hoardings) and transport, radio cinema etc. The Internet I know enough of this to know its a cesspool. The Creative Agencies Not about the message you send, but what the audience takes away. After Television, the copy/art team raised the status of the visualizer, not just the copywriter who was the idea person. Media Agencies No surprises. Considerationsa around medium, budget, market etc. Research, Research, Research On claims that advertising \"manipulates human motivation and desires and develops a need for goods.. \", the author conveniently claims that the claims of researchers - and advertising people - are boastful and self-serving. The examples that follow to substantiate this claim are around media frenzies around subliminal advertising. This might have been an interesting area to go deeper, as advertising would be fairly useless if it didn't manipulate human motivation. So the flippant answer seems to be too hasty. The good, the bad, and the ugly The author seems to think that health warnings and advertising bans did not reduce cigarette consumption, and only increasing costs and bans on public smoking did. The Role of Advertising in Society This should be interesting. The chapter starts by asking if advertising is a moral activity. Here are apparently the reasons why it is (my comments are in braces like these): Provides employment by driving demand. (lol ok if driving the monstrous Capitalist machinery is a net good) Provides broadcast media for free (or at subsidized costs). Content on internet is free because of advertising. (content on the internet was free for decades before advertising models came there so debatable again). Provides society with a free and independent press. (fair point, things would certainly be more expensive without ad revenue). Helps national creativity (I'd rather experience a better outlet for creativity personally, like a good book, movie or song rather than an ad jingle). Helps the public: Better information leads to improved products. (I don't see how this ties much to ads: it's the medium that gives that fast and universal access. Why trust an advertiser to give an honest assessment of their product against the competition??) Everyone needs to be reminded about what products they like (seriously?!) Closing thoughts You'd expect a book about advertising to be persuasive and effective in convincing you that it is worthy of existence. This book did not succeed in changing my view. I still view it as a cancer inflicted on society.","title":"\ud83d\udcc3 Advertising"},{"location":"books/intro/advertising/#advertising","text":"","title":"\ud83d\udcc3 Advertising"},{"location":"books/intro/advertising/#introduction","text":"I have a low impression of the advertising industry but it should be interesting to read an advocate's perspective. Lol the author blames policymakers for mandating content labels (this product is 90% sugar) over end result (it's tasty and you'll love eating it).","title":"Introduction"},{"location":"books/intro/advertising/#types","text":"Classifieds: ads which people look for; newspaper/internet Display: ads which look for people; intrusive by nature; newspaper/tv/radio/internet","title":"Types"},{"location":"books/intro/advertising/#advertising-tripartite","text":"Advertisers e.g. soda companies. The ones who pay money to reach an audience. Media e.g. news channels, papers, radio stations. They have an ad arm that is hopefully independent of the content arm. Advertising agencies e.g. the people who create the ads.","title":"Advertising tripartite"},{"location":"books/intro/advertising/#history-and-ecosystem","text":"Media and agency split is apparently about 90/10% these days. Earlier there was a flat 15% cut to the advertising agencies, so they competed by providing 'full-service': direct mail marketing, door to door distribution, market research, press relations, trade exhibitions etc. For two reasons this changed: Their best practitioners left and started their own businesses. And the cost of providing 'full' service was loss making for the bigger clients. Media buying, which was not loss-making, was looked down upon by the 'creative' folks, so those specialists as well broke away from the big agencies, taking clients with them. Governments felt the 15% flat rate was anti-competitive. So the current ecosystem has the 'full-service' agencies, the 'creative agencies' and the 'media agencies' and 'planners' who bring all these together. Then there are the small shops that offer full services to survive, and the marketing services conglomerate who own all of these divisions throughout the world. So although commissions have reduced to 10%, the number of specialized divisions to talk to is more nowadays.","title":"History and Ecosystem"},{"location":"books/intro/advertising/#advertisers","text":"Is advertising mandatory ? Not at all. E.g. manufacturing companies, movie industries, etc either reach their customers directly or their customers focus more on the output than the brand (e.g. a movie can be successful without the audience knowing the publisher) \"I know half of all the money I spend on advertising is wasted, but I have no means of knowing which half.\"","title":"Advertisers"},{"location":"books/intro/advertising/#the-media","text":"Evaluation criteria: How many people can the medium reach in the target market? How much does it cost? How powerful or persuasive is the medium?","title":"The Media"},{"location":"books/intro/advertising/#newspapers","text":"The cost per thousand readers is the key for newspaper ads. Factors are colour versus black and white, large versus small, positioning etc.","title":"Newspapers"},{"location":"books/intro/advertising/#consumer-magazines","text":"General interest and women's magazines Special interest / hobby magazines Main difference over newspapers is their longevity. So more readers per copy.","title":"Consumer magazines"},{"location":"books/intro/advertising/#trade-journals-and-directories","text":"Low profile. Specific target markets. e.g. dentists.","title":"Trade journals and directories"},{"location":"books/intro/advertising/#television","text":"Cost per thousand viewers again the metric. Apparently television viewership has not fallen because of the internet (I wonder how popular Netflix, Prime Video etc were at the time this book was published).","title":"Television"},{"location":"books/intro/advertising/#minor-media","text":"Remaining 20% of total advertising. Direct mail, outdoor (hoardings) and transport, radio cinema etc.","title":"Minor Media"},{"location":"books/intro/advertising/#the-internet","text":"I know enough of this to know its a cesspool.","title":"The Internet"},{"location":"books/intro/advertising/#the-creative-agencies","text":"Not about the message you send, but what the audience takes away. After Television, the copy/art team raised the status of the visualizer, not just the copywriter who was the idea person.","title":"The Creative Agencies"},{"location":"books/intro/advertising/#media-agencies","text":"No surprises. Considerationsa around medium, budget, market etc.","title":"Media Agencies"},{"location":"books/intro/advertising/#research-research-research","text":"On claims that advertising \"manipulates human motivation and desires and develops a need for goods.. \", the author conveniently claims that the claims of researchers - and advertising people - are boastful and self-serving. The examples that follow to substantiate this claim are around media frenzies around subliminal advertising. This might have been an interesting area to go deeper, as advertising would be fairly useless if it didn't manipulate human motivation. So the flippant answer seems to be too hasty.","title":"Research, Research, Research"},{"location":"books/intro/advertising/#the-good-the-bad-and-the-ugly","text":"The author seems to think that health warnings and advertising bans did not reduce cigarette consumption, and only increasing costs and bans on public smoking did.","title":"The good, the bad, and the ugly"},{"location":"books/intro/advertising/#the-role-of-advertising-in-society","text":"This should be interesting. The chapter starts by asking if advertising is a moral activity. Here are apparently the reasons why it is (my comments are in braces like these): Provides employment by driving demand. (lol ok if driving the monstrous Capitalist machinery is a net good) Provides broadcast media for free (or at subsidized costs). Content on internet is free because of advertising. (content on the internet was free for decades before advertising models came there so debatable again). Provides society with a free and independent press. (fair point, things would certainly be more expensive without ad revenue). Helps national creativity (I'd rather experience a better outlet for creativity personally, like a good book, movie or song rather than an ad jingle). Helps the public: Better information leads to improved products. (I don't see how this ties much to ads: it's the medium that gives that fast and universal access. Why trust an advertiser to give an honest assessment of their product against the competition??) Everyone needs to be reminded about what products they like (seriously?!)","title":"The Role of Advertising in Society"},{"location":"books/intro/advertising/#closing-thoughts","text":"You'd expect a book about advertising to be persuasive and effective in convincing you that it is worthy of existence. This book did not succeed in changing my view. I still view it as a cancer inflicted on society.","title":"Closing thoughts"},{"location":"books/intro/alexander/","text":"\ud83d\udcc3 Alexander the Great Introduction Born in 356 BCE, king of Macedon from 336 to his death in 323. Sources People used to maintain Astronomical Diaries to monitor positions of planets, and unusual phenomena like comets and eclipses. Some of them were seen as omens and used to decide how to protect the king. They are good texts that chronicle his deeds. Later accounts lionize him as they were meant to serve as inspiration for their audience: the Roman elite. So they are not very reliable even if there are multiple accounts of the same story. Coins printed with his portrait during his reign depict him with ram's horns, indicating he was the son of the Egyptian God Amun. Before Alexander A Persian King, Darius I, around 513 BCE, led an army from Asia to Europe and established his territories there. Macedonia was given to Amyntas, who was succeeded by Alexander I. In the meantime Darius was succeeded by his son Xerxes. Alexander's great-great-great-grandson was Alexander III aka Alexander the Great. The Achaemenid empire was established by Cyrus the Great, and passed on eventually to a distant relative Darius through a coup. The kings led a nomadic life, traveling from one camp to another throughout the year, partly for war and partly to be in cooler climates. The Achaemenid empire's peak was under Xerxes when most of northern and central Greece - including Athens - was conquered in 480. His fleet was defeated soon and his army driven back to Asia. An Athenian-led alliance slowly took control back. Then Persians again took control of the east Aegean coast. Increasing distrust between the Greek cities eventually led to the Peloponnesian War between Athens and Sparta and their allies (431-404), with both sides trying to win support of the Persian kings Artaxerxes and Darius II. Cyrus helped the Spartans with naval power forcing the Athenians to surrender. So the Spartans in return gave up the Greek cities on the Asian mainland to Persia. After Darius II, relations broke down again. The Athenian writer Xenophon describes this in his Anabasis . Artaxerxes finally established a King's peace there. Meanwhile in Macedon, Amyntas was succeeded by Alexander I. Kings were polygamous so they had a lot of heirs, leading to a period of instability whenever a king died. So his successor Perdiccas II took years to establish his power. A few kings later the throne came to Philip II, ALexander the Great's father. Philip II transformed Macedonia's fortunes with diplomacy, military reorganization and skilled generalship. Eventually all the Greek cities except Sparta swore allegiance to him, establishing the League of Corinth. Philip next declared war on Persia. Prince: Alexander in the Macedonian Court Alexander was born in July 356. One of his historians, Plutarch, says he was educated by Aristotle. A lot of mythical stories around his birth and childhood have come up. He was attached to his horse Bucephalas. He was attending the wedding of his sister Cleopatra to his uncle, Alexander of Epirus. His father Philip was assassinated there, the reasons are still unclear. So it came to him to seek revenge against the Persians for the destruction they'd caused earlier. Warrior: Alexander's Army Alexander dealt with uprisings in areas close to Macedonia, and later with Thebes. He then crossed into Asia and fought the Persians in 3 major battles. Then Porus. Then a bunch of cities on the west coast of Anatolia and the Levant. And a long insurgency in Afghanistan, and Pakistan. The army was made up of: Cavalrymen with lances, The Macedonian phalanx, armed with pikes, Flanked by soldiers with swords, spears and round shields, Light-armed trooops with javelins, bows and slings. A large number of camp-followers, attendants, slaves, hangers-on etc. were also present, pretty much outnumbering the soliders. A siege train comprising catapults, battering rams, siege towers (that were dismantled and loaded into carts), also followed the main army. Commander: Alexander and the Greeks Would-be Greek leaders often looked to opposing kings (Philip, the Persians) for political funding. Rivalries and infghting often led to exiles. Philip II defeated Thebes and Athens. He exiled the Theban politicians and garrisoned the city but Athens was left in peace. So they allied with him. A more formalized agreement was then made, known as the League of Corinth . This was a campaign led by Philip (the hegemon ) against Persia. After his death, Alexader renewed the alliance but Thebes revolted. As punishment for the rebellion, Alexander attacked them. They were completely destroyed.. Sparta was the only city outside of these happenings. They were not part of the League and had lost a lot of territory and dominance. They chose to side with Darius instead. Athens was Alexander's favoured city. The politicians were divided in their support of Alexander. Exiles One of Alexander's acts was to order the cities to take back their exiles. This was a bit problematic as individuals were not allowed to own land in cities that they didn't belong to. So exiles had to find other ways of supporting themselves, e.g. fight as a hoplite or cavalryman. When Alexander returned to Greece and disbanded his army, these were the ones who needed somewhere to go, hence the order to allow them back to their cities. This order challenged the autonomy of the cities that had enforced these exiles initially. Exiles had to be accommodated alongside other citizens who had taken over their lands, and disputes arose. Pharaoh: Alexander and Egypt With Greece sorted out, Alexander now came to Egypt in late 332. Egypt had gone through quite a bit of churn, with multiple transfer of power. Two events that happened in Alexander's time there are: The foundation of the city of Alexandria his visit to the oracle of Amun at Siwa Alexandria Through trade, had become the largest city in the world at that time. Joined the Mediterranean world to the East. The Library gathered all of Greek literature. After Alexander's death, Ptolemy took control of Egypt and proclaimed himself King. He used Memphis as his capital though. He and his successors made Alexandria the cultural hub that it's famous for, not Alexander. Also, Alexander founded many other cities called Alexandria during his conquests. So overall it is not very clear that he had very large plans for the famous one in Egypt. Stories of omens surrounding the City's foundations are probably whitewashing by future rulers to associate the city with Alexander. The Oracle of Amun Apparently a turning point in Alexander's perception of himself. At major festivals, the image of the God would be carried by eight priests and people could ask questions. The image swaying would indicate an answer. Or they'd keep two pieces of paper in front and the image swaying towards one of them would indicate that decision. Amun / Ammon / Zeus Ammon. Depicted as a man with a ram's horns. Greek narratives tended to have a spoken exchange between the enquirer and priest (e.g. the Oracle at Delphi), and this makes for a better story than swaying idols. So past writers have written accounts where Alexander asked questions about (a) his father's murders being punished and (b) whether he'd rule the world. The response was that his father could not be harmed by mortals (i.e. he had divine parentage) but Philip's death had been avenged. And yes he would go on to rule the world. Pharoah Alexander Memphis was the administrative center of Egypt. Alexander traveled to several cities across the kingdom where the allies renewed their alliance with him. His travel concluded at Memphis where he was crowned as the Pharaoah. Greek authors apparently skim past this, as their narrative was more around Alexander's gradual corruption and adoption of 'barbarian' practices. The Egypt bit seems to be too early for that plot. King of the World: Alexander and Persia At Gordium, the old capital of Phrygia, is where the Gordian Knot story happens. Whoever could undo a knot connecting a cart to a yoke it would be the King of the World. He fulfilled the prophecy by cutting it (in other tellings, he pulls a peg that held the knot together). Susa Alexander started adopting Persian clothes and customs around this time, which disturbed his Macedonian companions. There is a possibility he saw himself as Darius's successor, and wanted to move his capital from Maceondia to Susa and Babylon. The Burning of Persepolis The palace of Persepolis had been built by Darius and Xerxes. Alexander had it burned as symbolic revenge for their attacks on Athens. Dressing as a Persian Similar to how he adopted Egyptian customs and the role of Pharoah, he started doing the same in Persia as well. Moralists claim that this was where his decline started. Depending on how you read, they either say that his companions were suspicious and hostile towards this, or that the companions were getting into luxurious living while Alexander was the one practising frugality and self control. Court Ceremonial There is some controversy around whether or not he expected people to prostrate themselves in his presence, an act that historians claimed normal in Persian courts (it was not; it was only required of defeated enemies). Alexander's Queens Marriage was used as a means to maintain friendly relations with neighboring kingdoms. His first wife Rhoxane had his next 2 wives killed soon after Alexander's death, to protect the claim to throne of her unborn child. Traveller: Alexander in Afghanistan and Pakistan He spent five years starting 330 on a new campaign. Most preachy historians of the time dwell on this period. This was also the point where his soldiers refused to go further on. Alexander's plan in Afghanistan was to defeat Darius III. But the latter was killed by his general Bessus, so Alexander claimed that, as king, he was avenging Darius's death instead. There are multiple stories around Alexander crossing the river Jaxartes. He married Rhoxane in this camppaign, which consolidated his control of the region. To the Indus Valley From Afghanistan he now went to the Hindu Kush into what is now Pakistan. Four tributaries flowing into the Indus from the Himalayas were controlled by a number of rival Indian princes. Rather than appointing satraps here, he confirmed those princes if they accepted his authority. One ruler, Taxiles, accepted. His neighbour, Porus, did not. Alexander defeated Porus in a major battle. Turning back He continued eastwards. On the banks of the Hyphasis, his soldiers refused to continue. Alexander shut himself in his tent and refused to come out. He then claimed he'd go alone, but the soldiers didn't relent. Finally he submitted to their will and turned back. Current historians think this is apocryphal too, like a lot of the stories around Alexander. He next turned south towards the ocean rather than turnin back the same way he came. To the Ocean No texts from India survive, so we're stuck with the unreliable Alexander historians again. He faced fierce resistance in Punjab. Chandragupta Maurya visited him here, and would take over most of India after Alexander left. The Gedrosian Desert His final campaign, notorious and misunderstood. He wanted a naval route to reach Mesopotamia from Afghanistan. But for this the fleet that he had readied should have been supplied as it sailed along the inhospitable Iranian coast. This was why he led his land force through the region of Gedrosia in southern Iran on his way from the Indus back to Pasargadae. This would make sure fresh water, supplies and grains were available to the fleet as it followed. The stories here tell of Alexander losing most of his army in the arduous desert journey. Doomed to die: Alexander in Babylon Final chapter of his life. The scholars who produced astronomical diaries were also chroniclers of the kings. So we have good records of the events without the moral commentary. Eight years earlier, in September 331, there had been a lunar eclipse that foretold that the king would die, his son would not succeed him, and the new ruler would come from the west and rule for eight years. Darius indeed did die, and Alexander succeeded him. And those eight years were up. A few months before he entered, there was a lunar and solar eclipse, again a bad omen, that the King of the World would die. Death At the age of 32, he caught a fever and spent the last few days of his life lying on his couch, mainly conducting the religious rituals required of him as a king. Later on, stories circulated about him being poisoned, most likely to damage the reputation of the accused. Another story is about his last words. Some report that he lost his speech in the last few days of his life. But the story is that when asked to whom he wanted to leave the kingdom, he apparently said, \"to the strongest.\" There was in-fighting in the next few decades to control his empire or carve out parts of it. His body was sent back to Macedonia but intercepted by Ptolemy in Egypt to legitimize his rule. After Alexander Caesar was often compared to Alexander. The Senate voted to put up a statute of him titled 'The invincible god'. Similar to a supposed letter written by Aristotle to Alexander, Cicero attempted to caution Caesar. So story tellers / historians liked to portray Alexander's journey as a descent into tyranny. As Rome went from one king to another, portrayals of Alexander changed accordingly. Under Caligula's rule he was portrayed negatively; under Hadrian and Trajan, positively. In medieval times, stories around Alexander became more fanciful. More scrutiny happened in the Enlightement Age with new translations and editions. His 'civilizing mission' was used to justify British rule in India, and events in America led to publications that showed the dangers of democracy and the superiority of constitutional monarchy. Basically he has taken a role of hero or villain based on the narrative the historians of that time wanted to create.","title":"\ud83d\udcc3 Alexander the Great"},{"location":"books/intro/alexander/#alexander-the-great","text":"","title":"\ud83d\udcc3 Alexander the Great"},{"location":"books/intro/alexander/#introduction","text":"Born in 356 BCE, king of Macedon from 336 to his death in 323.","title":"Introduction"},{"location":"books/intro/alexander/#sources","text":"People used to maintain Astronomical Diaries to monitor positions of planets, and unusual phenomena like comets and eclipses. Some of them were seen as omens and used to decide how to protect the king. They are good texts that chronicle his deeds. Later accounts lionize him as they were meant to serve as inspiration for their audience: the Roman elite. So they are not very reliable even if there are multiple accounts of the same story. Coins printed with his portrait during his reign depict him with ram's horns, indicating he was the son of the Egyptian God Amun.","title":"Sources"},{"location":"books/intro/alexander/#before-alexander","text":"A Persian King, Darius I, around 513 BCE, led an army from Asia to Europe and established his territories there. Macedonia was given to Amyntas, who was succeeded by Alexander I. In the meantime Darius was succeeded by his son Xerxes. Alexander's great-great-great-grandson was Alexander III aka Alexander the Great. The Achaemenid empire was established by Cyrus the Great, and passed on eventually to a distant relative Darius through a coup. The kings led a nomadic life, traveling from one camp to another throughout the year, partly for war and partly to be in cooler climates. The Achaemenid empire's peak was under Xerxes when most of northern and central Greece - including Athens - was conquered in 480. His fleet was defeated soon and his army driven back to Asia. An Athenian-led alliance slowly took control back. Then Persians again took control of the east Aegean coast. Increasing distrust between the Greek cities eventually led to the Peloponnesian War between Athens and Sparta and their allies (431-404), with both sides trying to win support of the Persian kings Artaxerxes and Darius II. Cyrus helped the Spartans with naval power forcing the Athenians to surrender. So the Spartans in return gave up the Greek cities on the Asian mainland to Persia. After Darius II, relations broke down again. The Athenian writer Xenophon describes this in his Anabasis . Artaxerxes finally established a King's peace there. Meanwhile in Macedon, Amyntas was succeeded by Alexander I. Kings were polygamous so they had a lot of heirs, leading to a period of instability whenever a king died. So his successor Perdiccas II took years to establish his power. A few kings later the throne came to Philip II, ALexander the Great's father. Philip II transformed Macedonia's fortunes with diplomacy, military reorganization and skilled generalship. Eventually all the Greek cities except Sparta swore allegiance to him, establishing the League of Corinth. Philip next declared war on Persia.","title":"Before Alexander"},{"location":"books/intro/alexander/#prince-alexander-in-the-macedonian-court","text":"Alexander was born in July 356. One of his historians, Plutarch, says he was educated by Aristotle. A lot of mythical stories around his birth and childhood have come up. He was attached to his horse Bucephalas. He was attending the wedding of his sister Cleopatra to his uncle, Alexander of Epirus. His father Philip was assassinated there, the reasons are still unclear. So it came to him to seek revenge against the Persians for the destruction they'd caused earlier.","title":"Prince: Alexander in the Macedonian Court"},{"location":"books/intro/alexander/#warrior-alexanders-army","text":"Alexander dealt with uprisings in areas close to Macedonia, and later with Thebes. He then crossed into Asia and fought the Persians in 3 major battles. Then Porus. Then a bunch of cities on the west coast of Anatolia and the Levant. And a long insurgency in Afghanistan, and Pakistan. The army was made up of: Cavalrymen with lances, The Macedonian phalanx, armed with pikes, Flanked by soldiers with swords, spears and round shields, Light-armed trooops with javelins, bows and slings. A large number of camp-followers, attendants, slaves, hangers-on etc. were also present, pretty much outnumbering the soliders. A siege train comprising catapults, battering rams, siege towers (that were dismantled and loaded into carts), also followed the main army.","title":"Warrior: Alexander's Army"},{"location":"books/intro/alexander/#commander-alexander-and-the-greeks","text":"Would-be Greek leaders often looked to opposing kings (Philip, the Persians) for political funding. Rivalries and infghting often led to exiles. Philip II defeated Thebes and Athens. He exiled the Theban politicians and garrisoned the city but Athens was left in peace. So they allied with him. A more formalized agreement was then made, known as the League of Corinth . This was a campaign led by Philip (the hegemon ) against Persia. After his death, Alexader renewed the alliance but Thebes revolted. As punishment for the rebellion, Alexander attacked them. They were completely destroyed.. Sparta was the only city outside of these happenings. They were not part of the League and had lost a lot of territory and dominance. They chose to side with Darius instead. Athens was Alexander's favoured city. The politicians were divided in their support of Alexander.","title":"Commander: Alexander and the Greeks"},{"location":"books/intro/alexander/#exiles","text":"One of Alexander's acts was to order the cities to take back their exiles. This was a bit problematic as individuals were not allowed to own land in cities that they didn't belong to. So exiles had to find other ways of supporting themselves, e.g. fight as a hoplite or cavalryman. When Alexander returned to Greece and disbanded his army, these were the ones who needed somewhere to go, hence the order to allow them back to their cities. This order challenged the autonomy of the cities that had enforced these exiles initially. Exiles had to be accommodated alongside other citizens who had taken over their lands, and disputes arose.","title":"Exiles"},{"location":"books/intro/alexander/#pharaoh-alexander-and-egypt","text":"With Greece sorted out, Alexander now came to Egypt in late 332. Egypt had gone through quite a bit of churn, with multiple transfer of power. Two events that happened in Alexander's time there are: The foundation of the city of Alexandria his visit to the oracle of Amun at Siwa","title":"Pharaoh: Alexander and Egypt"},{"location":"books/intro/alexander/#alexandria","text":"Through trade, had become the largest city in the world at that time. Joined the Mediterranean world to the East. The Library gathered all of Greek literature. After Alexander's death, Ptolemy took control of Egypt and proclaimed himself King. He used Memphis as his capital though. He and his successors made Alexandria the cultural hub that it's famous for, not Alexander. Also, Alexander founded many other cities called Alexandria during his conquests. So overall it is not very clear that he had very large plans for the famous one in Egypt. Stories of omens surrounding the City's foundations are probably whitewashing by future rulers to associate the city with Alexander.","title":"Alexandria"},{"location":"books/intro/alexander/#the-oracle-of-amun","text":"Apparently a turning point in Alexander's perception of himself. At major festivals, the image of the God would be carried by eight priests and people could ask questions. The image swaying would indicate an answer. Or they'd keep two pieces of paper in front and the image swaying towards one of them would indicate that decision. Amun / Ammon / Zeus Ammon. Depicted as a man with a ram's horns. Greek narratives tended to have a spoken exchange between the enquirer and priest (e.g. the Oracle at Delphi), and this makes for a better story than swaying idols. So past writers have written accounts where Alexander asked questions about (a) his father's murders being punished and (b) whether he'd rule the world. The response was that his father could not be harmed by mortals (i.e. he had divine parentage) but Philip's death had been avenged. And yes he would go on to rule the world.","title":"The Oracle of Amun"},{"location":"books/intro/alexander/#pharoah-alexander","text":"Memphis was the administrative center of Egypt. Alexander traveled to several cities across the kingdom where the allies renewed their alliance with him. His travel concluded at Memphis where he was crowned as the Pharaoah. Greek authors apparently skim past this, as their narrative was more around Alexander's gradual corruption and adoption of 'barbarian' practices. The Egypt bit seems to be too early for that plot.","title":"Pharoah Alexander"},{"location":"books/intro/alexander/#king-of-the-world-alexander-and-persia","text":"At Gordium, the old capital of Phrygia, is where the Gordian Knot story happens. Whoever could undo a knot connecting a cart to a yoke it would be the King of the World. He fulfilled the prophecy by cutting it (in other tellings, he pulls a peg that held the knot together).","title":"King of the World: Alexander and Persia"},{"location":"books/intro/alexander/#susa","text":"Alexander started adopting Persian clothes and customs around this time, which disturbed his Macedonian companions. There is a possibility he saw himself as Darius's successor, and wanted to move his capital from Maceondia to Susa and Babylon.","title":"Susa"},{"location":"books/intro/alexander/#the-burning-of-persepolis","text":"The palace of Persepolis had been built by Darius and Xerxes. Alexander had it burned as symbolic revenge for their attacks on Athens.","title":"The Burning of Persepolis"},{"location":"books/intro/alexander/#dressing-as-a-persian","text":"Similar to how he adopted Egyptian customs and the role of Pharoah, he started doing the same in Persia as well. Moralists claim that this was where his decline started. Depending on how you read, they either say that his companions were suspicious and hostile towards this, or that the companions were getting into luxurious living while Alexander was the one practising frugality and self control.","title":"Dressing as a Persian"},{"location":"books/intro/alexander/#court-ceremonial","text":"There is some controversy around whether or not he expected people to prostrate themselves in his presence, an act that historians claimed normal in Persian courts (it was not; it was only required of defeated enemies).","title":"Court Ceremonial"},{"location":"books/intro/alexander/#alexanders-queens","text":"Marriage was used as a means to maintain friendly relations with neighboring kingdoms. His first wife Rhoxane had his next 2 wives killed soon after Alexander's death, to protect the claim to throne of her unborn child.","title":"Alexander's Queens"},{"location":"books/intro/alexander/#traveller-alexander-in-afghanistan-and-pakistan","text":"He spent five years starting 330 on a new campaign. Most preachy historians of the time dwell on this period. This was also the point where his soldiers refused to go further on. Alexander's plan in Afghanistan was to defeat Darius III. But the latter was killed by his general Bessus, so Alexander claimed that, as king, he was avenging Darius's death instead. There are multiple stories around Alexander crossing the river Jaxartes. He married Rhoxane in this camppaign, which consolidated his control of the region.","title":"Traveller: Alexander in Afghanistan and Pakistan"},{"location":"books/intro/alexander/#to-the-indus-valley","text":"From Afghanistan he now went to the Hindu Kush into what is now Pakistan. Four tributaries flowing into the Indus from the Himalayas were controlled by a number of rival Indian princes. Rather than appointing satraps here, he confirmed those princes if they accepted his authority. One ruler, Taxiles, accepted. His neighbour, Porus, did not. Alexander defeated Porus in a major battle.","title":"To the Indus Valley"},{"location":"books/intro/alexander/#turning-back","text":"He continued eastwards. On the banks of the Hyphasis, his soldiers refused to continue. Alexander shut himself in his tent and refused to come out. He then claimed he'd go alone, but the soldiers didn't relent. Finally he submitted to their will and turned back. Current historians think this is apocryphal too, like a lot of the stories around Alexander. He next turned south towards the ocean rather than turnin back the same way he came.","title":"Turning back"},{"location":"books/intro/alexander/#to-the-ocean","text":"No texts from India survive, so we're stuck with the unreliable Alexander historians again. He faced fierce resistance in Punjab. Chandragupta Maurya visited him here, and would take over most of India after Alexander left.","title":"To the Ocean"},{"location":"books/intro/alexander/#the-gedrosian-desert","text":"His final campaign, notorious and misunderstood. He wanted a naval route to reach Mesopotamia from Afghanistan. But for this the fleet that he had readied should have been supplied as it sailed along the inhospitable Iranian coast. This was why he led his land force through the region of Gedrosia in southern Iran on his way from the Indus back to Pasargadae. This would make sure fresh water, supplies and grains were available to the fleet as it followed. The stories here tell of Alexander losing most of his army in the arduous desert journey.","title":"The Gedrosian Desert"},{"location":"books/intro/alexander/#doomed-to-die-alexander-in-babylon","text":"Final chapter of his life. The scholars who produced astronomical diaries were also chroniclers of the kings. So we have good records of the events without the moral commentary. Eight years earlier, in September 331, there had been a lunar eclipse that foretold that the king would die, his son would not succeed him, and the new ruler would come from the west and rule for eight years. Darius indeed did die, and Alexander succeeded him. And those eight years were up. A few months before he entered, there was a lunar and solar eclipse, again a bad omen, that the King of the World would die.","title":"Doomed to die: Alexander in Babylon"},{"location":"books/intro/alexander/#death","text":"At the age of 32, he caught a fever and spent the last few days of his life lying on his couch, mainly conducting the religious rituals required of him as a king. Later on, stories circulated about him being poisoned, most likely to damage the reputation of the accused. Another story is about his last words. Some report that he lost his speech in the last few days of his life. But the story is that when asked to whom he wanted to leave the kingdom, he apparently said, \"to the strongest.\" There was in-fighting in the next few decades to control his empire or carve out parts of it. His body was sent back to Macedonia but intercepted by Ptolemy in Egypt to legitimize his rule.","title":"Death"},{"location":"books/intro/alexander/#after-alexander","text":"Caesar was often compared to Alexander. The Senate voted to put up a statute of him titled 'The invincible god'. Similar to a supposed letter written by Aristotle to Alexander, Cicero attempted to caution Caesar. So story tellers / historians liked to portray Alexander's journey as a descent into tyranny. As Rome went from one king to another, portrayals of Alexander changed accordingly. Under Caligula's rule he was portrayed negatively; under Hadrian and Trajan, positively. In medieval times, stories around Alexander became more fanciful. More scrutiny happened in the Enlightement Age with new translations and editions. His 'civilizing mission' was used to justify British rule in India, and events in America led to publications that showed the dangers of democracy and the superiority of constitutional monarchy. Basically he has taken a role of hero or villain based on the narrative the historians of that time wanted to create.","title":"After Alexander"},{"location":"books/intro/anaesthesia/","text":"\ud83d\udcc3 Anaesthesia Suspended Animation: Concepts of Anaesthesia In the mid-19th century, the term etherization was used to describe the state produced by the inhalation of ether vapour. They found chloroform and other agents were more effective. So the term anaesthesia, i.e. without sensation , came into being. The ether/chloroform combo was not enough and intravenous agents, muscle relaxants and other adjuncts were introduced. Nowadays an anaesthetic agent, an analgesic, and a muscle relaxant are used together. The author's friend suffered a disclocated shoulder. While fixing it he was dosed with the analgesic Morphine, and Midazolam which causes transient memory loss. So the memory of a painful procedure was forgotten. Is this ethical? The author feels that the deliberate infliction of pain is not ethical, even if the subsequent memory is lost. The conscious mind forms both experiences (e.g. pain) and memories of those experiences. General anaesthesia temporarily suspends the formation of both.","title":"\ud83d\udcc3 Anaesthesia"},{"location":"books/intro/anaesthesia/#anaesthesia","text":"","title":"\ud83d\udcc3 Anaesthesia"},{"location":"books/intro/anaesthesia/#suspended-animation-concepts-of-anaesthesia","text":"In the mid-19th century, the term etherization was used to describe the state produced by the inhalation of ether vapour. They found chloroform and other agents were more effective. So the term anaesthesia, i.e. without sensation , came into being. The ether/chloroform combo was not enough and intravenous agents, muscle relaxants and other adjuncts were introduced. Nowadays an anaesthetic agent, an analgesic, and a muscle relaxant are used together. The author's friend suffered a disclocated shoulder. While fixing it he was dosed with the analgesic Morphine, and Midazolam which causes transient memory loss. So the memory of a painful procedure was forgotten. Is this ethical? The author feels that the deliberate infliction of pain is not ethical, even if the subsequent memory is lost. The conscious mind forms both experiences (e.g. pain) and memories of those experiences. General anaesthesia temporarily suspends the formation of both.","title":"Suspended Animation: Concepts of Anaesthesia"},{"location":"books/reviews/crypto101/","text":"\ud83d\udcdd Crypto 101 Notes from reading the excellent book at https://www.crypto101.io/ Other security notes. Block ciphers C = E(k, P) k and P are the key and plain text. The plain text is broken up into blocks of length equal to the key's block size. The same key is used to decrypt. Most common one is AES. preceeded by DES. AES was called Rijndael after its 2 developers. allows block sizes of 32, 128, 192 and 256. Drawbacks: Message length must not exceed key length. If you want a larger message, use a stream cipher. Needs a key exchange protocol to exchange the (albeit small) key in advance. AES AES is a substitution-permutation network. It requires separate keys for each round in the next steps. From one master key, it derives keys for each round. The key is divided into 4 byte columns. The key is rotated and each byte is passed through an S-box (substitution box) that maps it to something else. Then the column is XORed with a round constant. Then finally the output is XORed with the previous round key. DES/3DES DES is no longer considered secure: tiny key size of 56 bits. Brute forced in less than a day nowadays. In 3DES, the input is encrypted, decrypted, then encrypted again. Since 3 different keys are used, cryptanalysis is harder than in DES. Still a poor choice. Stream Ciphers Message can be longer than key size. Naive way is to just split the message based on key length and repeatedly encrypt. This is what ECB (Electronic Code Mode) is. ECB is not great since identical messages will lead to identical ciphertext and the attacker can divide his message into blocks to get this information. The oracle attack below explains how. Oracle attack By carefully crafting inputs and getting them encrypted, an attacker can recover other ciphertext as well. e.g. Start by sending a message that's a byte shorter than the key length. The encrypted block will have his full message + one extra byte from the rest of the message. Note this and repeat for the full key length with all possible combinations for the last byte. The one that matches the first attempt tells him what the first byte is. Then repeat for the penultimate byte and so on. CBC - Cipher Block Chaining Plain text blocks are XORed with the previous ciphertext block before the current round of encryption. An Initialization Vector (a random number) is picked up for the very first block. The IV need not be secret and can just be added to the ciphertext as plain text. CBC is decent but its use in TLS 1.0 was not: see BEAST (Browser Exploit Against SSL/TLS). The problem was that, instead of using a random number for the IV, the previous ciphertext block was used as the IV for the next message. Don't use the IV as the key, although it sounds convenient. Pick a different, strong, random number. CBC Bit Flipping attacks: By carefully crafting junk in the middle of a message, an attacker can manipulate the plaintext in the subsequent block, since the stuff he's inserted is going to be encrypted and then XORed with the next block. Padding You can pad a message with zeroes except for cases where the data itself ends with zeroes. So PKCS#5 and PKCS#7 are better alternatives (and later CMS). In them, you take the number of bytes left to pad and pad them with that value. e.g. in the message is 01 23 45 22 .. .. .. there are 3 bytes left to pad (assuming a block size of 8 bytes). So the message becomes: 01 23 45 22 03 03 03 CBC has a padding attack as well :( Done using a ciphertext to decrypt and a padding oracle (this takes a ciphertext and tells the attacker if the padding was correct or not) Timing (and other Side Channel) attacks: by timing how long it takes for a failure to be reported, an attacker can interpret if it was rejected up-front as a padding failure or down the line as something else. Native Stream Ciphers These are built from the ground up to be stream ciphers. A synchronous stream cipher produces a stream of cipher text using a symmetric secret key. In asyc stream ciphers, previously produced ciphertext is used as an input for subsequent rounds. Rare, not recommended. RC4 is an example and is pretty weak. The block ciphers are better so far, except for the newer generation (Salsa/ChaCha below). RC4's source code was leaked. It belonged to RSA Security. It was much faster than its competitor 3DES then. AES came after it with similar speed and better security. Modern ciphers combine a long term key with a nonce, so that the same key generates different streams. In RC4 they just appended the nonce to the key (since RC4 had a flexible key length), so attackers were able to recover parts of the combined key (and eventually the whole). WEP was affected by this attack because it used the nonce in a similarly crude way. Salsa20 A newer stream cipher designed by DJB. ChaCha is a variant with increased amount of diffusion per round, while maintaining or improving performance. No known attacks against either of these. They're pretty fast too. With Salsa you can also jump directly to a specific part of the ciphertext to decrypt. Which also means chunks can be parallelized and decrypted independently. It is also resistant to side channel attacks: every block has a fixed number of constant time operations. Both these are based on an ARX design (Add Rotate XOR). CTR Mode of Operation Here, a nonce is used along with a counter that increments for every block. The nonce and the key are run through a block cipher to generate a continuous key stream. The plaintext is XORed with the keystream to produce the ciphertext. XORing again produces the plaintext back. As long as you don't reuse the nonce, an attacker cannot try multi-time pad attacks. Bit flipping attacks Can be done on stream ciphers as well: an attacker can flip a few ciphertext bits and affect subsequent plaintext bits. For stream ciphers it affects the same bit itself, not ones in the subsequent block as for block ciphers. If authentication is done along with encryption, a recipient can simply discard such bad messages. Key Exchange Diffie Helmann is a nice symmetric way to do it. Alice encrypts a public key with her private component. Bob does the same to the public key with his own private component. Then they send each other this information and run it through their own private components. Since the order doesn't matter, public component + private Alice + private Bob is the same as public component + private Bob + private Alice. So both parties have a shared key. But in an MITM, Eve can intercept Alice and Bob and send messages to each end with her own private key, and decrypt it locally. So we need to add authentication to the mix: is Bob actually Bob or might it be Eve? That's where Public Key Encryption comes in. Public Key Encryption RSA Really really slow, so we use it just to come up with a key that a stream cipher will then use. Also, RSA can't encrypt anything larger than its modulus (2048 or 4096) so it just about suffices for a secret, not for the whole message. MD5/SHA-1 Do not use. SHA-2 Family comprising SHA-224, 256, 384, 512, 512/224 and 512/256. Use. Performance better than SHA-1, and better collision resistance. Keccak Standardized as the SHA-3 family: SHA3-224, 256, 384, 512. Different family than SHA-2. Salts/Rainbow tables Rainbow tables are large sorted tables of commonly used passwords. To avoid this, keep a separate column in the table for a salt, and generate a large (160 bits/32 bytes) cryptograpically random salt for each row. If you use the same salt for the entire table, the attacker can simply create a new rainbow table for the entire DB and compare it with the entries there. If a salt is per-user, he would have to repeat this n times. This is not good enough though. Probably the best recommendation is to use a low entropy key derivation function. Message Authentication Codes (MACs) Check authenticity / integrity of message. Often called 'tags'. Similar to a checksum but uses a secret key and combines with the message to produce the tag. Authenticate and Encrypt - SSH Authenticate then Encrypt - TLS Encrypt then Authenticate - IPSec (best!) See Moxie's Cryptographic Doom Principle for more. Essentially, if you do any cryptographic operation on a message before checking the MAC, the system is doomed. Both the other options require a decryption phase before the MAC is verified. Authenticate and Encrypt is bad because the tag authenticates the plaintext and then sends it out. So identical messages will have identical tags. prefix-MAC: Simply prefix a key to the message and hash the whole thing. Works well with Keccak but not so much with other hashing algorithms. Vulnerable to padding attacks (with some hashing algorithms). HMAC: Hash-based MAC. Authenticated Encryption Modes Composing authenticated and encryption separately is fraught with peril. Here are some methods that implement both as a fundamental component of the system. AEAD - Authenticated Encryption with Associated Data Consists of the message and the metadata of the message. Unlike, say, email, where the headers are not encrypted so that mail servers can route mails, in AEAD systems, the metadata (headers in this case) can be authenticated as a whole along with the message. GCM mode (and by extension GMAC) is one such mode. Signature Algorithms Consist of: key generation algorithm signature generation algorithm signature verification algorithm e.g. DSA (Digital Signature Algorithm), PKCS #1 v 1.5 etc. Basically use a private component to sign a message so that others can use the public component to verify it. Key Derivation Functions Derives one or more secrets from a single secret. e.g. PBKDF2, bcrypt, scrypt and HKDF. Linux /dev/random vs /dev/urandom /dev/random takes in noise into an entropy pool from the environment (network, device drivers, keyboard etc) and returns a strong random stream. But if the entropy pool runs out it will block. So use /dev/urandom, which will start with a seed from /dev/random and yield a cryptographically secure PRNG stream from it. 'technically' weaker then random, but won't halt. Attacks on TLS CRIME and BREACH: Experts used to recommend compressing the plaintext before encrypting it. These attacks found a nasty way to use this when TLS or HTTP compression was turned on.","title":"\ud83d\udcdd Crypto 101"},{"location":"books/reviews/crypto101/#crypto-101","text":"Notes from reading the excellent book at https://www.crypto101.io/ Other security notes.","title":"\ud83d\udcdd Crypto 101"},{"location":"books/reviews/crypto101/#block-ciphers","text":"C = E(k, P) k and P are the key and plain text. The plain text is broken up into blocks of length equal to the key's block size. The same key is used to decrypt. Most common one is AES. preceeded by DES. AES was called Rijndael after its 2 developers. allows block sizes of 32, 128, 192 and 256.","title":"Block ciphers"},{"location":"books/reviews/crypto101/#drawbacks","text":"Message length must not exceed key length. If you want a larger message, use a stream cipher. Needs a key exchange protocol to exchange the (albeit small) key in advance.","title":"Drawbacks:"},{"location":"books/reviews/crypto101/#aes","text":"AES is a substitution-permutation network. It requires separate keys for each round in the next steps. From one master key, it derives keys for each round. The key is divided into 4 byte columns. The key is rotated and each byte is passed through an S-box (substitution box) that maps it to something else. Then the column is XORed with a round constant. Then finally the output is XORed with the previous round key.","title":"AES"},{"location":"books/reviews/crypto101/#des3des","text":"DES is no longer considered secure: tiny key size of 56 bits. Brute forced in less than a day nowadays. In 3DES, the input is encrypted, decrypted, then encrypted again. Since 3 different keys are used, cryptanalysis is harder than in DES. Still a poor choice.","title":"DES/3DES"},{"location":"books/reviews/crypto101/#stream-ciphers","text":"Message can be longer than key size. Naive way is to just split the message based on key length and repeatedly encrypt. This is what ECB (Electronic Code Mode) is. ECB is not great since identical messages will lead to identical ciphertext and the attacker can divide his message into blocks to get this information. The oracle attack below explains how.","title":"Stream Ciphers"},{"location":"books/reviews/crypto101/#oracle-attack","text":"By carefully crafting inputs and getting them encrypted, an attacker can recover other ciphertext as well. e.g. Start by sending a message that's a byte shorter than the key length. The encrypted block will have his full message + one extra byte from the rest of the message. Note this and repeat for the full key length with all possible combinations for the last byte. The one that matches the first attempt tells him what the first byte is. Then repeat for the penultimate byte and so on.","title":"Oracle attack"},{"location":"books/reviews/crypto101/#cbc-cipher-block-chaining","text":"Plain text blocks are XORed with the previous ciphertext block before the current round of encryption. An Initialization Vector (a random number) is picked up for the very first block. The IV need not be secret and can just be added to the ciphertext as plain text. CBC is decent but its use in TLS 1.0 was not: see BEAST (Browser Exploit Against SSL/TLS). The problem was that, instead of using a random number for the IV, the previous ciphertext block was used as the IV for the next message. Don't use the IV as the key, although it sounds convenient. Pick a different, strong, random number. CBC Bit Flipping attacks: By carefully crafting junk in the middle of a message, an attacker can manipulate the plaintext in the subsequent block, since the stuff he's inserted is going to be encrypted and then XORed with the next block.","title":"CBC - Cipher Block Chaining"},{"location":"books/reviews/crypto101/#padding","text":"You can pad a message with zeroes except for cases where the data itself ends with zeroes. So PKCS#5 and PKCS#7 are better alternatives (and later CMS). In them, you take the number of bytes left to pad and pad them with that value. e.g. in the message is 01 23 45 22 .. .. .. there are 3 bytes left to pad (assuming a block size of 8 bytes). So the message becomes: 01 23 45 22 03 03 03 CBC has a padding attack as well :( Done using a ciphertext to decrypt and a padding oracle (this takes a ciphertext and tells the attacker if the padding was correct or not) Timing (and other Side Channel) attacks: by timing how long it takes for a failure to be reported, an attacker can interpret if it was rejected up-front as a padding failure or down the line as something else.","title":"Padding"},{"location":"books/reviews/crypto101/#native-stream-ciphers","text":"These are built from the ground up to be stream ciphers. A synchronous stream cipher produces a stream of cipher text using a symmetric secret key. In asyc stream ciphers, previously produced ciphertext is used as an input for subsequent rounds. Rare, not recommended. RC4 is an example and is pretty weak. The block ciphers are better so far, except for the newer generation (Salsa/ChaCha below). RC4's source code was leaked. It belonged to RSA Security. It was much faster than its competitor 3DES then. AES came after it with similar speed and better security. Modern ciphers combine a long term key with a nonce, so that the same key generates different streams. In RC4 they just appended the nonce to the key (since RC4 had a flexible key length), so attackers were able to recover parts of the combined key (and eventually the whole). WEP was affected by this attack because it used the nonce in a similarly crude way.","title":"Native Stream Ciphers"},{"location":"books/reviews/crypto101/#salsa20","text":"A newer stream cipher designed by DJB. ChaCha is a variant with increased amount of diffusion per round, while maintaining or improving performance. No known attacks against either of these. They're pretty fast too. With Salsa you can also jump directly to a specific part of the ciphertext to decrypt. Which also means chunks can be parallelized and decrypted independently. It is also resistant to side channel attacks: every block has a fixed number of constant time operations. Both these are based on an ARX design (Add Rotate XOR).","title":"Salsa20"},{"location":"books/reviews/crypto101/#ctr-mode-of-operation","text":"Here, a nonce is used along with a counter that increments for every block. The nonce and the key are run through a block cipher to generate a continuous key stream. The plaintext is XORed with the keystream to produce the ciphertext. XORing again produces the plaintext back. As long as you don't reuse the nonce, an attacker cannot try multi-time pad attacks.","title":"CTR Mode of Operation"},{"location":"books/reviews/crypto101/#bit-flipping-attacks","text":"Can be done on stream ciphers as well: an attacker can flip a few ciphertext bits and affect subsequent plaintext bits. For stream ciphers it affects the same bit itself, not ones in the subsequent block as for block ciphers. If authentication is done along with encryption, a recipient can simply discard such bad messages.","title":"Bit flipping attacks"},{"location":"books/reviews/crypto101/#key-exchange","text":"Diffie Helmann is a nice symmetric way to do it. Alice encrypts a public key with her private component. Bob does the same to the public key with his own private component. Then they send each other this information and run it through their own private components. Since the order doesn't matter, public component + private Alice + private Bob is the same as public component + private Bob + private Alice. So both parties have a shared key. But in an MITM, Eve can intercept Alice and Bob and send messages to each end with her own private key, and decrypt it locally. So we need to add authentication to the mix: is Bob actually Bob or might it be Eve? That's where Public Key Encryption comes in.","title":"Key Exchange"},{"location":"books/reviews/crypto101/#public-key-encryption","text":"","title":"Public Key Encryption"},{"location":"books/reviews/crypto101/#rsa","text":"Really really slow, so we use it just to come up with a key that a stream cipher will then use. Also, RSA can't encrypt anything larger than its modulus (2048 or 4096) so it just about suffices for a secret, not for the whole message.","title":"RSA"},{"location":"books/reviews/crypto101/#md5sha-1","text":"Do not use.","title":"MD5/SHA-1"},{"location":"books/reviews/crypto101/#sha-2","text":"Family comprising SHA-224, 256, 384, 512, 512/224 and 512/256. Use. Performance better than SHA-1, and better collision resistance.","title":"SHA-2"},{"location":"books/reviews/crypto101/#keccak","text":"Standardized as the SHA-3 family: SHA3-224, 256, 384, 512. Different family than SHA-2.","title":"Keccak"},{"location":"books/reviews/crypto101/#saltsrainbow-tables","text":"Rainbow tables are large sorted tables of commonly used passwords. To avoid this, keep a separate column in the table for a salt, and generate a large (160 bits/32 bytes) cryptograpically random salt for each row. If you use the same salt for the entire table, the attacker can simply create a new rainbow table for the entire DB and compare it with the entries there. If a salt is per-user, he would have to repeat this n times. This is not good enough though. Probably the best recommendation is to use a low entropy key derivation function.","title":"Salts/Rainbow tables"},{"location":"books/reviews/crypto101/#message-authentication-codes-macs","text":"Check authenticity / integrity of message. Often called 'tags'. Similar to a checksum but uses a secret key and combines with the message to produce the tag. Authenticate and Encrypt - SSH Authenticate then Encrypt - TLS Encrypt then Authenticate - IPSec (best!) See Moxie's Cryptographic Doom Principle for more. Essentially, if you do any cryptographic operation on a message before checking the MAC, the system is doomed. Both the other options require a decryption phase before the MAC is verified. Authenticate and Encrypt is bad because the tag authenticates the plaintext and then sends it out. So identical messages will have identical tags. prefix-MAC: Simply prefix a key to the message and hash the whole thing. Works well with Keccak but not so much with other hashing algorithms. Vulnerable to padding attacks (with some hashing algorithms). HMAC: Hash-based MAC.","title":"Message Authentication Codes (MACs)"},{"location":"books/reviews/crypto101/#authenticated-encryption-modes","text":"Composing authenticated and encryption separately is fraught with peril. Here are some methods that implement both as a fundamental component of the system. AEAD - Authenticated Encryption with Associated Data Consists of the message and the metadata of the message. Unlike, say, email, where the headers are not encrypted so that mail servers can route mails, in AEAD systems, the metadata (headers in this case) can be authenticated as a whole along with the message. GCM mode (and by extension GMAC) is one such mode.","title":"Authenticated Encryption Modes"},{"location":"books/reviews/crypto101/#signature-algorithms","text":"Consist of: key generation algorithm signature generation algorithm signature verification algorithm e.g. DSA (Digital Signature Algorithm), PKCS #1 v 1.5 etc. Basically use a private component to sign a message so that others can use the public component to verify it.","title":"Signature Algorithms"},{"location":"books/reviews/crypto101/#key-derivation-functions","text":"Derives one or more secrets from a single secret. e.g. PBKDF2, bcrypt, scrypt and HKDF.","title":"Key Derivation Functions"},{"location":"books/reviews/crypto101/#linux-devrandom-vs-devurandom","text":"/dev/random takes in noise into an entropy pool from the environment (network, device drivers, keyboard etc) and returns a strong random stream. But if the entropy pool runs out it will block. So use /dev/urandom, which will start with a seed from /dev/random and yield a cryptographically secure PRNG stream from it. 'technically' weaker then random, but won't halt.","title":"Linux /dev/random vs /dev/urandom"},{"location":"books/reviews/crypto101/#attacks-on-tls","text":"CRIME and BREACH: Experts used to recommend compressing the plaintext before encrypting it. These attacks found a nasty way to use this when TLS or HTTP compression was turned on.","title":"Attacks on TLS"},{"location":"books/reviews/despair/","text":"\ud83d\udcdd Despair, by Vladimir Nabokov I reread this book this month. Nabokov\u2019s protagonists are always fascinating. The one is Despair, Hermann, is almost tragic in how desperately he hides from reality. In this he is like that other great unreliable narrator, Charles Kinbote from Pale Fire. And when people in the real world laugh and point a finger at this naked emperor, he chooses to recede into a reality where his garments are the finest, his wit awes his friends, and his intellect outwits the police. You are never really certain if perhaps, deep down, he knows but continues to pretend. The monster gets his comeuppance and descends into despair. His fine plots are tangled. For all the world he is a bumbling crook but in his mind he is inches away from the perfect crime, bested only by bad luck. Highly recommended to read and re-read.","title":"\ud83d\udcdd Despair, by Vladimir Nabokov"},{"location":"books/reviews/despair/#despair-by-vladimir-nabokov","text":"I reread this book this month. Nabokov\u2019s protagonists are always fascinating. The one is Despair, Hermann, is almost tragic in how desperately he hides from reality. In this he is like that other great unreliable narrator, Charles Kinbote from Pale Fire. And when people in the real world laugh and point a finger at this naked emperor, he chooses to recede into a reality where his garments are the finest, his wit awes his friends, and his intellect outwits the police. You are never really certain if perhaps, deep down, he knows but continues to pretend. The monster gets his comeuppance and descends into despair. His fine plots are tangled. For all the world he is a bumbling crook but in his mind he is inches away from the perfect crime, bested only by bad luck. Highly recommended to read and re-read.","title":"\ud83d\udcdd Despair, by Vladimir Nabokov"},{"location":"books/reviews/eats-shoots-leaves/","text":"\ud83d\udcdd Eats, Shoots & Leaves Author: Lynne Truss This one is for the pedants. Read this book if you're the kind of person who grits your teeth every time you see a grammatical mistake in a hoarding. The title refers to a statement about a panda that eats (bamboo) shoots and leaves. But a misplaced comma makes it sound like a story about an evil panda that eats, shoots and leaves. We are like the little boy in The Sixth Sense who can see dead people, except that we can see dead punctuation. -Lynne Truss Starting with the oft-misplaces apostrophe to the lesser used dashes and colons, each chapter deals with the history, usage and evolution of a punctuation mark. What I found most fascinating was the origin story of each of these little marks. The author is not one of those crufty old people who insists that their crufty rules are the only ones that are worth following. Nor does she favour the semi-literate lower-case-ridden style of the smart phone generation, of course. What still matters is to adhere to some semblance of rules. As a self-deprecating, fun rant, this was an enjoyable read.","title":"\ud83d\udcdd Eats, Shoots & Leaves"},{"location":"books/reviews/eats-shoots-leaves/#eats-shoots-leaves","text":"Author: Lynne Truss This one is for the pedants. Read this book if you're the kind of person who grits your teeth every time you see a grammatical mistake in a hoarding. The title refers to a statement about a panda that eats (bamboo) shoots and leaves. But a misplaced comma makes it sound like a story about an evil panda that eats, shoots and leaves. We are like the little boy in The Sixth Sense who can see dead people, except that we can see dead punctuation. -Lynne Truss Starting with the oft-misplaces apostrophe to the lesser used dashes and colons, each chapter deals with the history, usage and evolution of a punctuation mark. What I found most fascinating was the origin story of each of these little marks. The author is not one of those crufty old people who insists that their crufty rules are the only ones that are worth following. Nor does she favour the semi-literate lower-case-ridden style of the smart phone generation, of course. What still matters is to adhere to some semblance of rules. As a self-deprecating, fun rant, this was an enjoyable read.","title":"\ud83d\udcdd Eats, Shoots &amp; Leaves"},{"location":"books/reviews/flow/","text":"\ud83d\udcdd Flow I've long been interested in Active vs Passive hobbies, why one is better than the others, and so on. Here's a nice reddit post that captures a similar mindset around gaming. So reading Flow gave a lot of clarity to these ideas. Any programmer who's been 'in the zone' and loses sense of time knows the feeling of 'Flow' and that is the subject of this book -- Deep hobbies that improve one's self. The author categorizes activities with good 'flow' if they meet these criteria: A challenging activity that requires skills Requires concentration Has clear goals and immediate feedback Removes awareness of everyday frustrations Exercises control over ones own actions Concern for self disappears Sense of time altered Here are some sections from the book that caught my attention: \"The wisdom of the mystics, of the Sufi, of the great yogis, or of the Zen masters might have been excellent in their own time -- and might still be the best, if we lived in those times and in those cultures. But when transplanted to contemporary California those systems lose quite a bit of their original power. They contain elements that are specific to their original contexts, and when these accidental components are not distinguished from what is essential, the path to freedom gets overgrown by brambles of meaningless mumbo-jumbo. Ritual form wins over substance, and the seeker is back where he started.\" \"Pleasure is an important component of the quality of life, but by itself it does not bring happiness. Sleep, rest, food, and sex provide restorative homeostatic experiences that return consciousness to order after the needs of the body intrude and cause psychic entropy to occur. But they do not produce psychological growth. They do not add complexity to the self. Pleasure helps to maintain order, but by itself cannot create new order in consciousness.\" \"In today's world we have come to neglect the habit of writing because so many other media of communication have taken its place. Telephones and tape recorders, computers and fax machines are more efficient in conveying news. If the only point of writing were to transmit information, then it would deserve to become obsolete. But the point of writing is to create information, not simply to pass it along.\" The middle quote is a satisfactory answer to my question on what differentiates mindless passive hobbies from effort-intensive active ones: the latter create better versions of ourselves.","title":"\ud83d\udcdd Flow"},{"location":"books/reviews/flow/#flow","text":"I've long been interested in Active vs Passive hobbies, why one is better than the others, and so on. Here's a nice reddit post that captures a similar mindset around gaming. So reading Flow gave a lot of clarity to these ideas. Any programmer who's been 'in the zone' and loses sense of time knows the feeling of 'Flow' and that is the subject of this book -- Deep hobbies that improve one's self. The author categorizes activities with good 'flow' if they meet these criteria: A challenging activity that requires skills Requires concentration Has clear goals and immediate feedback Removes awareness of everyday frustrations Exercises control over ones own actions Concern for self disappears Sense of time altered Here are some sections from the book that caught my attention: \"The wisdom of the mystics, of the Sufi, of the great yogis, or of the Zen masters might have been excellent in their own time -- and might still be the best, if we lived in those times and in those cultures. But when transplanted to contemporary California those systems lose quite a bit of their original power. They contain elements that are specific to their original contexts, and when these accidental components are not distinguished from what is essential, the path to freedom gets overgrown by brambles of meaningless mumbo-jumbo. Ritual form wins over substance, and the seeker is back where he started.\" \"Pleasure is an important component of the quality of life, but by itself it does not bring happiness. Sleep, rest, food, and sex provide restorative homeostatic experiences that return consciousness to order after the needs of the body intrude and cause psychic entropy to occur. But they do not produce psychological growth. They do not add complexity to the self. Pleasure helps to maintain order, but by itself cannot create new order in consciousness.\" \"In today's world we have come to neglect the habit of writing because so many other media of communication have taken its place. Telephones and tape recorders, computers and fax machines are more efficient in conveying news. If the only point of writing were to transmit information, then it would deserve to become obsolete. But the point of writing is to create information, not simply to pass it along.\" The middle quote is a satisfactory answer to my question on what differentiates mindless passive hobbies from effort-intensive active ones: the latter create better versions of ourselves.","title":"\ud83d\udcdd Flow"},{"location":"books/reviews/good-math/","text":"\ud83d\udcdd Good Math Full Title: Good Math: A Geek's Guide to the Beauty of Numbers, Logic, and Computation Author : Mark C. Chu-Carroll Here are some notes I took while reading this book. Overall I felt it was interesting, but there were large jumps in difficulty in some of the later chapters. Continuous fractions This was the most fascinating part of the book for me. I hadn't heard of these before! For example, the square root of 2 in decimal form is approximately 1.4142135623730951. But if you represent it as a continued fraction, you get [1; 2, 2, 2, 2, 2, \u2026]. All of the square roots of integers that are nonperfect squares have repeated forms in continued fractions. Interesting how continuous fractions give a new and clean way of looking at previously confusing numbers like sqrt 2 and other irrational numbers. Some nice parallels with how multiplication was hard in the Roman numeral system but drastically improved in tha arabic system. Another great example is e . If you render e as a continued fraction, you get e = [2; 1, 2, 1, 1, 4, 1, 1, 6, 1, 1, 8, 1, 1, 10, 1, 1, 12, 1, ...]. In this and many other cases, continued fractions reveal the underlying structure of the numbers. First Order Predicate Logic This chapter was not easy. But the section on prolog looked neat. Every statement is essentially a proof that the language satisfies. Now we're into CTL i.e computational tree logic maybe? FOPL has no notion of time, so it's not easy to make logical statements and assertions with it when there is a time context e.g employee (me, Cisco, 2020) is cumbersome. FOPL is interesting because it allows us to reason with statements and prove things without knowing a thing about the actual context. The proofs come purely through logic. Set theory plus FOPL form the foundations of maths. FOPL summary In first-order predicate logic, we talk about two kinds of things: predicates and objects . Objects are the things that we can reason about using the logic; predicates are the things that we use to reason about objects. A predicate is a statement that says something about some object or objects. We\u2019ll write predicates as either uppercase letters or as words starting with an uppercase letter (A,B,Married), and we\u2019ll write objects in quotes. Every predicate is followed by a list of comma-separated objects (or variables representing objects). One very important restriction is that predicates are not objects. That\u2019s why this is called first-order predicate logic: you can\u2019t use a predicate to make a statement about another predicate. So you can\u2019t say something like Transitive(GreaterThan) : that\u2019s a second-order statement, which isn\u2019t expressible in first-order logic. We can combine logical statements using AND (written \u2227 ) and OR ( \u2228 ). We can negate a statement by prefixing it with not (written \u00ac ). And we can introduce a variable to a statement using two logical quantifiers: for all possible values , and for at least one value. Naive set theory This is what Cantor used for his diagonal trick to measure different sizes of infinities, is limited by things like Russel's paradox. If you use FOPL to make theories about naive sets, you eventually hit a contradiction that challenges the foundations of logic. In summary It allows you to create logically inconsistent self referential sets. The next chapter has a better alternative: axiomatic set theory. Axiomatic Set Theory It uses axioms to give a consistent form of set theory based on some axioms. The one in this book is Zermelo-Frankel set theory with choice, commonly abbreviated as ZFC. First we define a set by asserting that 2 sets are equal if you pair their objects and those are equal. Ths gives us a mechanism to get and compare elements, and defines a set and it's main operations. Once we define an empty set, we automatically get a new one which is the set containing the empty set. Then you define an enumeration axiom that allows you to append 2 sets. Then the default infinite set is created, out of which other infinite sets are derived. This axiom carefully ensures that these sets are not self referential, thus avoiding paradoxes. A powerset of A is the set of all possible subsets of A. Using a powerset axiom, we now provide the ability to take an infinite set and build a second order set that's larger than it. Anyway once you have the final 'axiom of choice', you have this set theory combined with fopl to create all of maths. Integers come naturally. Axiom of pairing can be used to get the rational numbers. Dedekind cuts can be used to get the reals. And so on. Todo add a note on what a dedekind cut is. From what I remember, you can define 2 sets, one that has all elements lesser than sqrt(2) and one that has all elements greater. That gives a clear definition for sqrt(2) itself. Continuum hypothesis The first infinite set larger than aleph0 (set of natural numbers) has a size equal to aleph0's powerset (the set of all subsets of aleph0), and this is also the size of all the reals. Unfortunately it is neither true or false. You can treat it as either and all of zfc maths will still work. Here we have a hypothesis that is not provable, whereas in Russel's paradox we had an inconsistency. Group theory Last bit went over my head :( Mechanical math Haskell code doesn't help :(","title":"\ud83d\udcdd Good Math"},{"location":"books/reviews/good-math/#good-math","text":"Full Title: Good Math: A Geek's Guide to the Beauty of Numbers, Logic, and Computation Author : Mark C. Chu-Carroll Here are some notes I took while reading this book. Overall I felt it was interesting, but there were large jumps in difficulty in some of the later chapters.","title":"\ud83d\udcdd Good Math"},{"location":"books/reviews/good-math/#continuous-fractions","text":"This was the most fascinating part of the book for me. I hadn't heard of these before! For example, the square root of 2 in decimal form is approximately 1.4142135623730951. But if you represent it as a continued fraction, you get [1; 2, 2, 2, 2, 2, \u2026]. All of the square roots of integers that are nonperfect squares have repeated forms in continued fractions. Interesting how continuous fractions give a new and clean way of looking at previously confusing numbers like sqrt 2 and other irrational numbers. Some nice parallels with how multiplication was hard in the Roman numeral system but drastically improved in tha arabic system. Another great example is e . If you render e as a continued fraction, you get e = [2; 1, 2, 1, 1, 4, 1, 1, 6, 1, 1, 8, 1, 1, 10, 1, 1, 12, 1, ...]. In this and many other cases, continued fractions reveal the underlying structure of the numbers.","title":"Continuous fractions"},{"location":"books/reviews/good-math/#first-order-predicate-logic","text":"This chapter was not easy. But the section on prolog looked neat. Every statement is essentially a proof that the language satisfies. Now we're into CTL i.e computational tree logic maybe? FOPL has no notion of time, so it's not easy to make logical statements and assertions with it when there is a time context e.g employee (me, Cisco, 2020) is cumbersome. FOPL is interesting because it allows us to reason with statements and prove things without knowing a thing about the actual context. The proofs come purely through logic. Set theory plus FOPL form the foundations of maths.","title":"First Order Predicate Logic"},{"location":"books/reviews/good-math/#fopl-summary","text":"In first-order predicate logic, we talk about two kinds of things: predicates and objects . Objects are the things that we can reason about using the logic; predicates are the things that we use to reason about objects. A predicate is a statement that says something about some object or objects. We\u2019ll write predicates as either uppercase letters or as words starting with an uppercase letter (A,B,Married), and we\u2019ll write objects in quotes. Every predicate is followed by a list of comma-separated objects (or variables representing objects). One very important restriction is that predicates are not objects. That\u2019s why this is called first-order predicate logic: you can\u2019t use a predicate to make a statement about another predicate. So you can\u2019t say something like Transitive(GreaterThan) : that\u2019s a second-order statement, which isn\u2019t expressible in first-order logic. We can combine logical statements using AND (written \u2227 ) and OR ( \u2228 ). We can negate a statement by prefixing it with not (written \u00ac ). And we can introduce a variable to a statement using two logical quantifiers: for all possible values , and for at least one value.","title":"FOPL summary"},{"location":"books/reviews/good-math/#naive-set-theory","text":"This is what Cantor used for his diagonal trick to measure different sizes of infinities, is limited by things like Russel's paradox. If you use FOPL to make theories about naive sets, you eventually hit a contradiction that challenges the foundations of logic. In summary It allows you to create logically inconsistent self referential sets. The next chapter has a better alternative: axiomatic set theory.","title":"Naive set theory"},{"location":"books/reviews/good-math/#axiomatic-set-theory","text":"It uses axioms to give a consistent form of set theory based on some axioms. The one in this book is Zermelo-Frankel set theory with choice, commonly abbreviated as ZFC. First we define a set by asserting that 2 sets are equal if you pair their objects and those are equal. Ths gives us a mechanism to get and compare elements, and defines a set and it's main operations. Once we define an empty set, we automatically get a new one which is the set containing the empty set. Then you define an enumeration axiom that allows you to append 2 sets. Then the default infinite set is created, out of which other infinite sets are derived. This axiom carefully ensures that these sets are not self referential, thus avoiding paradoxes. A powerset of A is the set of all possible subsets of A. Using a powerset axiom, we now provide the ability to take an infinite set and build a second order set that's larger than it. Anyway once you have the final 'axiom of choice', you have this set theory combined with fopl to create all of maths. Integers come naturally. Axiom of pairing can be used to get the rational numbers. Dedekind cuts can be used to get the reals. And so on. Todo add a note on what a dedekind cut is. From what I remember, you can define 2 sets, one that has all elements lesser than sqrt(2) and one that has all elements greater. That gives a clear definition for sqrt(2) itself.","title":"Axiomatic Set Theory"},{"location":"books/reviews/good-math/#continuum-hypothesis","text":"The first infinite set larger than aleph0 (set of natural numbers) has a size equal to aleph0's powerset (the set of all subsets of aleph0), and this is also the size of all the reals. Unfortunately it is neither true or false. You can treat it as either and all of zfc maths will still work. Here we have a hypothesis that is not provable, whereas in Russel's paradox we had an inconsistency.","title":"Continuum hypothesis"},{"location":"books/reviews/good-math/#group-theory","text":"Last bit went over my head :(","title":"Group theory"},{"location":"books/reviews/good-math/#mechanical-math","text":"Haskell code doesn't help :(","title":"Mechanical math"},{"location":"books/reviews/happiness/","text":"\ud83d\udcdd The Happiness Hypothesis This book is written by Jonathan Haidt. I\u2019d read his other book, The Righteous Mind, and enjoyed it. I liked this one as well. What follows is not really a review. These are just notes I took from the book that I found interesting. Not a metaphor: there\u2019s literally a Gut brain , connected by vagus nerve with main one. Runs independently to manage the intestine. Huge lining of neurons in the lining. Triggers anxiety when infections are present. Confabulation \u2013 seen in people with split brain problems. When something is observed by 1 half of the brain and it\u2019s trying to rationalize it with a narrative. Key to understanding many later parts of the book. Why we obey certain impulses but not others. Marshmallow experiment: the crucial piece was emotional intelligence and strategy: knowing how to beat your emotions by distracting yourself, focus on other things etc. basically stimulus control. How to change your mind: Meditation Cognitive therapy Prozac Signs of a cooked-up hysteria (e.g. communism) Invisible Contagious (young can be influenced) Can only be defeated by all of us getting together Evil doesn\u2019t just come from the outside. There\u2019s rounds of escalation before it gets violent. And a richer context than what you see on TV. Two things that we encourage as positive that actually lead to evil: High self esteem (when unrealistic or narcissistic, problems arise). Rather than directly raising self esteem you should be teaching skills. Moral idealism \u2013 people who believed that they were using violence for a larger cause. Ends justify the means. Outcome rather than path. Conspicuous consumption is a zero sum game i.e. A Rolex is good only if other people have Casios. So focus on inconspicuous consumption like holiday trips. Apparently experiences > material possessions Especially if those experiences are with other people Whereas early Greek philosophers focused on what makes a person virtuous e.g. should I return a wallet full of money, modern philosophy focuses more on actions and quandaries, e.g. do you kill one person to save dozens. Some stuff on divinity and disgust that lines up pretty well with his work on Moral Foundations and his other book, the Righteous Mind. On religion and how Group Selection incites violence only against apostates and outsiders. i.e. shifts the problem one level up, from individuals caring for self to individuals caring for their own group. So for a Meaningful life: we as a species are social (so we need people), and industrious (we need vital engagement and flow in our work/hobbies). So get the connections and conditions right in work, love etc. And happiness will come.","title":"\ud83d\udcdd The Happiness Hypothesis"},{"location":"books/reviews/happiness/#the-happiness-hypothesis","text":"This book is written by Jonathan Haidt. I\u2019d read his other book, The Righteous Mind, and enjoyed it. I liked this one as well. What follows is not really a review. These are just notes I took from the book that I found interesting. Not a metaphor: there\u2019s literally a Gut brain , connected by vagus nerve with main one. Runs independently to manage the intestine. Huge lining of neurons in the lining. Triggers anxiety when infections are present. Confabulation \u2013 seen in people with split brain problems. When something is observed by 1 half of the brain and it\u2019s trying to rationalize it with a narrative. Key to understanding many later parts of the book. Why we obey certain impulses but not others. Marshmallow experiment: the crucial piece was emotional intelligence and strategy: knowing how to beat your emotions by distracting yourself, focus on other things etc. basically stimulus control. How to change your mind: Meditation Cognitive therapy Prozac Signs of a cooked-up hysteria (e.g. communism) Invisible Contagious (young can be influenced) Can only be defeated by all of us getting together Evil doesn\u2019t just come from the outside. There\u2019s rounds of escalation before it gets violent. And a richer context than what you see on TV. Two things that we encourage as positive that actually lead to evil: High self esteem (when unrealistic or narcissistic, problems arise). Rather than directly raising self esteem you should be teaching skills. Moral idealism \u2013 people who believed that they were using violence for a larger cause. Ends justify the means. Outcome rather than path. Conspicuous consumption is a zero sum game i.e. A Rolex is good only if other people have Casios. So focus on inconspicuous consumption like holiday trips. Apparently experiences > material possessions Especially if those experiences are with other people Whereas early Greek philosophers focused on what makes a person virtuous e.g. should I return a wallet full of money, modern philosophy focuses more on actions and quandaries, e.g. do you kill one person to save dozens. Some stuff on divinity and disgust that lines up pretty well with his work on Moral Foundations and his other book, the Righteous Mind. On religion and how Group Selection incites violence only against apostates and outsiders. i.e. shifts the problem one level up, from individuals caring for self to individuals caring for their own group. So for a Meaningful life: we as a species are social (so we need people), and industrious (we need vital engagement and flow in our work/hobbies). So get the connections and conditions right in work, love etc. And happiness will come.","title":"\ud83d\udcdd The Happiness Hypothesis"},{"location":"books/reviews/hate-inc/","text":"\ud83d\udcdd Hate Inc. Full Title : Hate Inc.: Why Today's Media Makes Us Despise One Another Author : Matt Taibbi I've been reading Taibbi for a while now and this was a nice refreshing step back from his usual acerbic style. He covers the media industry's complicity in creating a toxic political environment. Towards the end is where the book gets really interesting: as an inward-looking view into how the left-leaning media is as bad in creating filter bubbles as the usual suspects in the right. Here are some snippets I saved from the book. On Facebook's curation of news Chomsky : Take a look at the Facebook phenomenon. Where are they getting their news from? They don\u2019t have reports. They\u2019re just getting it from the New York Times, so it\u2019s the same sources of information. They\u2019re just putting it out in trivialized form, so that people with a ten- year-old mentality can handle it. It\u2019s a very dangerous thing. They\u2019re not doing any of the things that the media do. They don\u2019t frame things. They don\u2019t select. They don\u2019t send reporters out. They don\u2019t investigate, you know, they just collect information and hand it over to kids to look at in ten minutes so you don\u2019t believe the newspapers. Red flags to look out for Tricks used by the government to feed news via allied countries: This is one reason to always have ears up when you start hearing bits and pieces of important intelligence cases happen to have been uncovered within the borders of America\u2019s closest intelligence allies, particularly England, Australia, the other \u201cFive Eyes\u201d nations, and key NATO members. Regarding unnamed Ferguson sources: What is the purpose of the anonymity? Is it to protect someone\u2019s job or freedom? Or to insulate the person against political consequence if the story goes sideways? Who initiates the communication? Incidentally: it\u2019s a red flag if the call is coming from the official, as opposed to the reporter calling the officials. The average intelligence official wouldn\u2019t stop to tell you if your child was on fire. When they start cold-calling agencies, and/or rotating scoops by doling them out to different outlets and papers each week, that\u2019s a huge red flag. Journalist histories: When you see one of these stories, check to see if that reporter has a history of national security pieces. If he or she does not, if this transmission of classified scoops is taking place in the context of a new relationship, be extra wary. U.S. Wars In addition to actions in Syria, Afghanistan, Iraq, Somalia, Libya, and Niger, we\u2019d been aiding the Saudi bombing of Yemen for nearly 1,100 consecutive days on December 11, 2017, when the Pentagon submitted its latest \u201cwhere the hell we\u2019re currently at war\u201d summary\u2014also known as a section 1264 report, which has to be delivered to Congress every six months under the National Defense Authorization Act.","title":"\ud83d\udcdd Hate Inc."},{"location":"books/reviews/hate-inc/#hate-inc","text":"Full Title : Hate Inc.: Why Today's Media Makes Us Despise One Another Author : Matt Taibbi I've been reading Taibbi for a while now and this was a nice refreshing step back from his usual acerbic style. He covers the media industry's complicity in creating a toxic political environment. Towards the end is where the book gets really interesting: as an inward-looking view into how the left-leaning media is as bad in creating filter bubbles as the usual suspects in the right. Here are some snippets I saved from the book.","title":"\ud83d\udcdd Hate Inc."},{"location":"books/reviews/hate-inc/#on-facebooks-curation-of-news","text":"Chomsky : Take a look at the Facebook phenomenon. Where are they getting their news from? They don\u2019t have reports. They\u2019re just getting it from the New York Times, so it\u2019s the same sources of information. They\u2019re just putting it out in trivialized form, so that people with a ten- year-old mentality can handle it. It\u2019s a very dangerous thing. They\u2019re not doing any of the things that the media do. They don\u2019t frame things. They don\u2019t select. They don\u2019t send reporters out. They don\u2019t investigate, you know, they just collect information and hand it over to kids to look at in ten minutes so you don\u2019t believe the newspapers.","title":"On Facebook's curation of news"},{"location":"books/reviews/hate-inc/#red-flags-to-look-out-for","text":"Tricks used by the government to feed news via allied countries: This is one reason to always have ears up when you start hearing bits and pieces of important intelligence cases happen to have been uncovered within the borders of America\u2019s closest intelligence allies, particularly England, Australia, the other \u201cFive Eyes\u201d nations, and key NATO members. Regarding unnamed Ferguson sources: What is the purpose of the anonymity? Is it to protect someone\u2019s job or freedom? Or to insulate the person against political consequence if the story goes sideways? Who initiates the communication? Incidentally: it\u2019s a red flag if the call is coming from the official, as opposed to the reporter calling the officials. The average intelligence official wouldn\u2019t stop to tell you if your child was on fire. When they start cold-calling agencies, and/or rotating scoops by doling them out to different outlets and papers each week, that\u2019s a huge red flag. Journalist histories: When you see one of these stories, check to see if that reporter has a history of national security pieces. If he or she does not, if this transmission of classified scoops is taking place in the context of a new relationship, be extra wary.","title":"Red flags to look out for"},{"location":"books/reviews/hate-inc/#us-wars","text":"In addition to actions in Syria, Afghanistan, Iraq, Somalia, Libya, and Niger, we\u2019d been aiding the Saudi bombing of Yemen for nearly 1,100 consecutive days on December 11, 2017, when the Pentagon submitted its latest \u201cwhere the hell we\u2019re currently at war\u201d summary\u2014also known as a section 1264 report, which has to be delivered to Congress every six months under the National Defense Authorization Act.","title":"U.S. Wars"},{"location":"books/reviews/how-to-read-a-book/","text":"\ud83d\udcdd How To Read A Book By Mortimer J. Adler and Charles Van Doren Reading this was a turning point for me. For a lifetime, I'd read anything that caught my interest: science fiction, evolutionary biology, classic literature and so on. After reading far too many general science books, I started to realize that I'd hit a plateau, and was not learning anything new from them. I felt like I had to go deeper and analyze one of these subjects thoroughly, or wider, to learn something new. And then I came across this book. How to Read a Book taught me to embrace difficult books. Life's too short, so why waste it reading trivial crap? It's better to go straight to the source and read the thoughts of our greatest thinkers the way they intended. Quotes Here are some quotes from the book that I noted in my reading: \"Good books are over your head; they would not be good for you if they were not.\" Reading List And below is their recommended reading list. Homer \u2013 Iliad, Odyssey The Old Testament Aeschylus \u2013 Tragedies Sophocles \u2013 Tragedies Herodotus \u2013 Histories Euripides \u2013 Tragedies Thucydides \u2013 History of the Peloponnesian War Hippocrates \u2013 Medical Writings Aristophanes \u2013 Comedies Plato \u2013 Dialogues Aristotle \u2013 Works Epicurus \u2013 Letter to Herodotus; Letter to Menoecus Euclid \u2013 Elements Archimedes \u2013 Works Apollonius of Perga \u2013 Conic Sections Cicero \u2013 Works Lucretius \u2013 On the Nature of Things Virgil \u2013 Works Horace \u2013 Works Livy \u2013 History of Rome Ovid \u2013 Works Plutarch \u2013 Parallel Lives; Moralia Tacitus \u2013 Histories; Annals; Agricola; Germania Nicomachus of Gerasa \u2013 Introduction to Arithmetic Epictetus \u2013 Discourses; Encheiridion Ptolemy \u2013 Almagest Lucian \u2013 Works Marcus Aurelius \u2013 Meditations Galen \u2013 On the Natural Faculties The New Testament Plotinus \u2013 The Enneads St. Augustine \u2013 On the Teacher; Confessions; City of God; On Christian Doctrine The Song of Roland The Nibelungenlied The Saga of Burnt Nj\u00e1l St. Thomas Aquinas \u2013 Summa Theologica Dante Alighieri \u2013 The Divine Comedy;The New Life; On Monarchy Geoffrey Chaucer \u2013 Troilus and Criseyde; The Canterbury Tales Leonardo da Vinci \u2013 Notebooks Niccol\u00f2 Machiavelli \u2013 The Prince; Discourses on the First Ten Books of Livy Desiderius Erasmus \u2013 The Praise of Folly Nicolaus Copernicus \u2013 On the Revolutions of the Heavenly Spheres Thomas More \u2013 Utopia Martin Luther \u2013 Table Talk; Three Treatises Fran\u00e7ois Rabelais \u2013 Gargantua and Pantagruel John Calvin \u2013 Institutes of the Christian Religion Michel de Montaigne \u2013 Essays William Gilbert \u2013 On the Loadstone and Magnetic Bodies Miguel de Cervantes \u2013 Don Quixote Edmund Spenser \u2013 Prothalamion; The Faerie Queene Francis Bacon \u2013 Essays; Advancement of Learning; Novum Organum, New Atlantis William Shakespeare \u2013 Poetry and Plays Galileo Galilei \u2013 Starry Messenger; Dialogues Concerning Two New Sciences Johannes Kepler \u2013 Epitome of Copernican Astronomy; Concerning the Harmonies of the World William Harvey \u2013 On the Motion of the Heart and Blood in Animals; On the Circulation of the Blood; On the Generation of Animals Thomas Hobbes \u2013 Leviathan Ren\u00e9 Descartes \u2013 Rules for the Direction of the Mind; Discourse on the Method; Geometry; Meditations on First Philosophy John Milton \u2013 Works Moli\u00e8re \u2013 Comedies Blaise Pascal \u2013 The Provincial Letters; Pensees; Scientific Treatises Christiaan Huygens \u2013 Treatise on Light Benedict de Spinoza \u2013 Ethics John Locke \u2013 Letter Concerning Toleration; Of Civil Government; Essay Concerning Human Understanding; Thoughts Concerning Education Jean Baptiste Racine \u2013 Tragedies Isaac Newton \u2013 Mathematical Principles of Natural Philosophy; Optics Gottfried Wilhelm Leibniz \u2013 Discourse on Metaphysics; New Essays Concerning Human Understanding; Monadology Daniel Defoe \u2013 Robinson Crusoe Jonathan Swift \u2013 A Tale of a Tub; Journal to Stella; Gulliver's Travels; A Modest Proposal William Congreve \u2013 The Way of the World George Berkeley \u2013 Principles of Human Knowledge Alexander Pope \u2013 Essay on Criticism; Rape of the Lock; Essay on Man Charles de Secondat, baron de Montesquieu \u2013 Persian Letters; Spirit of Laws Voltaire \u2013 Letters on the English; Candide; Philosophical Dictionary Henry Fielding \u2013 Joseph Andrews; Tom Jones Samuel Johnson \u2013 The Vanity of Human Wishes; Dictionary; Rasselas; The Lives of the Poets David Hume \u2013 Treatise on Human Nature; Essays Moral and Political; An Enquiry Concerning Human Understanding Jean-Jacques Rousseau \u2013 On the Origin of Inequality; On the Political Economy; Emile \u2013 or, On Education, The Social Contract Laurence Sterne \u2013 Tristram Shandy; A Sentimental Journey through France and Italy Adam Smith \u2013 The Theory of Moral Sentiments; The Wealth of Nations Immanuel Kant \u2013 Critique of Pure Reason; Fundamental Principles of the Metaphysics of Morals; Critique of Practical Reason; The Science of Right; Critique of Judgment; Perpetual Peace Edward Gibbon \u2013 The Decline and Fall of the Roman Empire; Autobiography James Boswell \u2013 Journal; Life of Samuel Johnson, Ll.D. Antoine Laurent Lavoisier \u2013 Trait\u00e9 \u00c9l\u00e9mentaire de Chimie (Elements of Chemistry) Alexander Hamilton, John Jay, and James Madison \u2013 Federalist Papers Jeremy Bentham \u2013 Introduction to the Principles of Morals and Legislation; Theory of Fictions Johann Wolfgang von Goethe \u2013 Faust; Poetry and Truth Jean Baptiste Joseph Fourier \u2013 Analytical Theory of Heat Georg Wilhelm Friedrich Hegel \u2013 Phenomenology of Spirit; Philosophy of Right; Lectures on the Philosophy of History William Wordsworth \u2013 Poems Samuel Taylor Coleridge \u2013 Poems; Biographia Literaria Jane Austen \u2013 Pride and Prejudice; Emma Carl von Clausewitz \u2013 On War Stendhal \u2013 The Red and the Black; The Charterhouse of Parma; On Love Lord Byron \u2013 Don Juan Arthur Schopenhauer \u2013 Studies in Pessimism Michael Faraday \u2013 Chemical History of a Candle; Experimental Researches in Electricity Charles Lyell \u2013 Principles of Geology Auguste Comte \u2013 The Positive Philosophy Honor\u00e9 de Balzac \u2013 P\u00e8re Goriot; Eugenie Grandet Ralph Waldo Emerson \u2013 Representative Men; Essays; Journal Nathaniel Hawthorne \u2013 The Scarlet Letter Alexis de Tocqueville \u2013 Democracy in America John Stuart Mill \u2013 A System of Logic; On Liberty; Representative Government; Utilitarianism; The Subjection of Women; Autobiography Charles Darwin \u2013 The Origin of Species; The Descent of Man; Autobiography Charles Dickens \u2013 Pickwick Papers; David Copperfield; Hard Times Claude Bernard \u2013 Introduction to the Study of Experimental Medicine Henry David Thoreau \u2013 Civil Disobedience; Walden Karl Marx \u2013 Capital; Communist Manifesto George Eliot \u2013 Adam Bede; Middlemarch Herman Melville \u2013 Moby-Dick; Billy Budd Fyodor Dostoevsky \u2013 Crime and Punishment; The Idiot; The Brothers Karamazov Gustave Flaubert \u2013 Madame Bovary; Three Stories Henrik Ibsen \u2013 Plays Leo Tolstoy \u2013 War and Peace; Anna Karenina; What is Art?; Twenty-Three Tales Mark Twain \u2013 The Adventures of Huckleberry Finn; The Mysterious Stranger William James \u2013 The Principles of Psychology; The Varieties of Religious Experience; Pragmatism; Essays in Radical Empiricism Henry James \u2013 The American; The Ambassadors Friedrich Wilhelm Nietzsche \u2013 Thus Spoke Zarathustra; Beyond Good and Evil; The Genealogy of Morals; The Will to Power Jules Henri Poincar\u00e9 \u2013 Science and Hypothesis; Science and Method Sigmund Freud \u2013 The Interpretation of Dreams; Introductory Lectures on Psychoanalysis; Civilization and Its Discontents; New Introductory Lectures on Psychoanalysis George Bernard Shaw \u2013 Plays and Prefaces Max Planck \u2013 Origin and Development of the Quantum Theory; Where Is Science Going?; Scientific Autobiography Henri Bergson \u2013 Time and Free Will; Matter and Memory; Creative Evolution; The Two Sources of Morality and Religion John Dewey \u2013 How We Think; Democracy and Education; Experience and Nature; Logic: the Theory of Inquiry Alfred North Whitehead \u2013 An Introduction to Mathematics; Science and the Modern World; The Aims of Education and Other Essays; Adventures of Ideas George Santayana \u2013 The Life of Reason; Skepticism and Animal Faith; Persons and Places Vladimir Lenin \u2013 The State and Revolution Marcel Proust \u2013 Remembrance of Things Past Bertrand Russell \u2013 The Problems of Philosophy; The Analysis of Mind; An Inquiry into Meaning and Truth; Human Knowledge, Its Scope and Limits Thomas Mann \u2013 The Magic Mountain; Joseph and His Brothers Albert Einstein \u2013 The Meaning of Relativity; On the Method of Theoretical Physics; The Evolution of Physics James Joyce \u2013 'The Dead' in Dubliners; A Portrait of the Artist as a Young Man; Ulysses Jacques Maritain \u2013 Art and Scholasticism; The Degrees of Knowledge; The Rights of Man and Natural Law; True Humanism Franz Kafka \u2013 The Trial; The Castle Arnold J. Toynbee \u2013 A Study of History; Civilization on Trial Jean-Paul Sartre \u2013 Nausea; No Exit; Being and Nothingness Aleksandr Solzhenitsyn \u2013 The First Circle; The Cancer Ward","title":"\ud83d\udcdd How To Read A Book"},{"location":"books/reviews/how-to-read-a-book/#how-to-read-a-book","text":"","title":"\ud83d\udcdd How To Read A Book"},{"location":"books/reviews/how-to-read-a-book/#by-mortimer-j-adler-and-charles-van-doren","text":"Reading this was a turning point for me. For a lifetime, I'd read anything that caught my interest: science fiction, evolutionary biology, classic literature and so on. After reading far too many general science books, I started to realize that I'd hit a plateau, and was not learning anything new from them. I felt like I had to go deeper and analyze one of these subjects thoroughly, or wider, to learn something new. And then I came across this book. How to Read a Book taught me to embrace difficult books. Life's too short, so why waste it reading trivial crap? It's better to go straight to the source and read the thoughts of our greatest thinkers the way they intended.","title":"By Mortimer J. Adler and Charles Van Doren"},{"location":"books/reviews/how-to-read-a-book/#quotes","text":"Here are some quotes from the book that I noted in my reading: \"Good books are over your head; they would not be good for you if they were not.\"","title":"Quotes"},{"location":"books/reviews/how-to-read-a-book/#reading-list","text":"And below is their recommended reading list. Homer \u2013 Iliad, Odyssey The Old Testament Aeschylus \u2013 Tragedies Sophocles \u2013 Tragedies Herodotus \u2013 Histories Euripides \u2013 Tragedies Thucydides \u2013 History of the Peloponnesian War Hippocrates \u2013 Medical Writings Aristophanes \u2013 Comedies Plato \u2013 Dialogues Aristotle \u2013 Works Epicurus \u2013 Letter to Herodotus; Letter to Menoecus Euclid \u2013 Elements Archimedes \u2013 Works Apollonius of Perga \u2013 Conic Sections Cicero \u2013 Works Lucretius \u2013 On the Nature of Things Virgil \u2013 Works Horace \u2013 Works Livy \u2013 History of Rome Ovid \u2013 Works Plutarch \u2013 Parallel Lives; Moralia Tacitus \u2013 Histories; Annals; Agricola; Germania Nicomachus of Gerasa \u2013 Introduction to Arithmetic Epictetus \u2013 Discourses; Encheiridion Ptolemy \u2013 Almagest Lucian \u2013 Works Marcus Aurelius \u2013 Meditations Galen \u2013 On the Natural Faculties The New Testament Plotinus \u2013 The Enneads St. Augustine \u2013 On the Teacher; Confessions; City of God; On Christian Doctrine The Song of Roland The Nibelungenlied The Saga of Burnt Nj\u00e1l St. Thomas Aquinas \u2013 Summa Theologica Dante Alighieri \u2013 The Divine Comedy;The New Life; On Monarchy Geoffrey Chaucer \u2013 Troilus and Criseyde; The Canterbury Tales Leonardo da Vinci \u2013 Notebooks Niccol\u00f2 Machiavelli \u2013 The Prince; Discourses on the First Ten Books of Livy Desiderius Erasmus \u2013 The Praise of Folly Nicolaus Copernicus \u2013 On the Revolutions of the Heavenly Spheres Thomas More \u2013 Utopia Martin Luther \u2013 Table Talk; Three Treatises Fran\u00e7ois Rabelais \u2013 Gargantua and Pantagruel John Calvin \u2013 Institutes of the Christian Religion Michel de Montaigne \u2013 Essays William Gilbert \u2013 On the Loadstone and Magnetic Bodies Miguel de Cervantes \u2013 Don Quixote Edmund Spenser \u2013 Prothalamion; The Faerie Queene Francis Bacon \u2013 Essays; Advancement of Learning; Novum Organum, New Atlantis William Shakespeare \u2013 Poetry and Plays Galileo Galilei \u2013 Starry Messenger; Dialogues Concerning Two New Sciences Johannes Kepler \u2013 Epitome of Copernican Astronomy; Concerning the Harmonies of the World William Harvey \u2013 On the Motion of the Heart and Blood in Animals; On the Circulation of the Blood; On the Generation of Animals Thomas Hobbes \u2013 Leviathan Ren\u00e9 Descartes \u2013 Rules for the Direction of the Mind; Discourse on the Method; Geometry; Meditations on First Philosophy John Milton \u2013 Works Moli\u00e8re \u2013 Comedies Blaise Pascal \u2013 The Provincial Letters; Pensees; Scientific Treatises Christiaan Huygens \u2013 Treatise on Light Benedict de Spinoza \u2013 Ethics John Locke \u2013 Letter Concerning Toleration; Of Civil Government; Essay Concerning Human Understanding; Thoughts Concerning Education Jean Baptiste Racine \u2013 Tragedies Isaac Newton \u2013 Mathematical Principles of Natural Philosophy; Optics Gottfried Wilhelm Leibniz \u2013 Discourse on Metaphysics; New Essays Concerning Human Understanding; Monadology Daniel Defoe \u2013 Robinson Crusoe Jonathan Swift \u2013 A Tale of a Tub; Journal to Stella; Gulliver's Travels; A Modest Proposal William Congreve \u2013 The Way of the World George Berkeley \u2013 Principles of Human Knowledge Alexander Pope \u2013 Essay on Criticism; Rape of the Lock; Essay on Man Charles de Secondat, baron de Montesquieu \u2013 Persian Letters; Spirit of Laws Voltaire \u2013 Letters on the English; Candide; Philosophical Dictionary Henry Fielding \u2013 Joseph Andrews; Tom Jones Samuel Johnson \u2013 The Vanity of Human Wishes; Dictionary; Rasselas; The Lives of the Poets David Hume \u2013 Treatise on Human Nature; Essays Moral and Political; An Enquiry Concerning Human Understanding Jean-Jacques Rousseau \u2013 On the Origin of Inequality; On the Political Economy; Emile \u2013 or, On Education, The Social Contract Laurence Sterne \u2013 Tristram Shandy; A Sentimental Journey through France and Italy Adam Smith \u2013 The Theory of Moral Sentiments; The Wealth of Nations Immanuel Kant \u2013 Critique of Pure Reason; Fundamental Principles of the Metaphysics of Morals; Critique of Practical Reason; The Science of Right; Critique of Judgment; Perpetual Peace Edward Gibbon \u2013 The Decline and Fall of the Roman Empire; Autobiography James Boswell \u2013 Journal; Life of Samuel Johnson, Ll.D. Antoine Laurent Lavoisier \u2013 Trait\u00e9 \u00c9l\u00e9mentaire de Chimie (Elements of Chemistry) Alexander Hamilton, John Jay, and James Madison \u2013 Federalist Papers Jeremy Bentham \u2013 Introduction to the Principles of Morals and Legislation; Theory of Fictions Johann Wolfgang von Goethe \u2013 Faust; Poetry and Truth Jean Baptiste Joseph Fourier \u2013 Analytical Theory of Heat Georg Wilhelm Friedrich Hegel \u2013 Phenomenology of Spirit; Philosophy of Right; Lectures on the Philosophy of History William Wordsworth \u2013 Poems Samuel Taylor Coleridge \u2013 Poems; Biographia Literaria Jane Austen \u2013 Pride and Prejudice; Emma Carl von Clausewitz \u2013 On War Stendhal \u2013 The Red and the Black; The Charterhouse of Parma; On Love Lord Byron \u2013 Don Juan Arthur Schopenhauer \u2013 Studies in Pessimism Michael Faraday \u2013 Chemical History of a Candle; Experimental Researches in Electricity Charles Lyell \u2013 Principles of Geology Auguste Comte \u2013 The Positive Philosophy Honor\u00e9 de Balzac \u2013 P\u00e8re Goriot; Eugenie Grandet Ralph Waldo Emerson \u2013 Representative Men; Essays; Journal Nathaniel Hawthorne \u2013 The Scarlet Letter Alexis de Tocqueville \u2013 Democracy in America John Stuart Mill \u2013 A System of Logic; On Liberty; Representative Government; Utilitarianism; The Subjection of Women; Autobiography Charles Darwin \u2013 The Origin of Species; The Descent of Man; Autobiography Charles Dickens \u2013 Pickwick Papers; David Copperfield; Hard Times Claude Bernard \u2013 Introduction to the Study of Experimental Medicine Henry David Thoreau \u2013 Civil Disobedience; Walden Karl Marx \u2013 Capital; Communist Manifesto George Eliot \u2013 Adam Bede; Middlemarch Herman Melville \u2013 Moby-Dick; Billy Budd Fyodor Dostoevsky \u2013 Crime and Punishment; The Idiot; The Brothers Karamazov Gustave Flaubert \u2013 Madame Bovary; Three Stories Henrik Ibsen \u2013 Plays Leo Tolstoy \u2013 War and Peace; Anna Karenina; What is Art?; Twenty-Three Tales Mark Twain \u2013 The Adventures of Huckleberry Finn; The Mysterious Stranger William James \u2013 The Principles of Psychology; The Varieties of Religious Experience; Pragmatism; Essays in Radical Empiricism Henry James \u2013 The American; The Ambassadors Friedrich Wilhelm Nietzsche \u2013 Thus Spoke Zarathustra; Beyond Good and Evil; The Genealogy of Morals; The Will to Power Jules Henri Poincar\u00e9 \u2013 Science and Hypothesis; Science and Method Sigmund Freud \u2013 The Interpretation of Dreams; Introductory Lectures on Psychoanalysis; Civilization and Its Discontents; New Introductory Lectures on Psychoanalysis George Bernard Shaw \u2013 Plays and Prefaces Max Planck \u2013 Origin and Development of the Quantum Theory; Where Is Science Going?; Scientific Autobiography Henri Bergson \u2013 Time and Free Will; Matter and Memory; Creative Evolution; The Two Sources of Morality and Religion John Dewey \u2013 How We Think; Democracy and Education; Experience and Nature; Logic: the Theory of Inquiry Alfred North Whitehead \u2013 An Introduction to Mathematics; Science and the Modern World; The Aims of Education and Other Essays; Adventures of Ideas George Santayana \u2013 The Life of Reason; Skepticism and Animal Faith; Persons and Places Vladimir Lenin \u2013 The State and Revolution Marcel Proust \u2013 Remembrance of Things Past Bertrand Russell \u2013 The Problems of Philosophy; The Analysis of Mind; An Inquiry into Meaning and Truth; Human Knowledge, Its Scope and Limits Thomas Mann \u2013 The Magic Mountain; Joseph and His Brothers Albert Einstein \u2013 The Meaning of Relativity; On the Method of Theoretical Physics; The Evolution of Physics James Joyce \u2013 'The Dead' in Dubliners; A Portrait of the Artist as a Young Man; Ulysses Jacques Maritain \u2013 Art and Scholasticism; The Degrees of Knowledge; The Rights of Man and Natural Law; True Humanism Franz Kafka \u2013 The Trial; The Castle Arnold J. Toynbee \u2013 A Study of History; Civilization on Trial Jean-Paul Sartre \u2013 Nausea; No Exit; Being and Nothingness Aleksandr Solzhenitsyn \u2013 The First Circle; The Cancer Ward","title":"Reading List"},{"location":"books/reviews/the-art-of-the-infinite/","text":"\ud83d\udcdd The Art of the Infinite This is the kind of book I wish I\u2019d read 20 years back. The Kaplans cover a lot of ground, so the book is densely packed with remarkable insights. Although most of the topics (algebra, geometry) were covered in my school syllabus in my younger days, the difference is in how it bridges vast areas of mathematics together. A seemingly insurmountable problem is shown first. Then some remarkable piece of magic happens. And the clouds clear and light shines through. A book like this gives a glimpse of the awe-inspiring structure and symmetry in the Universe that mathematicians create in their minds.","title":"\ud83d\udcdd The Art of the Infinite"},{"location":"books/reviews/the-art-of-the-infinite/#the-art-of-the-infinite","text":"This is the kind of book I wish I\u2019d read 20 years back. The Kaplans cover a lot of ground, so the book is densely packed with remarkable insights. Although most of the topics (algebra, geometry) were covered in my school syllabus in my younger days, the difference is in how it bridges vast areas of mathematics together. A seemingly insurmountable problem is shown first. Then some remarkable piece of magic happens. And the clouds clear and light shines through. A book like this gives a glimpse of the awe-inspiring structure and symmetry in the Universe that mathematicians create in their minds.","title":"\ud83d\udcdd The Art of the Infinite"},{"location":"books/reviews/thinking-climate-change/","text":"\ud83d\udcdd The Thinking Person's Guide to Climate Change Author: Robert Henson Part 1 - The Basics - Global Warming in a nutshell Chapter 1 - Climate Change: A Primer Check out the IPCC organization and it's reports. Detection and attribution i.e. is the climate Changing, and is it changing because of humans. Eg temperature warming at poles is not expected from natural causes. The spectrum extends anywhere from 0.4\u00b0 to 2.6\u00b0C (0.7\u00b0\u20134.7\u00b0F) by 2046\u20132065 and from 0.3\u00b0 to 4.8\u00b0C (0.5\u00b0\u20138.6\u00b0F) by 2081\u20132100. Importantly, this would be on top of the warming of about 0.6\u00b0C (1.1\u00b0F) that occurred from the 1850\u20131900 period to the 1986\u20132005 comparison period. There\u2019s nothing magic about the 2\u00b0C value, as we\u2019ll see in chapter 14, but it serves as a \u201cdo not exceed\u201d guidepost in the Paris Agreement on tackling climate change. Together, the United States and China account for an ever-increasing slice of the globe\u2019s greenhouse emissions\u2014more than 40%, as of 2014. Kyoto agreement was binding, but the US and China were not a part of it. The Paris agreement is self enforced, so is a step back. Chapter 2 - The Greenhouse Effect Good analogies: think of temperatures on the moon, which doesn't have an atmosphere. Similarly, a car left in the sun gets really hot. Similarly, the atmosphere traps heat. CO2 is 96 percent of Venus's atmosphere. 0.04 percent off ours. Also it's 25 percent closer to the sun than us. Surface air temperature of 460 degrees celsius. Mercury, although much closer to the sun, has a much lower average temperature due to its thin atmosphere. Unlike a glass box, the atmosphere doesn't trap heat. It mainly absorbs infrared radiation rising from the earth: 30 percent reflected by land (more by snow than forests) 20 absorbed by clouds and partially reflected back downwards. Clouds, water vapour, greenhouse gases. 50 absorbed by land, forests oceans etc Note that visible light seems to be scattered out, it's only the (long wave) infrared radiation that bounces inside the atmosphere. Positive feedback loop makes it worse: more CO2, more warmth, more water evaporating from oceans, and that doubles the impact. Water vapour: less greenhouse effect compared to CO2 and methane, but large quantity. If temperatures increase, the air can hold more vapour, which again traps more heat. Since 1958, measurements have been taken in Hawaii's Mauna Loa. Being remote and high, it is far enough away from industrial effects that it serves as a global measurement of CO2 increase. Todo explain why the stratosphere has been cooling while the surface has been warming. Chapter 3 - Who\u2019s Responsible? Emissions breakdown: Transport 14 Buildings 18 Industry 29 Other energy 14 Agriculture, forestry and other land use 20 Landfills and waste water 3 Part 2 - The Symptoms: WHAT\u2019S HAPPENING NOW, AND WHAT MIGHT HAPPEN IN THE FUTURE CHAPTER 4 - Extreme Heat Heat affects mortality because high temperatures generate more ozone. It irritates the lungs and makes people more vulnerable to other pollutants. PM2.5 and PM10 particles also accumulate during a heat wave. Heavy metals, sulphates, nitrates etc bypass the respiratory filters, causing lung problems and increasing the risk of heart attacks. Measuring deaths from heat waves: not easy since it's indirect. It mainly claims lives of the very young or very old. But if tje argument was that the very old simply doed a bit before their time, we should see that the mortality numbers dipped by a similar percentage after the heat wave. But what we observe are that there are 3xcess deaths above what we'd expect if some deaths were simply happening earlier. I.e. there are people who are dying before 'their time'. How to measure: things like absolute values don't give a good sense when comparing different cities across the world. Monthly max / min doesn't capture a week long heat wave. And so on. So a good measure is 'Percentile departure' i.e. the number of days that land among the hottest of all days in that month's long term record, based on percentage (i.e. Hottest 10 %, hottest 5%, 1% etc.) Chapter 5 - Floods and Droughts Chapter 6 - The Big Melt Chapter 7 - Oceans Chapter 8 - Hurricanes and Other Storms Chapter 9 - Ecosystems and Agriculture Part 3: The Science - How we know what we know about climate change Chapter 10 - Keeping Track Chapter 11 - The Long View Chapter 12 - Circuits of Change Part 4 - Debates and Solutions - From spats and spin to protecting the planet Chapter 13 - A Heated Topic Chapter 14 - The Predicament Chapter 15 - Political Solutions Chapter 16 - Technological Solutions Part 5 - What Can You Do? Reducing your footprint and working for action Chapter 17 - Getting Started Chapter 18 - Home Energy Chapter 19 - Transport and Travel Chapter 20 - Shopping Chapter 21 - Offsetting","title":"\ud83d\udcdd The Thinking Person's Guide to Climate Change"},{"location":"books/reviews/thinking-climate-change/#the-thinking-persons-guide-to-climate-change","text":"Author: Robert Henson","title":"\ud83d\udcdd The Thinking Person's Guide to Climate Change"},{"location":"books/reviews/thinking-climate-change/#part-1-the-basics-global-warming-in-a-nutshell","text":"","title":"Part 1 - The Basics - Global Warming in a nutshell"},{"location":"books/reviews/thinking-climate-change/#chapter-1-climate-change-a-primer","text":"Check out the IPCC organization and it's reports. Detection and attribution i.e. is the climate Changing, and is it changing because of humans. Eg temperature warming at poles is not expected from natural causes. The spectrum extends anywhere from 0.4\u00b0 to 2.6\u00b0C (0.7\u00b0\u20134.7\u00b0F) by 2046\u20132065 and from 0.3\u00b0 to 4.8\u00b0C (0.5\u00b0\u20138.6\u00b0F) by 2081\u20132100. Importantly, this would be on top of the warming of about 0.6\u00b0C (1.1\u00b0F) that occurred from the 1850\u20131900 period to the 1986\u20132005 comparison period. There\u2019s nothing magic about the 2\u00b0C value, as we\u2019ll see in chapter 14, but it serves as a \u201cdo not exceed\u201d guidepost in the Paris Agreement on tackling climate change. Together, the United States and China account for an ever-increasing slice of the globe\u2019s greenhouse emissions\u2014more than 40%, as of 2014. Kyoto agreement was binding, but the US and China were not a part of it. The Paris agreement is self enforced, so is a step back.","title":"Chapter 1 - Climate Change: A Primer"},{"location":"books/reviews/thinking-climate-change/#chapter-2-the-greenhouse-effect","text":"Good analogies: think of temperatures on the moon, which doesn't have an atmosphere. Similarly, a car left in the sun gets really hot. Similarly, the atmosphere traps heat. CO2 is 96 percent of Venus's atmosphere. 0.04 percent off ours. Also it's 25 percent closer to the sun than us. Surface air temperature of 460 degrees celsius. Mercury, although much closer to the sun, has a much lower average temperature due to its thin atmosphere. Unlike a glass box, the atmosphere doesn't trap heat. It mainly absorbs infrared radiation rising from the earth: 30 percent reflected by land (more by snow than forests) 20 absorbed by clouds and partially reflected back downwards. Clouds, water vapour, greenhouse gases. 50 absorbed by land, forests oceans etc Note that visible light seems to be scattered out, it's only the (long wave) infrared radiation that bounces inside the atmosphere. Positive feedback loop makes it worse: more CO2, more warmth, more water evaporating from oceans, and that doubles the impact. Water vapour: less greenhouse effect compared to CO2 and methane, but large quantity. If temperatures increase, the air can hold more vapour, which again traps more heat. Since 1958, measurements have been taken in Hawaii's Mauna Loa. Being remote and high, it is far enough away from industrial effects that it serves as a global measurement of CO2 increase. Todo explain why the stratosphere has been cooling while the surface has been warming.","title":"Chapter 2 - The Greenhouse Effect"},{"location":"books/reviews/thinking-climate-change/#chapter-3-whos-responsible","text":"Emissions breakdown: Transport 14 Buildings 18 Industry 29 Other energy 14 Agriculture, forestry and other land use 20 Landfills and waste water 3","title":"Chapter 3 - Who\u2019s Responsible?"},{"location":"books/reviews/thinking-climate-change/#part-2-the-symptoms-whats-happening-now-and-what-might-happen-in-the-future","text":"","title":"Part 2 - The Symptoms: WHAT\u2019S HAPPENING NOW, AND WHAT MIGHT HAPPEN IN THE FUTURE"},{"location":"books/reviews/thinking-climate-change/#chapter-4-extreme-heat","text":"Heat affects mortality because high temperatures generate more ozone. It irritates the lungs and makes people more vulnerable to other pollutants. PM2.5 and PM10 particles also accumulate during a heat wave. Heavy metals, sulphates, nitrates etc bypass the respiratory filters, causing lung problems and increasing the risk of heart attacks. Measuring deaths from heat waves: not easy since it's indirect. It mainly claims lives of the very young or very old. But if tje argument was that the very old simply doed a bit before their time, we should see that the mortality numbers dipped by a similar percentage after the heat wave. But what we observe are that there are 3xcess deaths above what we'd expect if some deaths were simply happening earlier. I.e. there are people who are dying before 'their time'. How to measure: things like absolute values don't give a good sense when comparing different cities across the world. Monthly max / min doesn't capture a week long heat wave. And so on. So a good measure is 'Percentile departure' i.e. the number of days that land among the hottest of all days in that month's long term record, based on percentage (i.e. Hottest 10 %, hottest 5%, 1% etc.)","title":"CHAPTER 4 - Extreme Heat"},{"location":"books/reviews/thinking-climate-change/#chapter-5-floods-and-droughts","text":"","title":"Chapter 5 - Floods and Droughts"},{"location":"books/reviews/thinking-climate-change/#chapter-6-the-big-melt","text":"","title":"Chapter 6 - The Big Melt"},{"location":"books/reviews/thinking-climate-change/#chapter-7-oceans","text":"","title":"Chapter 7 - Oceans"},{"location":"books/reviews/thinking-climate-change/#chapter-8-hurricanes-and-other-storms","text":"","title":"Chapter 8 - Hurricanes and Other Storms"},{"location":"books/reviews/thinking-climate-change/#chapter-9-ecosystems-and-agriculture","text":"","title":"Chapter 9 - Ecosystems and Agriculture"},{"location":"books/reviews/thinking-climate-change/#part-3-the-science-how-we-know-what-we-know-about-climate-change","text":"","title":"Part 3: The Science - How we know what we know about climate change"},{"location":"books/reviews/thinking-climate-change/#chapter-10-keeping-track","text":"","title":"Chapter 10 - Keeping Track"},{"location":"books/reviews/thinking-climate-change/#chapter-11-the-long-view","text":"","title":"Chapter 11 - The Long View"},{"location":"books/reviews/thinking-climate-change/#chapter-12-circuits-of-change","text":"","title":"Chapter 12 - Circuits of Change"},{"location":"books/reviews/thinking-climate-change/#part-4-debates-and-solutions-from-spats-and-spin-to-protecting-the-planet","text":"","title":"Part 4 - Debates and Solutions - From spats and spin to protecting the planet"},{"location":"books/reviews/thinking-climate-change/#chapter-13-a-heated-topic","text":"","title":"Chapter 13 - A Heated Topic"},{"location":"books/reviews/thinking-climate-change/#chapter-14-the-predicament","text":"","title":"Chapter 14 - The Predicament"},{"location":"books/reviews/thinking-climate-change/#chapter-15-political-solutions","text":"","title":"Chapter 15 - Political Solutions"},{"location":"books/reviews/thinking-climate-change/#chapter-16-technological-solutions","text":"","title":"Chapter 16 - Technological Solutions"},{"location":"books/reviews/thinking-climate-change/#part-5-what-can-you-do-reducing-your-footprint-and-working-for-action","text":"","title":"Part 5 - What Can You Do? Reducing your footprint and working for action"},{"location":"books/reviews/thinking-climate-change/#chapter-17-getting-started","text":"","title":"Chapter 17 - Getting Started"},{"location":"books/reviews/thinking-climate-change/#chapter-18-home-energy","text":"","title":"Chapter 18 - Home Energy"},{"location":"books/reviews/thinking-climate-change/#chapter-19-transport-and-travel","text":"","title":"Chapter 19 - Transport and Travel"},{"location":"books/reviews/thinking-climate-change/#chapter-20-shopping","text":"","title":"Chapter 20 - Shopping"},{"location":"books/reviews/thinking-climate-change/#chapter-21-offsetting","text":"","title":"Chapter 21 - Offsetting"},{"location":"books/reviews/we-are-our-brains/","text":"\ud83d\udcdd We Are Our Brains Notes taken while reading the excellent We are our brains by Dick Shwaab. Hormones Oxytocin - comfort , bonding Prolactin - in expectant fathers. Nesting behaviour in moms. Vasopressin - marital difficulties and aggression in men, but trust of strangers in women. Hormone created and released by the brain. Also inhibits excretion of water. Both vasopressin and oxytocin levels are unbalanced in autists Other Anencephaly linked to pesticide use Thalidomide taken during pregnancy led to birth defects (missing limbs) Pain in a fetus Pain sensors on skin - 7th week onwards BUT wiring to cerebral cortex - 26 weeks onwards So the fetus can react locally after 7 weeks but it is doubtful that pain is actually transmitted until about 25-29 weeks Finally it must be perceived by the brain. Only at 35-37 weeks is there slight difference in reaction to a touch vs a pin prick Puberty Young people have a poor PFC i.e. pre frontal cortex , which limits their planning and organisational skills Puberty kicks in annoying behaviour within the family to limit incest, at the same time increasing risk taking and exploration. The kiss1 gene starts the whole process. Fat reserves are ensured by monitoring leptin. Melatonin inhibits puberty. Miscellaneous Narcolepsy - sleep disorder. Tiredness in day, uneasy sleep at night. Cataplexy - too much emotion leads to patient seemingly becoming unconscious. They lose muscle tension and collapse but are fully aware otherwise.","title":"\ud83d\udcdd We Are Our Brains"},{"location":"books/reviews/we-are-our-brains/#we-are-our-brains","text":"Notes taken while reading the excellent We are our brains by Dick Shwaab.","title":"\ud83d\udcdd We Are Our Brains"},{"location":"books/reviews/we-are-our-brains/#hormones","text":"Oxytocin - comfort , bonding Prolactin - in expectant fathers. Nesting behaviour in moms. Vasopressin - marital difficulties and aggression in men, but trust of strangers in women. Hormone created and released by the brain. Also inhibits excretion of water. Both vasopressin and oxytocin levels are unbalanced in autists","title":"Hormones"},{"location":"books/reviews/we-are-our-brains/#other","text":"Anencephaly linked to pesticide use Thalidomide taken during pregnancy led to birth defects (missing limbs)","title":"Other"},{"location":"books/reviews/we-are-our-brains/#pain-in-a-fetus","text":"Pain sensors on skin - 7th week onwards BUT wiring to cerebral cortex - 26 weeks onwards So the fetus can react locally after 7 weeks but it is doubtful that pain is actually transmitted until about 25-29 weeks Finally it must be perceived by the brain. Only at 35-37 weeks is there slight difference in reaction to a touch vs a pin prick","title":"Pain in a fetus"},{"location":"books/reviews/we-are-our-brains/#puberty","text":"Young people have a poor PFC i.e. pre frontal cortex , which limits their planning and organisational skills Puberty kicks in annoying behaviour within the family to limit incest, at the same time increasing risk taking and exploration. The kiss1 gene starts the whole process. Fat reserves are ensured by monitoring leptin. Melatonin inhibits puberty.","title":"Puberty"},{"location":"books/reviews/we-are-our-brains/#miscellaneous","text":"Narcolepsy - sleep disorder. Tiredness in day, uneasy sleep at night. Cataplexy - too much emotion leads to patient seemingly becoming unconscious. They lose muscle tension and collapse but are fully aware otherwise.","title":"Miscellaneous"},{"location":"games/","text":"\ud83c\udfaeGames I prefer single-player Action Adventure open-world games. Bonus points if it has a good story. Since 2018 I've had an Xbox One S . In late-2021 I got a new laptop and it is great that Game Pass Ultimate gives you access to a lot of the console portfolio, with saves sync'd neatly between the two. Here are the games I've completed (i.e. seen the end credits, I'm not an achievement hunter) in the past few years: 2022 2021 2020 2019 and before All time favourites: this decade These games have left a lasting impression on me. Check them out! Titanfall 2 Assassin's Creed: Odyssey Halo: Reach Favourites: legacy A long time ago, I played these games and loved the heck out of them: Braid Brothers: A tale of two sons","title":"\ud83c\udfaeGames"},{"location":"games/#games","text":"I prefer single-player Action Adventure open-world games. Bonus points if it has a good story. Since 2018 I've had an Xbox One S . In late-2021 I got a new laptop and it is great that Game Pass Ultimate gives you access to a lot of the console portfolio, with saves sync'd neatly between the two. Here are the games I've completed (i.e. seen the end credits, I'm not an achievement hunter) in the past few years: 2022 2021 2020 2019 and before","title":"\ud83c\udfaeGames"},{"location":"games/#all-time-favourites-this-decade","text":"These games have left a lasting impression on me. Check them out! Titanfall 2 Assassin's Creed: Odyssey Halo: Reach","title":"All time favourites: this decade"},{"location":"games/#favourites-legacy","text":"A long time ago, I played these games and loved the heck out of them: Braid Brothers: A tale of two sons","title":"Favourites: legacy"},{"location":"games/2019-and-before/","text":"\ud83c\udfae 2019 and before I got my Xbox One in 2018 and it rekindled my love of gaming. Prior to this I had a few handhelds (Vita and 3DS) and played a bit on my PC. The ones with a \u2665 are highly recommended. Far Cry 4 Almost as good as 5. Better story as well. I think I like 5 more only because I played it first. Shadow of the Tomb Raider Fun game, great visuals and stealth sections. Little disappointed with the overall game. I can't put my hand to exactly what felt wrong. \u2665 Far Cry 5 Probably my favourite game on the console so far. Amazing open world, supports a lot of play styles, nice co-op AI partners. \u2665 Rayman Legends My kids love this. Exquisite level design & music. You can go back to this a hundred times and not get bored. What I like most is that the levels are as easy and hard as you want them to be, unlike most platformers that are annoyingly hard. Life is Strange I felt a little old playing this, but it was worth completing. I really liked that the protagonist is into photography, and they spend a lot of effort in showing that passion beyond just the basics. It reminded me of the opening of Beyond Good and Evil where you just walk around taking photographs of animals. I could sense the game manipulating me at the end towards a binary choice. Gears of War 4 Like a Michael Bay movie. Fun diversion for a few hours. Batman: Arkham Knight Disappointing. Too much driving. INSIDE Lovely little gem of a game. Watch Dogs Pretty fun game except for the brooding protagonist. \u2665 Titanfall 2 Absolutely phenomenal single-player campaign. One of the few games I've gone back to and replayed. Constantly throws new things at you. And the movement in this game is just sublime . \u2665 Rise of the Tomb Raider Probably my favourite series. I have fond memories of playing Tomb Raider: Legend on my PS2. I love how vertical this whole game is. Mass Effect: Andromeda I wish they made more games like this. Phenomenal world designs. Sped through the last quarter of the game but what I loved most was exploring each planet in the early stages. Bioshock I'd played it earlier on PC and sped through the first part. Not a fan of the choice system, but enjoyable otherwise. Homefront Revolution Ignore the reviews, this is a fun game. Very nice tension where you're initially avoiding an overpowered enemy, and slowly instigating enough of a rebellion to tip the balance. Halo 5 Decent single player campaign. Skipped the multiplayer bits. Had no idea what was going on story-wise, as I've never payed a Halo before. Call of Duty - Infinite Warfare Tolerable single player campaign. Titanfall 2 does this kind of thing a lot better. Deus Ex: Mankind Divided Badly wanted to like this game, but didn't. I love the world and character design but really hated the gameplay. I felt like the smallest mistake in the stealth gameplay messed the entire level and didn't want to reload and replay each time I made a mistake. So I switched to a more lethal approach to finish the game.","title":"\ud83c\udfae 2019 and before"},{"location":"games/2019-and-before/#2019-and-before","text":"I got my Xbox One in 2018 and it rekindled my love of gaming. Prior to this I had a few handhelds (Vita and 3DS) and played a bit on my PC. The ones with a \u2665 are highly recommended.","title":"\ud83c\udfae 2019 and before"},{"location":"games/2019-and-before/#far-cry-4","text":"Almost as good as 5. Better story as well. I think I like 5 more only because I played it first.","title":"Far Cry 4"},{"location":"games/2019-and-before/#shadow-of-the-tomb-raider","text":"Fun game, great visuals and stealth sections. Little disappointed with the overall game. I can't put my hand to exactly what felt wrong.","title":"Shadow of the Tomb Raider"},{"location":"games/2019-and-before/#far-cry-5","text":"Probably my favourite game on the console so far. Amazing open world, supports a lot of play styles, nice co-op AI partners.","title":"\u2665Far Cry 5"},{"location":"games/2019-and-before/#rayman-legends","text":"My kids love this. Exquisite level design & music. You can go back to this a hundred times and not get bored. What I like most is that the levels are as easy and hard as you want them to be, unlike most platformers that are annoyingly hard.","title":"\u2665Rayman Legends"},{"location":"games/2019-and-before/#life-is-strange","text":"I felt a little old playing this, but it was worth completing. I really liked that the protagonist is into photography, and they spend a lot of effort in showing that passion beyond just the basics. It reminded me of the opening of Beyond Good and Evil where you just walk around taking photographs of animals. I could sense the game manipulating me at the end towards a binary choice.","title":"Life is Strange"},{"location":"games/2019-and-before/#gears-of-war-4","text":"Like a Michael Bay movie. Fun diversion for a few hours.","title":"Gears of War 4"},{"location":"games/2019-and-before/#batman-arkham-knight","text":"Disappointing. Too much driving.","title":"Batman: Arkham Knight"},{"location":"games/2019-and-before/#inside","text":"Lovely little gem of a game.","title":"INSIDE"},{"location":"games/2019-and-before/#watch-dogs","text":"Pretty fun game except for the brooding protagonist.","title":"Watch Dogs"},{"location":"games/2019-and-before/#titanfall-2","text":"Absolutely phenomenal single-player campaign. One of the few games I've gone back to and replayed. Constantly throws new things at you. And the movement in this game is just sublime .","title":"\u2665Titanfall 2"},{"location":"games/2019-and-before/#rise-of-the-tomb-raider","text":"Probably my favourite series. I have fond memories of playing Tomb Raider: Legend on my PS2. I love how vertical this whole game is.","title":"\u2665Rise of the Tomb Raider"},{"location":"games/2019-and-before/#mass-effect-andromeda","text":"I wish they made more games like this. Phenomenal world designs. Sped through the last quarter of the game but what I loved most was exploring each planet in the early stages.","title":"Mass Effect: Andromeda"},{"location":"games/2019-and-before/#bioshock","text":"I'd played it earlier on PC and sped through the first part. Not a fan of the choice system, but enjoyable otherwise.","title":"Bioshock"},{"location":"games/2019-and-before/#homefront-revolution","text":"Ignore the reviews, this is a fun game. Very nice tension where you're initially avoiding an overpowered enemy, and slowly instigating enough of a rebellion to tip the balance.","title":"Homefront Revolution"},{"location":"games/2019-and-before/#halo-5","text":"Decent single player campaign. Skipped the multiplayer bits. Had no idea what was going on story-wise, as I've never payed a Halo before.","title":"Halo 5"},{"location":"games/2019-and-before/#call-of-duty-infinite-warfare","text":"Tolerable single player campaign. Titanfall 2 does this kind of thing a lot better.","title":"Call of Duty - Infinite Warfare"},{"location":"games/2019-and-before/#deus-ex-mankind-divided","text":"Badly wanted to like this game, but didn't. I love the world and character design but really hated the gameplay. I felt like the smallest mistake in the stealth gameplay messed the entire level and didn't want to reload and replay each time I made a mistake. So I switched to a more lethal approach to finish the game.","title":"Deus Ex: Mankind Divided"},{"location":"games/2020/","text":"\ud83c\udfae 2020 This was the year I played all the Gears games (except Tactics), and thoroughly enjoyed them. The ones with a \u2665 are highly recommended. Gears 5 Again, an enjoyable game. Quite different from the classics but good in its own way. Gears 2, Gears 3 Finished the remaining legacy Gears games during the 2020 year-end holidays. An excellent series from start to finish. \u2665 Gears of War Mindless fun. Thoroughly enjoyed playing this and now I intend to play through the rest of the series. Phenomenal weapons (the Hammer of Dawn, the Lancer), memorable boss fights. Rage 2 I have a soft spot for this series so I liked it. I loved the post-apocalyptic world-design. \u2665 Assassin's Creed Odyssey I've loved greek mythology all my life so this was an amazing experience. Very nice variety in play styles (ranger/warrior/assassin), and constant loots and upgrades made for a addictive gameplay loop. Side quest plots are pretty average. Injustice 2 Kids loved it. Nice single player campaign, but a bit short. Watch Dogs 2 It took me several attempts to get into this game. The open world is beautiful, and so is the satirical take on Silicon Valley. The part I struggled with was the annoying stealth gameplay. I truly started enjoying it only after switching my play style to a more aggressive mode. Thief An enjoyable game. I loved their stealth implementation (over other games like Deus Ex: Mankind Divided). There were some truly thrilling moments during the game.","title":"\ud83c\udfae 2020"},{"location":"games/2020/#2020","text":"This was the year I played all the Gears games (except Tactics), and thoroughly enjoyed them. The ones with a \u2665 are highly recommended.","title":"\ud83c\udfae 2020"},{"location":"games/2020/#gears-5","text":"Again, an enjoyable game. Quite different from the classics but good in its own way.","title":"Gears 5"},{"location":"games/2020/#gears-2-gears-3","text":"Finished the remaining legacy Gears games during the 2020 year-end holidays. An excellent series from start to finish.","title":"Gears 2, Gears 3"},{"location":"games/2020/#gears-of-war","text":"Mindless fun. Thoroughly enjoyed playing this and now I intend to play through the rest of the series. Phenomenal weapons (the Hammer of Dawn, the Lancer), memorable boss fights.","title":"\u2665Gears of War"},{"location":"games/2020/#rage-2","text":"I have a soft spot for this series so I liked it. I loved the post-apocalyptic world-design.","title":"Rage 2"},{"location":"games/2020/#assassins-creed-odyssey","text":"I've loved greek mythology all my life so this was an amazing experience. Very nice variety in play styles (ranger/warrior/assassin), and constant loots and upgrades made for a addictive gameplay loop. Side quest plots are pretty average.","title":"\u2665Assassin's Creed Odyssey"},{"location":"games/2020/#injustice-2","text":"Kids loved it. Nice single player campaign, but a bit short.","title":"Injustice 2"},{"location":"games/2020/#watch-dogs-2","text":"It took me several attempts to get into this game. The open world is beautiful, and so is the satirical take on Silicon Valley. The part I struggled with was the annoying stealth gameplay. I truly started enjoying it only after switching my play style to a more aggressive mode.","title":"Watch Dogs 2"},{"location":"games/2020/#thief","text":"An enjoyable game. I loved their stealth implementation (over other games like Deus Ex: Mankind Divided). There were some truly thrilling moments during the game.","title":"Thief"},{"location":"games/2021/","text":"\ud83c\udfae 2021 I wanted to finish all the Halo games this year but was only able to play Reach, 1 and 2. I'm still going through Halo 3 and Infinite in parallel. Overall this was a nice year! I resubscribed to Game Pass and was able to play a lot of different genres. The ones with a \u2665 are highly recommended. The Gunk Another short game that I finished in just over a day. Lovely world design and visuals. Quite relaxing too. Firewatch A short mystery game with lovely visuals. Finished it in one day. Halo 2 This was definitely better than the first. Less cut-and-paste levels. The story is starting to get quite interesting too.. \u2665 Halo: Reach My favourite Halo so far! Absolutely blew me away, both gameplay and story-wise. I flew into this without any context and enjoyed the heck out of it. It surprised me in a couple of places, which is always nice. Halo: CE With Infinite releasing soon, I thought it would be nice to dip my feet into this franchise. The first game feels a bit dated in some ways, but was pretty enjoyable overall. Last Stop Another interactive story. A light, funny science fiction plot with 3 intersecting stories. Lost Words: Beyond the Page A touching story of a child coping with loss through stories. Lovely art style and story. Ryse: Son of Rome A lovely, violent game. Was perfectly sized too and mixed mechanics well. The Dark Pictures Anthology: Man Of Medan A fun horror adventure with 4 interlocking characters in an abandoned ship. This game kindled my love for story-driven experiences. Quantum Break A game based on time-travel with alternating filmed episodes. A lot of fun! There are alternate chapters with filmed cutscenes. Resident Evil Revelations 2 Enjoyed this. Looks like it'd be nice as a co-op game too. I don't like the survival parts of survival horror much so thankfully the easy mode was forgiving. \u2665 Darksiders 2 Had a blast playing this. Lovely world design, fun puzzles, and enough variety to constantly keep thing fresh. Assassin's Creed Origins Everyone said this was better than Odyssey and indeed it is. The side quests are way better and everything feels well designed. Diablo 3 I played in easy mode as a Mage and it was perhaps too easy. So I did not feel like playing again with a different characters. All characters seemed to have the same actions with just different animations. I was quite hyped to play this but it felt a bit disappointing.","title":"\ud83c\udfae 2021"},{"location":"games/2021/#2021","text":"I wanted to finish all the Halo games this year but was only able to play Reach, 1 and 2. I'm still going through Halo 3 and Infinite in parallel. Overall this was a nice year! I resubscribed to Game Pass and was able to play a lot of different genres. The ones with a \u2665 are highly recommended.","title":"\ud83c\udfae 2021"},{"location":"games/2021/#the-gunk","text":"Another short game that I finished in just over a day. Lovely world design and visuals. Quite relaxing too.","title":"The Gunk"},{"location":"games/2021/#firewatch","text":"A short mystery game with lovely visuals. Finished it in one day.","title":"Firewatch"},{"location":"games/2021/#halo-2","text":"This was definitely better than the first. Less cut-and-paste levels. The story is starting to get quite interesting too..","title":"Halo 2"},{"location":"games/2021/#halo-reach","text":"My favourite Halo so far! Absolutely blew me away, both gameplay and story-wise. I flew into this without any context and enjoyed the heck out of it. It surprised me in a couple of places, which is always nice.","title":"\u2665Halo: Reach"},{"location":"games/2021/#halo-ce","text":"With Infinite releasing soon, I thought it would be nice to dip my feet into this franchise. The first game feels a bit dated in some ways, but was pretty enjoyable overall.","title":"Halo: CE"},{"location":"games/2021/#last-stop","text":"Another interactive story. A light, funny science fiction plot with 3 intersecting stories.","title":"Last Stop"},{"location":"games/2021/#lost-words-beyond-the-page","text":"A touching story of a child coping with loss through stories. Lovely art style and story.","title":"Lost Words: Beyond the Page"},{"location":"games/2021/#ryse-son-of-rome","text":"A lovely, violent game. Was perfectly sized too and mixed mechanics well.","title":"Ryse: Son of Rome"},{"location":"games/2021/#the-dark-pictures-anthology-man-of-medan","text":"A fun horror adventure with 4 interlocking characters in an abandoned ship. This game kindled my love for story-driven experiences.","title":"The Dark Pictures Anthology: Man Of Medan"},{"location":"games/2021/#quantum-break","text":"A game based on time-travel with alternating filmed episodes. A lot of fun! There are alternate chapters with filmed cutscenes.","title":"Quantum Break"},{"location":"games/2021/#resident-evil-revelations-2","text":"Enjoyed this. Looks like it'd be nice as a co-op game too. I don't like the survival parts of survival horror much so thankfully the easy mode was forgiving.","title":"Resident Evil Revelations 2"},{"location":"games/2021/#darksiders-2","text":"Had a blast playing this. Lovely world design, fun puzzles, and enough variety to constantly keep thing fresh.","title":"\u2665Darksiders 2"},{"location":"games/2021/#assassins-creed-origins","text":"Everyone said this was better than Odyssey and indeed it is. The side quests are way better and everything feels well designed.","title":"Assassin's Creed Origins"},{"location":"games/2021/#diablo-3","text":"I played in easy mode as a Mage and it was perhaps too easy. So I did not feel like playing again with a different characters. All characters seemed to have the same actions with just different animations. I was quite hyped to play this but it felt a bit disappointing.","title":"Diablo 3"},{"location":"games/2022/","text":"\ud83c\udfae 2022 Mortal Kombat XI I have fond memories of playing the first 4 MK's back in the day. So after a long time, it was great to come back to this series. The cutscenes are really nice and quite long, giving a movie-like feel in this game. The gameplay and gore are fun as always. Halo 3 I had a month's gap midway through this game so I lost some context on what was going on. But I enjoyed this game. Incomplete / In Progress I spent January in Chennai and did not bring my console along. But I have a low-end gaming laptop that has served as a fair replacement. So far, I've spent most of my gaming time on these two: State of Decay 2: Juggernaut Edition - This seems like my ideal vision of a zombie game so I'm really enjoying it so far! I've just played a couple of hours but I like that it's more about resource management than shooting zombies. Lake - This is a peaceful game to balance with the one above. Abandoned because I wanted something with a bit more punch. Aragamai 2 - Really enjoying the stealth-ghost-ninja gameplay. New powers keep things interesting.","title":"\ud83c\udfae 2022"},{"location":"games/2022/#2022","text":"","title":"\ud83c\udfae 2022"},{"location":"games/2022/#mortal-kombat-xi","text":"I have fond memories of playing the first 4 MK's back in the day. So after a long time, it was great to come back to this series. The cutscenes are really nice and quite long, giving a movie-like feel in this game. The gameplay and gore are fun as always.","title":"Mortal Kombat XI"},{"location":"games/2022/#halo-3","text":"I had a month's gap midway through this game so I lost some context on what was going on. But I enjoyed this game.","title":"Halo 3"},{"location":"games/2022/#incomplete-in-progress","text":"I spent January in Chennai and did not bring my console along. But I have a low-end gaming laptop that has served as a fair replacement. So far, I've spent most of my gaming time on these two: State of Decay 2: Juggernaut Edition - This seems like my ideal vision of a zombie game so I'm really enjoying it so far! I've just played a couple of hours but I like that it's more about resource management than shooting zombies. Lake - This is a peaceful game to balance with the one above. Abandoned because I wanted something with a bit more punch. Aragamai 2 - Really enjoying the stealth-ghost-ninja gameplay. New powers keep things interesting.","title":"Incomplete / In Progress"},{"location":"games/xboxone/","text":"\ud83c\udfaeXbox One This page was getting too big so I've split up my gaming history to each year: 2021 2020 2019 and before I love my xbox because this is the console where I have formed memories of: playing co-op games with my kids (like Rayman), playing through an entire series (like Gears and Halo), discovering games through Game Pass that I'd've never have otherwise tried (like Lake)","title":"\ud83c\udfaeXbox One"},{"location":"games/xboxone/#xbox-one","text":"This page was getting too big so I've split up my gaming history to each year: 2021 2020 2019 and before I love my xbox because this is the console where I have formed memories of: playing co-op games with my kids (like Rayman), playing through an entire series (like Gears and Halo), discovering games through Game Pass that I'd've never have otherwise tried (like Lake)","title":"\ud83c\udfaeXbox One"},{"location":"heroes/chomsky/","text":"\ud83d\udcad Noam Chomsky Why I read Chomsky through this article by Aaron Swartz on the book that changed his life. So I did what Aaron did, and picked up Understanding Power . Everything about that book is as crushingly world-changing as he describes. Considering his subject material and how challenging it must be to communicate his world-view to others, he does a phenomenal job of it. He never raises his voice, resorts to ad-hominems, or loses his calm. Recommended reading Chomsky has lived a long and productive life as a linguist, historian, and activist. If you're the type who underlines important bits in a book, chances are you'll end up underlining almost every line in his books. Among the ones I've read, I recommend the following: Understanding Power The Essential Chomsky References This interview is a fantastic example of how densely informative each of Chomsky's statements is. Another example. Collected notes on capitalism","title":"\ud83d\udcad Noam Chomsky"},{"location":"heroes/chomsky/#noam-chomsky","text":"","title":"\ud83d\udcad Noam Chomsky"},{"location":"heroes/chomsky/#why","text":"I read Chomsky through this article by Aaron Swartz on the book that changed his life. So I did what Aaron did, and picked up Understanding Power . Everything about that book is as crushingly world-changing as he describes. Considering his subject material and how challenging it must be to communicate his world-view to others, he does a phenomenal job of it. He never raises his voice, resorts to ad-hominems, or loses his calm.","title":"Why"},{"location":"heroes/chomsky/#recommended-reading","text":"Chomsky has lived a long and productive life as a linguist, historian, and activist. If you're the type who underlines important bits in a book, chances are you'll end up underlining almost every line in his books. Among the ones I've read, I recommend the following: Understanding Power The Essential Chomsky","title":"Recommended reading"},{"location":"heroes/chomsky/#references","text":"This interview is a fantastic example of how densely informative each of Chomsky's statements is. Another example. Collected notes on capitalism","title":"References"},{"location":"heroes/dawkins/","text":"\ud83e\uddec Richard Dawkins Why Dawkins is my role model because his books played a major role in forming my understanding of the world. His writing is crisp and clear: he knows his stuff and can defend it well, so he doesn't need to obfuscate or confuse. He has strong opinions on religion and is not afraid to share them. The Blind Watchmaker This was my first brush with a Dawkins box was probably the single most influential, mind-changing experience I've ever had with a book. Until I'd read him, I didn't have well-formed mental models of scepticism, religion, or evolutionary biology. This book gives a thoroughly convincing argument for the Darwinian theory of evolution. Dawkins is a master at this. He builds a seemingly-impossible case, Paley's Watchmaker Analogy , and proceeds to demolish it to pieces in the rest of the book. Book recommendations His early books are around the wonders of science and evolutionary biology. I recommend pretty much everything he's written, but these early ones are my personal favourites. The Blind Watchmaker Unweaving the Rainbow A Devil's Chaplain","title":"\ud83e\uddec Richard Dawkins"},{"location":"heroes/dawkins/#richard-dawkins","text":"","title":"\ud83e\uddec Richard Dawkins"},{"location":"heroes/dawkins/#why","text":"Dawkins is my role model because his books played a major role in forming my understanding of the world. His writing is crisp and clear: he knows his stuff and can defend it well, so he doesn't need to obfuscate or confuse. He has strong opinions on religion and is not afraid to share them.","title":"Why"},{"location":"heroes/dawkins/#the-blind-watchmaker","text":"This was my first brush with a Dawkins box was probably the single most influential, mind-changing experience I've ever had with a book. Until I'd read him, I didn't have well-formed mental models of scepticism, religion, or evolutionary biology. This book gives a thoroughly convincing argument for the Darwinian theory of evolution. Dawkins is a master at this. He builds a seemingly-impossible case, Paley's Watchmaker Analogy , and proceeds to demolish it to pieces in the rest of the book.","title":"The Blind Watchmaker"},{"location":"heroes/dawkins/#book-recommendations","text":"His early books are around the wonders of science and evolutionary biology. I recommend pretty much everything he's written, but these early ones are my personal favourites. The Blind Watchmaker Unweaving the Rainbow A Devil's Chaplain","title":"Book recommendations"},{"location":"heroes/sagan/","text":"\ud83c\udf0c Carl Sagan Why Dawkins made me an atheist, but Sagan first had to make me a sceptic . In my childhood, I used to believe anything I read. I was obsessed with pseudo-scientific rubbish like ESP and Telepathy and Aliens in Roswell. It took kind-hearted Sagan's thought-provoking books to guide me back to a more sensble path. Carl Sagan was a great explainer and a passionate communicator. Who better to represent all of humanity, in the plaques that were sent out to space in the Voyager? Recommended Reading The Pale-Blue Dot speech (see here ) The Demon-Haunted World Broca's Brain Contact (fiction)","title":"\ud83c\udf0c Carl Sagan"},{"location":"heroes/sagan/#carl-sagan","text":"","title":"\ud83c\udf0c Carl Sagan"},{"location":"heroes/sagan/#why","text":"Dawkins made me an atheist, but Sagan first had to make me a sceptic . In my childhood, I used to believe anything I read. I was obsessed with pseudo-scientific rubbish like ESP and Telepathy and Aliens in Roswell. It took kind-hearted Sagan's thought-provoking books to guide me back to a more sensble path. Carl Sagan was a great explainer and a passionate communicator. Who better to represent all of humanity, in the plaques that were sent out to space in the Voyager?","title":"Why"},{"location":"heroes/sagan/#recommended-reading","text":"The Pale-Blue Dot speech (see here ) The Demon-Haunted World Broca's Brain Contact (fiction)","title":"Recommended Reading"},{"location":"heroes/stallman/","text":"\ud83d\udc27 Richard Stallman Why Stallman is the heart of the Free Software Foundation and the reason for the GNU in GNU/Linux . He represents a certain purity and conviction that is hard to get in our industry these days. I sit strongly on the GPL side of the GPL vs MIT license debate. Software that use GPL licenses are like life forms that contain genes, in the sense that the license carries the promise that the software can evolve and take new forms, while continuing to be open and accessible. MIT-based Licenses don't ensure their own survival in the same way. I see Popper's Paradox of Intolerance as another valid reason to favour a GPL license over MIT: Free software can remain free and thrive only if it is intolerant of non-freeness. I admire Stallman because of his unrelenting desire to stand by his principles. He sees the dark side of technology, Black Mirror style, and history invariably shows him to have called it correctly, time and again. References How he works. Fascinating.","title":"\ud83d\udc27 Richard Stallman"},{"location":"heroes/stallman/#richard-stallman","text":"","title":"\ud83d\udc27 Richard Stallman"},{"location":"heroes/stallman/#why","text":"Stallman is the heart of the Free Software Foundation and the reason for the GNU in GNU/Linux . He represents a certain purity and conviction that is hard to get in our industry these days. I sit strongly on the GPL side of the GPL vs MIT license debate. Software that use GPL licenses are like life forms that contain genes, in the sense that the license carries the promise that the software can evolve and take new forms, while continuing to be open and accessible. MIT-based Licenses don't ensure their own survival in the same way. I see Popper's Paradox of Intolerance as another valid reason to favour a GPL license over MIT: Free software can remain free and thrive only if it is intolerant of non-freeness. I admire Stallman because of his unrelenting desire to stand by his principles. He sees the dark side of technology, Black Mirror style, and history invariably shows him to have called it correctly, time and again.","title":"Why"},{"location":"heroes/stallman/#references","text":"How he works. Fascinating.","title":"References"},{"location":"notes/ansible/","text":"\ud83c\udd70\ufe0f Ansible These are mostly notes from reading Mastering Ansible , by James Freeman and Jesse Keating. I've used ansible quite a bit but wanted a structured understanding of it. Setup pip install ansible in a virtualenv is enough. Config is in ~/.ansible.cfg . Verify the critical paths with this: ~/code/learnansible via \ue606 v3.8.10 (.ans) took 11s \u276f ansible-inventory --version ansible-inventory [core 2.11.4] config file = /home/arunsrin/.ansible.cfg configured module search path = ['/home/arunsrin/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /home/arunsrin/code/learnansible/.ans/lib/python3.8/site-packages/ansible ansible collection location = /home/arunsrin/.ansible/collections:/usr/share/ansible/collections executable location = /home/arunsrin/code/learnansible/.ans/bin/ansible-inventory python version = 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0] jinja version = 3.0.1 libyaml = True ~/code/learnansible via \ue606 v3.8.10 (.ans) \u276f Aside: Oracle OCI config I created a ~/.oci/config that looks like this: ~/code/learnansible via \ue606 v3.8.10 (.ans) \u276f cat ~/.oci/config [DEFAULT] user=ocid1.user.oc1..aaaaaaaa73r3a3b3aavxmq6qceqp5cmjx55jrdald3aqregmgitbz45rjssq fingerprint=85:8f:6f:aa:0c:91:92:e6:60:4e:39:42:77:e2:1d:a1 tenancy=ocid1.tenancy.oc1..aaaaaaaak5ipjqoopteti3pa3yj7vblgu43v5fieaphqo6pw3f2eavpoflaa region=ap-hyderabad-1 key_file=~/.oci/arunsrin.key ~/code/learnansible via \ue606 v3.8.10 (.ans) \u276f The public/private api keys were generated in my personal settings page. Then I had to install the following plugins/SDKs: ansible-galaxy collection install oracle.oci pip install oci With that, a dynamic inventory file can fetch stuff from Oracle cloud: ~/code/learnansible via \ue606 v3.8.10 (.ans) \u276f cat my.oci.yml plugin: oracle.oci.oci fetch_db_hosts: true cache: yes cache_plugin: jsonfile cache_timeout: 7200 cache_connection: /tmp/oci_inventory cache_prefix: oci Verify with this: ~/code/learnansible via \ue606 v3.8.10 (.ans) \u276f ansible-inventory -i my.oci.yml --graph [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details @all: |--@Oracle-Tags#CreatedBy=gnu.arun_outlook.com: | |--152.70.67.213 |--@Oracle-Tags#CreatedOn=2021-09-01T12_53_44.343Z: | |--152.70.67.213 |--@TFLz_AP-HYDERABAD-1-AD-1: | |--152.70.67.213 |--@all_hosts: | |--152.70.67.213 |--@arunsrin: | |--152.70.67.213 |--@region_ap-hyderabad-1: | |--152.70.67.213 |--@ungrouped: ~/code/learnansible via \ue606 v3.8.10 (.ans) took 5s \u276f","title":"\ud83c\udd70\ufe0f Ansible"},{"location":"notes/ansible/#ansible","text":"These are mostly notes from reading Mastering Ansible , by James Freeman and Jesse Keating. I've used ansible quite a bit but wanted a structured understanding of it.","title":"\ud83c\udd70\ufe0f Ansible"},{"location":"notes/ansible/#setup","text":"pip install ansible in a virtualenv is enough. Config is in ~/.ansible.cfg . Verify the critical paths with this: ~/code/learnansible via \ue606 v3.8.10 (.ans) took 11s \u276f ansible-inventory --version ansible-inventory [core 2.11.4] config file = /home/arunsrin/.ansible.cfg configured module search path = ['/home/arunsrin/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'] ansible python module location = /home/arunsrin/code/learnansible/.ans/lib/python3.8/site-packages/ansible ansible collection location = /home/arunsrin/.ansible/collections:/usr/share/ansible/collections executable location = /home/arunsrin/code/learnansible/.ans/bin/ansible-inventory python version = 3.8.10 (default, Jun 2 2021, 10:49:15) [GCC 9.4.0] jinja version = 3.0.1 libyaml = True ~/code/learnansible via \ue606 v3.8.10 (.ans) \u276f","title":"Setup"},{"location":"notes/ansible/#aside-oracle-oci-config","text":"I created a ~/.oci/config that looks like this: ~/code/learnansible via \ue606 v3.8.10 (.ans) \u276f cat ~/.oci/config [DEFAULT] user=ocid1.user.oc1..aaaaaaaa73r3a3b3aavxmq6qceqp5cmjx55jrdald3aqregmgitbz45rjssq fingerprint=85:8f:6f:aa:0c:91:92:e6:60:4e:39:42:77:e2:1d:a1 tenancy=ocid1.tenancy.oc1..aaaaaaaak5ipjqoopteti3pa3yj7vblgu43v5fieaphqo6pw3f2eavpoflaa region=ap-hyderabad-1 key_file=~/.oci/arunsrin.key ~/code/learnansible via \ue606 v3.8.10 (.ans) \u276f The public/private api keys were generated in my personal settings page. Then I had to install the following plugins/SDKs: ansible-galaxy collection install oracle.oci pip install oci With that, a dynamic inventory file can fetch stuff from Oracle cloud: ~/code/learnansible via \ue606 v3.8.10 (.ans) \u276f cat my.oci.yml plugin: oracle.oci.oci fetch_db_hosts: true cache: yes cache_plugin: jsonfile cache_timeout: 7200 cache_connection: /tmp/oci_inventory cache_prefix: oci Verify with this: ~/code/learnansible via \ue606 v3.8.10 (.ans) \u276f ansible-inventory -i my.oci.yml --graph [WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details @all: |--@Oracle-Tags#CreatedBy=gnu.arun_outlook.com: | |--152.70.67.213 |--@Oracle-Tags#CreatedOn=2021-09-01T12_53_44.343Z: | |--152.70.67.213 |--@TFLz_AP-HYDERABAD-1-AD-1: | |--152.70.67.213 |--@all_hosts: | |--152.70.67.213 |--@arunsrin: | |--152.70.67.213 |--@region_ap-hyderabad-1: | |--152.70.67.213 |--@ungrouped: ~/code/learnansible via \ue606 v3.8.10 (.ans) took 5s \u276f","title":"Aside: Oracle OCI config"},{"location":"notes/aws/","text":"\u2601\ufe0f AWS Most of this is from Amazon Web Services in Action, IInd edition . CloudFormation Use CloudFormation to create a wordpress infra using these services: ELB - ALB specifically EC2 - Let's try 2 instances RDS - For MySql EFS - Using NFSv4.1 for User uploads Security Groups - Firewall Full yaml written by the authors is here . Well that was fast. The template file externalizes the keypair so you can put your own from the drop down. Parameters: KeyName: Description: 'Key Pair name' Type: 'AWS::EC2::KeyPair::KeyName' Default: mykey It adds an SG under WebServerSecurityGroup for ports 22 and 80. There's a LaunchConfiguration section that's a bit like cloud-init (?), they specify the conf files here for apache/php, download the wordpress tgz and untar, etc. Also a mount command is run there to mount the EFS that is also created and made available to this deployment. The Database section creates the RDS micro instance. Looks like you can refer to other blocks in the file like this: GatewayId: !Ref InternetGateway . And can even run some sort of queries on top: AvailabilityZone: !Select [1, !GetAZs ''] . As ASG is also created and it sets current count to 4. EC2 Instance Families To decode the naming convention e.g. t2.micro : T - Cheap. Burst to higher perf for short periods. M - General Purpose C - Compute optimized R - Memory optimized D - Storage optimized, huge HDD I - Storage optimized, huge SSD X - Huge capacity, focus on memory, up to 1952 GB Mem and 128 virtual cores F - Accelerated computing based on FPGAs P,G and CG - Accelerated computing based on GPUs The second part of the name, the 2 in t2 , refers to the generation. So this is the 2nd generation of the T family, of size micro . Note Stopped VMs incur no charges (unless you have attached resources like storage) EIPs EIPs (elastic IPs) give you a fixed IP that you can associate to an EC2 instance. Otherwise the IP is going to change across reboots. Seems very straightforward actually, create an EIP and you can associate to an instance or a specific interface. You can also create a new Network Interface, attach it to the instance, and attach another EIP to that interface. Spot / Reserved instances Spot: You bid for unused capacity in a DC. Price based on supply and demand. Reserved: Use if you need VMs for a year or longer. Pay for a given time frame, and get a discount. You pay even if you don't use it. No upfront, 1 year term Partial upfront, 1 or 3 year term All upfront, 1 or 3 year term Potential savings may go up to 60%. You can also make scheduled reservations, e.g. every week day from 9 AM to 5PM. For spot instances, you set a bidding price. If the current spot price is lower than your bid, an instance is spun up and your job runs. If the spot price then exceeds your price, your VM is terminated . Good for batch processing jobs. Programming: CLI, SDK, CloudFormation Setup IAM first IAM -> Add User -> Name: my-cli Access type: Programmatic Permissions: Attach Existing Policies Directly AdministratorAccess gives us everything Then copy the access ID and key over somewhere safe. Run aws configure to set things up. aws configure AWS Access Key ID [None]: <redacted> AWS Secret Access Key [None]: <redacted> Default region name [None]: us-east-1 Default output format [None]: json ~ Some CLI commands to try This is pretty much like the openstack CLI. aws ec2 describe-regions aws ec2 describe-instances --filters \"Name=instance-type,Values=t2.micro\" - Using some filters There is a --query arg that uses JMESPath , e.g. aws ec2 describe-images --query \"Images[0].ImageId\" SDK Similarly, you can use the SDK for better control. e.g. ec2.describeImages({ ... }) Blueprints / CloudFormation Covered above already in brief. Contains: Format version Description Parameters - These are things you can set in the UI via drop-down etc, like ssh keys, AZ names, SG, etc You can also set default values, remove echo (for sensitive text), specify allowed values and so on. Resources - instances, network, LB, EIP etc Outputs - return something from the template, like the generated hostname Use !GetAtt for this. e.g. !GetAtt 'Server.PublicDnsName' Updates Normally if you want to increase CPU/Mem, you'd have to power down, edit settings, power back up. CF makes it all declarative. In this case, change the InstanceType and redeploy, and it will figure out what to do. Template vs Stack If you run a template to create a certain infrastructure, it's called a stack. Think of template as a class and stack as the object instantiated by it. Automation: CF, Beanstalk, OpsWorks Elastic Beanstalk: fixed runtimes and conventions Config Management Tools: PHP, NodeJS, .Net Deployment Runtime: Java, Python, Ruby, Go, Docker OpsWorks: just chef, ugh Config Management Tools: PHP, NodeJS Deployment Runtime: Java, Ruby, or any custom one CF: write shell scripts that run post-install Config Management Tools: any Deployment Runtime: any CF User Data Find it at http://169.254.169.254/latest/user-data . Upto 16kb can be injected into the VM at boot time. It needs to be in base64 format though, so you inject it like this: UserData: 'Fn::Base64': !Sub | #!/bin/bash -x export MY_PASSWORD=\"${MY_PASSWORD}\" /usr/bin/start.sh CF Variables Just use !Sub , for instance: !Sub 'Your VPD id is ${VPC}' # same as !Ref VPC !Sub '${VPC.CidrBlock}' # same as !GetAtt 'VPC.CidrBlock' Elastic Beanstalk OS and runtime managed by AWS. Logical blocks are: An application which contains versions, environments and configurations. A version which identifies a specific release. A configuration template for app and platform configs. An environment where a specific version and config will be deployed. Create the application aws elasticbeanstalk create-application --application-name etherpad Create a version Must exist in S3. aws elasticbeanstalk create-application-version --application-name etherpad \\ --version-label 1 \\ --source-bundle \"S3Bucket=awsinaction-code2,S3Key=chapter05/etherpad.zip\" Create an environment See what PaaS offerings exist: aws elasticbeanstalk list-available-solution-stacks # for the nodeJS one we need in this example: aws elasticbeanstalk list-available-solution-stacks --output text \\ --query \"SolutionStacks[?contains(@, 'running Node.js')] | [0]\" There's a bunch of stuff for IIS, Java, PHP, Python, Ruby, Tomcat, Go... Then create it: $ aws elasticbeanstalk create-environment --environment-name etherpad \\ --application-name etherpad \\ --option-settings Namespace=aws:elasticbeanstalk:environment,\\ OptionName=EnvironmentType,Value=SingleInstance \\ 1 --solution-stack-name \"$SolutionStackName\" \\ --version-label 1 Cleanup Destroy the environment with terminate-environment , and the application with delete-application . OpsWorks um let's move on, it's Chef. Securing AWS: IAM, SG, VPC Usual stuff here, pretty familiar with app and OS security which is not covered anyway. SG for limiting network access, VPC for private networks, IAM for RBAC. Systems Manager Lets you manage all your instances from a single pane, run remote commands on all of them, and so on. Also let's you directly access your resources rather than via ssh. IAM user group role policy Use IAM users for API access. Allows fine-grained association to groups and resources. Policies An example: { \"Version\": \"2012-10-17\", \"Statement\": [{ \"Sid\": \"1\", \"Effect\": \"Allow\", \"Action\": \"ec2:*\", \"Resource\": \"*\" }, { \"Sid\": \"2\", \"Effect\": \"Deny\", 1 \"Action\": \"ec2:TerminateInstances\", 2 \"Resource\": \"*\" }] } In this case, a user attached to this policy could do everything in ec2 except terminate the instances. If something is both Denied and Allowed, Deny takes precedence. ARN An AWS Resource Name (ARN) is a unique identifier with this structure: arn:aws:ec2:us-east-1:123456789:instance/i-zxcv123v Service / Region / Account ID / Resource type / Resource Account ID is 12 digits. Run aws iam get-user to see what you're logged in as, what your account id is, etc. Kinds of policies Managed policy - Can be reused in your account. AWS maintans some (admin, read-only etc), customers can maintain their own. Inline policy - Belongs to a specific role/user/group. Creating my IAM admin user aws iam create-group --group-name \"admin\" #verify with aws iam list-groups aws iam attach-group-policy --group-name \"admin\" \\ --policy-arn \"arn:aws:iam::aws:policy/AdministratorAccess\" # verify with aws iam list-attached-group-policies --group-name admin aws iam create-user --user-name \"arunsrin\" # verify with aws iam list-users # add to group aws iam add-user-to-group --group-name \"admin\" --user-name \"arunsrin\" # set password export AWS_PASSWORD='<your-password>' aws iam create-login-profile --user-name \"arunsrin\" --password \"$AWS_PASSWORD\" Then login to https://$ACCOUNT_ID/signin.aws.amazon.com/console and set up the following in the account security settings: Access keys MFA Upload SSH keys to AWS CodeCommit Authenticating AWS resources with roles An EC2 instance might need to talk to S3 and so on. Instead of using IAM users and uploading those secrets to each instance, use IAM Roles instead. The credentials are automatically injected into the instance. In CF you can just declare an inline policy giving access to an instance to a specific API. SG Create and use VPC Flow Logs to debug problems in this layer. The source/dest of an SG can either be an IP address or another SG. A good use case for the latter is a bastion host. You can define a SG to only allow SSH to the rest of the environment if the source is the bastion instance, irrespective of its IP. Example that allows ssh to the bastion host only from a public IP, and ssh to all other instances only from the bastion host's SG: SecurityGroupBastionHost: Type: 'AWS::EC2::SecurityGroup' Properties: GroupDescription: 'Allowing incoming SSH and ICPM from anywhere.' VpcId: !Ref VPC SecurityGroupIngress: - IpProtocol: icmp FromPort: \"-1\" ToPort: \"-1\" CidrIp: '0.0.0.0/0' - IpProtocol: tcp FromPort: '22' ToPort: '22' CidrIp: !Sub '${IpForSSH}/32' SecurityGroupInstance: Type: 'AWS::EC2::SecurityGroup' Properties: GroupDescription: 'Allowing incoming SSH from the Bastion Host.' VpcId: !Ref VPC SecurityGroupIngress: - IpProtocol: tcp FromPort: '22' ToPort: '22' SourceSecurityGroupId: !Ref SecurityGroupBastionHost VPC Private address ranges: - 10.0.0.0/8 - 172.16.0.0/12 - 192.168.0.0/16 Use a subnet to separate concerns. Private for DB, backend, Public for frontend, etc. Goes well with the SG concept above to restrict traffic between subnets. One can attach an Internet Gateway to a VPC to NAT public traffic to the private IPs. You can also create Network ACLs and attach to a VPC. Unlike SGs though, these are stateless. i.e. for TCP and any bidirectional traffic to work, you'd need to explicitly mention ingress and egress for, say, port 22. Also consider that incoming connections will use an ephemeral port.. Also the ordering matters here and first matching rule is applied and rest are skipped. Overall, stick to SGs and use NACLs only for finetuning. Implementation To create an overall VPC with a public subnet that can be reached from the outside world: AWS::EC2::VPC creates the VPC with a certain overall CIDR range. AWS::EC2::InternetGateway connects you to the outside world. AWS::EC2::VPCGatewayAttachment connects the above 2. AWS::EC2::Subnet carve out a smaller new subnet from the VPC above. AWS::EC2::RouteTable routeTable linked to VPC above. AWS::EC2::SubnetRouteTableAssociation links the 2 above AWS::EC2::Route specifies a routing rule from the InternetGateway to the RouteTable AWS::EC2::NetworkAcl firewall rules AWS::EC2::SubnetNetworkAclAssociation Connect Network Acl to Subnet For a private subnet that you want to restrict, you'd skiip the InternetGateway bits. As long as its in the same VPC, entities in other subnets can reach each other. Don't forget to attach the SecurityGroup and SubnetId to the EC2 instance, under NetworkInterfaces. For devices in an internal subnet to connect to the outside world, use a NAT gateway in a public subnet and create a route to it from the inside: AWS::EC2::Subnet dedicated subnet for public nat AWS::EC2::RouteTable in the overall VPC AWS::EC2::Route allowing 0.0.0.0 egress from RouteTable to InternetGateway AWS::EC2::EIP elastic IP for the Nat Gateway AWS::EC2::NatGateway with above elastic IP and the Subnet created initially AWS::EC2::Route routes 0.0.0.0 egress from internal RouteTable to NatGateway Since traffic via a NAT Gateway is billed, 2 alternatives are: - Use a public subnet if possible, instead of a private one - Use VPC endpoints for accessing AWS services like S3 Lambda No updates, no remote access Billed by invocation Integrated with other AWS infra well Java, Node, C#, Python, Go Publish metrics to CloudWatch by default Creating a lambda Lots of blueprints available. Seems pretty straightforward to create. We selected a blueprint called lambda-canary , a simple python script that hits a site and checks for a string. Scheduling uses cron syntax but also a rate syntax, e.g. rate(1 hour) . EventBridge does this. On submission, you get a nice editor to tweak your code, a tab to Test it, Monitor it, and so on. Alerting Now to get an email alert when something changes, you need to use CloudWatch. Each metric published by lambda has: - Invocations: how many times it was called successfully or unsuccessfully - Errors: exceptions, timeouts and other failures in the code - Duration - Throttles: If we hit a limit and AWS throttles the number of invocations of this lambda, it shows up here. Errors & Throttles are good metrics to create alerts. Go to CloudWatch in the console Alarms -> Create Alarm Select metrics -> Lambda -> by Function Name -> arunsrin-site-healthcheck | Errors Proceed. Select Sum as the statistic Static Condition, whenever Error is >= a fixed value, say, 2 Note lambda functions run outside your VPC by default and have full internet access. To access the parts within your private network in your VPC, you'd have to define the VPC, subnets and SG for your lambda function CloudWatch / CloudTrail So far we have seen its metrics, logs and alarms. But it does events too. Any state change in an EC2 instance results in a new emit. We can detect those events in a lambda function and take certain actions. CloudTrail is the component that raises events. You write a rule to filter certain events, like RunInstances . Then for python you would implement a function like this: def lambda_handler(event, context): # insert your code return 300 second limit for each invocation Cold start takes time: download dependencies, start runtime.. Serverless Application Model An extension of CF that let's you define lambdas. Your scripts in the folder are bundled and uploaded. Stitching it together To make a backend app in this stack you would use something like these: API Gateway - Secure and scalable REST APIs Lambda - triggered by above Object store and NoSQL DB - used by above Data Storage S3 - access via AWS API, third party tools Glacier - very slow EBS (SSD) - attached to instance via network EC2 Instance Store (SSD) - attached to instance directly EFS - NFSv4.1 - attached via network RDS - MySQL, SSD Elasticache - Redis / memcached protocol DynamoDB - access via AWS API (SDKs, CLI) S3 Make a bucket: $ aws s3 mb s3://arunsrin make_bucket: arunsrin $ Upload: aws s3 sync ~/code/dotfiles/ s3://arunsrin/dotfiles List contents: aws s3 ls aws s3 ls arunsrin/ aws s3 ls arunsrin/dotfiles/ Download: aws s3 cp --recursrive s3://arunsrin s3backup Remove: aws s3 rm --recursive s3://arunsrin/dotfiles Versioning Disabled by default. Replacing a key with different content will wipe out the old data. Turn on versioning: aws s3api put-bucket-versioning --bucket arunsrin \\ --versioning-configuration Status=Enabled Access Create a bucket policy and upload it. Essentially we want to Allow Access, to Anyone, to be able to GetObjects from s3, from our Bucket: { \"Version\":\"2012-10-17\", \"Statement\":[ { \"Sid\":\"AddPerm\", \"Effect\":\"Allow\", \"Principal\": \"*\", \"Action\":[\"s3:GetObject\"], \"Resource\":[\"arn:aws:s3:::$BucketName/*\"] } ] } Then upload it: aws s3api put-bucket-policy --bucket arunsrin-uploads --policy file://s3-policy.json Static website hosting Do the above to make it publicly accessible, then upload your html files, and do this: aws s3 website s3://$BucketName --index-document helloworld.html You can access it on a url like this: http://$BucketName.s3-website-$Region.amazonaws.com E.g. mine is http://arunsrin-uploads.s3-website-us-east-1.amazonaws.com/ Warning At this point I tried to have a CNAME from my domain to the above, and realized it didn't work. Apparently the CNAME and bucket name have to match. So I had to make a new bucket with the correct name and copy the content over, and re-enable public access and static website. aws s3 mb s3://uploads.arunsr.in aws s3 sync s3://arunsrin-uploads s3://uploads.arunsr.in aws s3 rb --force s3://arunsrin-uploads aws s3 website s3://uploads.arunsr.in --index-document index.html aws s3api put-bucket-policy --bucket uploads.arunsr.in --policy file://s3-policy.json Now http://uploads.arunsr.in/ works :) But SSL doesn't, TODO see CloudFront for that bit. Things to note s3 is eventually consistent. i.e. concurrent creates and deletes will always be atomic, but occassionally you might get stale data. For better i/o performance, don't name all your keys starting with same characters, like image0, image1, image2.. Using foo/bar gives a folder-like experience while browsing the contents of foo/ but technically the key is still foo/bar . Glacier Very slow, takes minutes to hours to retrieve data. Storage is cheap, putting and getting out data is pricey. One can add a lifecycle rule in S3 to archive or delete data after a set number of days, or move them to glacier. References Cloudformation templates AWS quick starts List of IAM policies AWS Lambda in Action, by Danilo Poccia","title":"\u2601\ufe0f AWS"},{"location":"notes/aws/#aws","text":"Most of this is from Amazon Web Services in Action, IInd edition .","title":"\u2601\ufe0f AWS"},{"location":"notes/aws/#cloudformation","text":"Use CloudFormation to create a wordpress infra using these services: ELB - ALB specifically EC2 - Let's try 2 instances RDS - For MySql EFS - Using NFSv4.1 for User uploads Security Groups - Firewall Full yaml written by the authors is here . Well that was fast. The template file externalizes the keypair so you can put your own from the drop down. Parameters: KeyName: Description: 'Key Pair name' Type: 'AWS::EC2::KeyPair::KeyName' Default: mykey It adds an SG under WebServerSecurityGroup for ports 22 and 80. There's a LaunchConfiguration section that's a bit like cloud-init (?), they specify the conf files here for apache/php, download the wordpress tgz and untar, etc. Also a mount command is run there to mount the EFS that is also created and made available to this deployment. The Database section creates the RDS micro instance. Looks like you can refer to other blocks in the file like this: GatewayId: !Ref InternetGateway . And can even run some sort of queries on top: AvailabilityZone: !Select [1, !GetAZs ''] . As ASG is also created and it sets current count to 4.","title":"CloudFormation"},{"location":"notes/aws/#ec2","text":"","title":"EC2"},{"location":"notes/aws/#instance-families","text":"To decode the naming convention e.g. t2.micro : T - Cheap. Burst to higher perf for short periods. M - General Purpose C - Compute optimized R - Memory optimized D - Storage optimized, huge HDD I - Storage optimized, huge SSD X - Huge capacity, focus on memory, up to 1952 GB Mem and 128 virtual cores F - Accelerated computing based on FPGAs P,G and CG - Accelerated computing based on GPUs The second part of the name, the 2 in t2 , refers to the generation. So this is the 2nd generation of the T family, of size micro . Note Stopped VMs incur no charges (unless you have attached resources like storage)","title":"Instance Families"},{"location":"notes/aws/#eips","text":"EIPs (elastic IPs) give you a fixed IP that you can associate to an EC2 instance. Otherwise the IP is going to change across reboots. Seems very straightforward actually, create an EIP and you can associate to an instance or a specific interface. You can also create a new Network Interface, attach it to the instance, and attach another EIP to that interface.","title":"EIPs"},{"location":"notes/aws/#spot-reserved-instances","text":"Spot: You bid for unused capacity in a DC. Price based on supply and demand. Reserved: Use if you need VMs for a year or longer. Pay for a given time frame, and get a discount. You pay even if you don't use it. No upfront, 1 year term Partial upfront, 1 or 3 year term All upfront, 1 or 3 year term Potential savings may go up to 60%. You can also make scheduled reservations, e.g. every week day from 9 AM to 5PM. For spot instances, you set a bidding price. If the current spot price is lower than your bid, an instance is spun up and your job runs. If the spot price then exceeds your price, your VM is terminated . Good for batch processing jobs.","title":"Spot / Reserved instances"},{"location":"notes/aws/#programming-cli-sdk-cloudformation","text":"","title":"Programming: CLI, SDK, CloudFormation"},{"location":"notes/aws/#setup-iam-first","text":"IAM -> Add User -> Name: my-cli Access type: Programmatic Permissions: Attach Existing Policies Directly AdministratorAccess gives us everything Then copy the access ID and key over somewhere safe. Run aws configure to set things up. aws configure AWS Access Key ID [None]: <redacted> AWS Secret Access Key [None]: <redacted> Default region name [None]: us-east-1 Default output format [None]: json ~","title":"Setup IAM first"},{"location":"notes/aws/#some-cli-commands-to-try","text":"This is pretty much like the openstack CLI. aws ec2 describe-regions aws ec2 describe-instances --filters \"Name=instance-type,Values=t2.micro\" - Using some filters There is a --query arg that uses JMESPath , e.g. aws ec2 describe-images --query \"Images[0].ImageId\"","title":"Some CLI commands to try"},{"location":"notes/aws/#sdk","text":"Similarly, you can use the SDK for better control. e.g. ec2.describeImages({ ... })","title":"SDK"},{"location":"notes/aws/#blueprints-cloudformation","text":"Covered above already in brief. Contains: Format version Description Parameters - These are things you can set in the UI via drop-down etc, like ssh keys, AZ names, SG, etc You can also set default values, remove echo (for sensitive text), specify allowed values and so on. Resources - instances, network, LB, EIP etc Outputs - return something from the template, like the generated hostname Use !GetAtt for this. e.g. !GetAtt 'Server.PublicDnsName'","title":"Blueprints / CloudFormation"},{"location":"notes/aws/#updates","text":"Normally if you want to increase CPU/Mem, you'd have to power down, edit settings, power back up. CF makes it all declarative. In this case, change the InstanceType and redeploy, and it will figure out what to do.","title":"Updates"},{"location":"notes/aws/#template-vs-stack","text":"If you run a template to create a certain infrastructure, it's called a stack. Think of template as a class and stack as the object instantiated by it.","title":"Template vs Stack"},{"location":"notes/aws/#automation-cf-beanstalk-opsworks","text":"Elastic Beanstalk: fixed runtimes and conventions Config Management Tools: PHP, NodeJS, .Net Deployment Runtime: Java, Python, Ruby, Go, Docker OpsWorks: just chef, ugh Config Management Tools: PHP, NodeJS Deployment Runtime: Java, Ruby, or any custom one CF: write shell scripts that run post-install Config Management Tools: any Deployment Runtime: any","title":"Automation: CF, Beanstalk, OpsWorks"},{"location":"notes/aws/#cf-user-data","text":"Find it at http://169.254.169.254/latest/user-data . Upto 16kb can be injected into the VM at boot time. It needs to be in base64 format though, so you inject it like this: UserData: 'Fn::Base64': !Sub | #!/bin/bash -x export MY_PASSWORD=\"${MY_PASSWORD}\" /usr/bin/start.sh","title":"CF User Data"},{"location":"notes/aws/#cf-variables","text":"Just use !Sub , for instance: !Sub 'Your VPD id is ${VPC}' # same as !Ref VPC !Sub '${VPC.CidrBlock}' # same as !GetAtt 'VPC.CidrBlock'","title":"CF Variables"},{"location":"notes/aws/#elastic-beanstalk","text":"OS and runtime managed by AWS. Logical blocks are: An application which contains versions, environments and configurations. A version which identifies a specific release. A configuration template for app and platform configs. An environment where a specific version and config will be deployed.","title":"Elastic Beanstalk"},{"location":"notes/aws/#create-the-application","text":"aws elasticbeanstalk create-application --application-name etherpad","title":"Create the application"},{"location":"notes/aws/#create-a-version","text":"Must exist in S3. aws elasticbeanstalk create-application-version --application-name etherpad \\ --version-label 1 \\ --source-bundle \"S3Bucket=awsinaction-code2,S3Key=chapter05/etherpad.zip\"","title":"Create a version"},{"location":"notes/aws/#create-an-environment","text":"See what PaaS offerings exist: aws elasticbeanstalk list-available-solution-stacks # for the nodeJS one we need in this example: aws elasticbeanstalk list-available-solution-stacks --output text \\ --query \"SolutionStacks[?contains(@, 'running Node.js')] | [0]\" There's a bunch of stuff for IIS, Java, PHP, Python, Ruby, Tomcat, Go... Then create it: $ aws elasticbeanstalk create-environment --environment-name etherpad \\ --application-name etherpad \\ --option-settings Namespace=aws:elasticbeanstalk:environment,\\ OptionName=EnvironmentType,Value=SingleInstance \\ 1 --solution-stack-name \"$SolutionStackName\" \\ --version-label 1","title":"Create an environment"},{"location":"notes/aws/#cleanup","text":"Destroy the environment with terminate-environment , and the application with delete-application .","title":"Cleanup"},{"location":"notes/aws/#opsworks","text":"um let's move on, it's Chef.","title":"OpsWorks"},{"location":"notes/aws/#securing-aws-iam-sg-vpc","text":"Usual stuff here, pretty familiar with app and OS security which is not covered anyway. SG for limiting network access, VPC for private networks, IAM for RBAC.","title":"Securing AWS: IAM, SG, VPC"},{"location":"notes/aws/#systems-manager","text":"Lets you manage all your instances from a single pane, run remote commands on all of them, and so on. Also let's you directly access your resources rather than via ssh.","title":"Systems Manager"},{"location":"notes/aws/#iam","text":"user group role policy Use IAM users for API access. Allows fine-grained association to groups and resources.","title":"IAM"},{"location":"notes/aws/#policies","text":"An example: { \"Version\": \"2012-10-17\", \"Statement\": [{ \"Sid\": \"1\", \"Effect\": \"Allow\", \"Action\": \"ec2:*\", \"Resource\": \"*\" }, { \"Sid\": \"2\", \"Effect\": \"Deny\", 1 \"Action\": \"ec2:TerminateInstances\", 2 \"Resource\": \"*\" }] } In this case, a user attached to this policy could do everything in ec2 except terminate the instances. If something is both Denied and Allowed, Deny takes precedence.","title":"Policies"},{"location":"notes/aws/#arn","text":"An AWS Resource Name (ARN) is a unique identifier with this structure: arn:aws:ec2:us-east-1:123456789:instance/i-zxcv123v Service / Region / Account ID / Resource type / Resource Account ID is 12 digits. Run aws iam get-user to see what you're logged in as, what your account id is, etc.","title":"ARN"},{"location":"notes/aws/#kinds-of-policies","text":"Managed policy - Can be reused in your account. AWS maintans some (admin, read-only etc), customers can maintain their own. Inline policy - Belongs to a specific role/user/group.","title":"Kinds of policies"},{"location":"notes/aws/#creating-my-iam-admin-user","text":"aws iam create-group --group-name \"admin\" #verify with aws iam list-groups aws iam attach-group-policy --group-name \"admin\" \\ --policy-arn \"arn:aws:iam::aws:policy/AdministratorAccess\" # verify with aws iam list-attached-group-policies --group-name admin aws iam create-user --user-name \"arunsrin\" # verify with aws iam list-users # add to group aws iam add-user-to-group --group-name \"admin\" --user-name \"arunsrin\" # set password export AWS_PASSWORD='<your-password>' aws iam create-login-profile --user-name \"arunsrin\" --password \"$AWS_PASSWORD\" Then login to https://$ACCOUNT_ID/signin.aws.amazon.com/console and set up the following in the account security settings: Access keys MFA Upload SSH keys to AWS CodeCommit","title":"Creating my IAM admin user"},{"location":"notes/aws/#authenticating-aws-resources-with-roles","text":"An EC2 instance might need to talk to S3 and so on. Instead of using IAM users and uploading those secrets to each instance, use IAM Roles instead. The credentials are automatically injected into the instance. In CF you can just declare an inline policy giving access to an instance to a specific API.","title":"Authenticating AWS resources with roles"},{"location":"notes/aws/#sg","text":"Create and use VPC Flow Logs to debug problems in this layer. The source/dest of an SG can either be an IP address or another SG. A good use case for the latter is a bastion host. You can define a SG to only allow SSH to the rest of the environment if the source is the bastion instance, irrespective of its IP. Example that allows ssh to the bastion host only from a public IP, and ssh to all other instances only from the bastion host's SG: SecurityGroupBastionHost: Type: 'AWS::EC2::SecurityGroup' Properties: GroupDescription: 'Allowing incoming SSH and ICPM from anywhere.' VpcId: !Ref VPC SecurityGroupIngress: - IpProtocol: icmp FromPort: \"-1\" ToPort: \"-1\" CidrIp: '0.0.0.0/0' - IpProtocol: tcp FromPort: '22' ToPort: '22' CidrIp: !Sub '${IpForSSH}/32' SecurityGroupInstance: Type: 'AWS::EC2::SecurityGroup' Properties: GroupDescription: 'Allowing incoming SSH from the Bastion Host.' VpcId: !Ref VPC SecurityGroupIngress: - IpProtocol: tcp FromPort: '22' ToPort: '22' SourceSecurityGroupId: !Ref SecurityGroupBastionHost","title":"SG"},{"location":"notes/aws/#vpc","text":"Private address ranges: - 10.0.0.0/8 - 172.16.0.0/12 - 192.168.0.0/16 Use a subnet to separate concerns. Private for DB, backend, Public for frontend, etc. Goes well with the SG concept above to restrict traffic between subnets. One can attach an Internet Gateway to a VPC to NAT public traffic to the private IPs. You can also create Network ACLs and attach to a VPC. Unlike SGs though, these are stateless. i.e. for TCP and any bidirectional traffic to work, you'd need to explicitly mention ingress and egress for, say, port 22. Also consider that incoming connections will use an ephemeral port.. Also the ordering matters here and first matching rule is applied and rest are skipped. Overall, stick to SGs and use NACLs only for finetuning.","title":"VPC"},{"location":"notes/aws/#implementation","text":"To create an overall VPC with a public subnet that can be reached from the outside world: AWS::EC2::VPC creates the VPC with a certain overall CIDR range. AWS::EC2::InternetGateway connects you to the outside world. AWS::EC2::VPCGatewayAttachment connects the above 2. AWS::EC2::Subnet carve out a smaller new subnet from the VPC above. AWS::EC2::RouteTable routeTable linked to VPC above. AWS::EC2::SubnetRouteTableAssociation links the 2 above AWS::EC2::Route specifies a routing rule from the InternetGateway to the RouteTable AWS::EC2::NetworkAcl firewall rules AWS::EC2::SubnetNetworkAclAssociation Connect Network Acl to Subnet For a private subnet that you want to restrict, you'd skiip the InternetGateway bits. As long as its in the same VPC, entities in other subnets can reach each other. Don't forget to attach the SecurityGroup and SubnetId to the EC2 instance, under NetworkInterfaces. For devices in an internal subnet to connect to the outside world, use a NAT gateway in a public subnet and create a route to it from the inside: AWS::EC2::Subnet dedicated subnet for public nat AWS::EC2::RouteTable in the overall VPC AWS::EC2::Route allowing 0.0.0.0 egress from RouteTable to InternetGateway AWS::EC2::EIP elastic IP for the Nat Gateway AWS::EC2::NatGateway with above elastic IP and the Subnet created initially AWS::EC2::Route routes 0.0.0.0 egress from internal RouteTable to NatGateway Since traffic via a NAT Gateway is billed, 2 alternatives are: - Use a public subnet if possible, instead of a private one - Use VPC endpoints for accessing AWS services like S3","title":"Implementation"},{"location":"notes/aws/#lambda","text":"No updates, no remote access Billed by invocation Integrated with other AWS infra well Java, Node, C#, Python, Go Publish metrics to CloudWatch by default","title":"Lambda"},{"location":"notes/aws/#creating-a-lambda","text":"Lots of blueprints available. Seems pretty straightforward to create. We selected a blueprint called lambda-canary , a simple python script that hits a site and checks for a string. Scheduling uses cron syntax but also a rate syntax, e.g. rate(1 hour) . EventBridge does this. On submission, you get a nice editor to tweak your code, a tab to Test it, Monitor it, and so on.","title":"Creating a lambda"},{"location":"notes/aws/#alerting","text":"Now to get an email alert when something changes, you need to use CloudWatch. Each metric published by lambda has: - Invocations: how many times it was called successfully or unsuccessfully - Errors: exceptions, timeouts and other failures in the code - Duration - Throttles: If we hit a limit and AWS throttles the number of invocations of this lambda, it shows up here. Errors & Throttles are good metrics to create alerts. Go to CloudWatch in the console Alarms -> Create Alarm Select metrics -> Lambda -> by Function Name -> arunsrin-site-healthcheck | Errors Proceed. Select Sum as the statistic Static Condition, whenever Error is >= a fixed value, say, 2 Note lambda functions run outside your VPC by default and have full internet access. To access the parts within your private network in your VPC, you'd have to define the VPC, subnets and SG for your lambda function","title":"Alerting"},{"location":"notes/aws/#cloudwatch-cloudtrail","text":"So far we have seen its metrics, logs and alarms. But it does events too. Any state change in an EC2 instance results in a new emit. We can detect those events in a lambda function and take certain actions. CloudTrail is the component that raises events. You write a rule to filter certain events, like RunInstances . Then for python you would implement a function like this: def lambda_handler(event, context): # insert your code return 300 second limit for each invocation Cold start takes time: download dependencies, start runtime..","title":"CloudWatch / CloudTrail"},{"location":"notes/aws/#serverless-application-model","text":"An extension of CF that let's you define lambdas. Your scripts in the folder are bundled and uploaded.","title":"Serverless Application Model"},{"location":"notes/aws/#stitching-it-together","text":"To make a backend app in this stack you would use something like these: API Gateway - Secure and scalable REST APIs Lambda - triggered by above Object store and NoSQL DB - used by above","title":"Stitching it together"},{"location":"notes/aws/#data-storage","text":"S3 - access via AWS API, third party tools Glacier - very slow EBS (SSD) - attached to instance via network EC2 Instance Store (SSD) - attached to instance directly EFS - NFSv4.1 - attached via network RDS - MySQL, SSD Elasticache - Redis / memcached protocol DynamoDB - access via AWS API (SDKs, CLI)","title":"Data Storage"},{"location":"notes/aws/#s3","text":"Make a bucket: $ aws s3 mb s3://arunsrin make_bucket: arunsrin $ Upload: aws s3 sync ~/code/dotfiles/ s3://arunsrin/dotfiles List contents: aws s3 ls aws s3 ls arunsrin/ aws s3 ls arunsrin/dotfiles/ Download: aws s3 cp --recursrive s3://arunsrin s3backup Remove: aws s3 rm --recursive s3://arunsrin/dotfiles","title":"S3"},{"location":"notes/aws/#versioning","text":"Disabled by default. Replacing a key with different content will wipe out the old data. Turn on versioning: aws s3api put-bucket-versioning --bucket arunsrin \\ --versioning-configuration Status=Enabled","title":"Versioning"},{"location":"notes/aws/#access","text":"Create a bucket policy and upload it. Essentially we want to Allow Access, to Anyone, to be able to GetObjects from s3, from our Bucket: { \"Version\":\"2012-10-17\", \"Statement\":[ { \"Sid\":\"AddPerm\", \"Effect\":\"Allow\", \"Principal\": \"*\", \"Action\":[\"s3:GetObject\"], \"Resource\":[\"arn:aws:s3:::$BucketName/*\"] } ] } Then upload it: aws s3api put-bucket-policy --bucket arunsrin-uploads --policy file://s3-policy.json","title":"Access"},{"location":"notes/aws/#static-website-hosting","text":"Do the above to make it publicly accessible, then upload your html files, and do this: aws s3 website s3://$BucketName --index-document helloworld.html You can access it on a url like this: http://$BucketName.s3-website-$Region.amazonaws.com E.g. mine is http://arunsrin-uploads.s3-website-us-east-1.amazonaws.com/ Warning At this point I tried to have a CNAME from my domain to the above, and realized it didn't work. Apparently the CNAME and bucket name have to match. So I had to make a new bucket with the correct name and copy the content over, and re-enable public access and static website. aws s3 mb s3://uploads.arunsr.in aws s3 sync s3://arunsrin-uploads s3://uploads.arunsr.in aws s3 rb --force s3://arunsrin-uploads aws s3 website s3://uploads.arunsr.in --index-document index.html aws s3api put-bucket-policy --bucket uploads.arunsr.in --policy file://s3-policy.json Now http://uploads.arunsr.in/ works :) But SSL doesn't, TODO see CloudFront for that bit.","title":"Static website hosting"},{"location":"notes/aws/#things-to-note","text":"s3 is eventually consistent. i.e. concurrent creates and deletes will always be atomic, but occassionally you might get stale data. For better i/o performance, don't name all your keys starting with same characters, like image0, image1, image2.. Using foo/bar gives a folder-like experience while browsing the contents of foo/ but technically the key is still foo/bar .","title":"Things to note"},{"location":"notes/aws/#glacier","text":"Very slow, takes minutes to hours to retrieve data. Storage is cheap, putting and getting out data is pricey. One can add a lifecycle rule in S3 to archive or delete data after a set number of days, or move them to glacier.","title":"Glacier"},{"location":"notes/aws/#references","text":"Cloudformation templates AWS quick starts List of IAM policies AWS Lambda in Action, by Danilo Poccia","title":"References"},{"location":"notes/browsers/","text":"\ud83c\udf10 Browsers I've settled on, surprisingly, MS Edge as my primary browser. The bits I like: It allows me to have a separate instance signed in with my work profile, and another one with my personal profile. So I'm quite happy segregating bookmarks, extensions, etc across both those instances. The chrome family of browsers have the best Print to PDF option. I use this once in a while to archive great pages (like LWN's weekly news). Great extensions Bitwarden : This is my password manager so I can't live without this one. Vimium : If you're a Vi person (I'm an Emacs guy usually), this will make you feel right at home in the browser. There's nothing as peaceful as using j/k to scroll, f to highlight links and open them, etc, all from the keyboard. Dark Reader : Just turned this on now and my eyes are thanking it already. Dark mode everywhere! uBlock Origin : Adblocker of choice. Set it up, forget about it. It's only when I see someone else's browser that I realize how improved my own browsing experience is. Bazqux Reader : My RSS reader of choice, and this extension simply lets me open links in the background. Good for opening a bunch of tabs early in the morning. Don't Fuck with Paste : Because some websites think they're being really clever, disabling Paste in the name of security. Enable Right Click : Same as above, for right clicking. Firefox: open links in background tab always Open a new tab, enter about:config Search for browser.tabs.loadDivertedInBackground Double click on ' false ' to set 'Value' to ' true ' Go to NewsBlur and open a story with 'o' and see it load in the background (from newsblur's Goodies page)","title":"\ud83c\udf10 Browsers"},{"location":"notes/browsers/#browsers","text":"I've settled on, surprisingly, MS Edge as my primary browser. The bits I like: It allows me to have a separate instance signed in with my work profile, and another one with my personal profile. So I'm quite happy segregating bookmarks, extensions, etc across both those instances. The chrome family of browsers have the best Print to PDF option. I use this once in a while to archive great pages (like LWN's weekly news).","title":"\ud83c\udf10 Browsers"},{"location":"notes/browsers/#great-extensions","text":"Bitwarden : This is my password manager so I can't live without this one. Vimium : If you're a Vi person (I'm an Emacs guy usually), this will make you feel right at home in the browser. There's nothing as peaceful as using j/k to scroll, f to highlight links and open them, etc, all from the keyboard. Dark Reader : Just turned this on now and my eyes are thanking it already. Dark mode everywhere! uBlock Origin : Adblocker of choice. Set it up, forget about it. It's only when I see someone else's browser that I realize how improved my own browsing experience is. Bazqux Reader : My RSS reader of choice, and this extension simply lets me open links in the background. Good for opening a bunch of tabs early in the morning. Don't Fuck with Paste : Because some websites think they're being really clever, disabling Paste in the name of security. Enable Right Click : Same as above, for right clicking.","title":"Great extensions"},{"location":"notes/browsers/#firefox-open-links-in-background-tab-always","text":"Open a new tab, enter about:config Search for browser.tabs.loadDivertedInBackground Double click on ' false ' to set 'Value' to ' true ' Go to NewsBlur and open a story with 'o' and see it load in the background (from newsblur's Goodies page)","title":"Firefox: open links in background tab always"},{"location":"notes/databases/","text":"\ud83d\udcbe Databases Elastic notes are in a sibling page. Notes from \"SQL QuickStart Guide\" Author: Walter Shields Basic operations -- Single line comment /* Multi Line Comment */ SELECT FirstName, LastName, Email, City from customers; Once more, using aliases: SELECT FirstName AS \"First Name\", LastName AS \"Surname\", Email, City from customers; And again, with sorting: SELECT FirstName AS \"First Name\", LastName AS \"Surname\", Email, City from customers ORDER BY Surname DESC; Show only first 10 records: use the keyword LIMIT . Intermediate operations /Operators/ are used with other clauses like SELECT and WHERE . Examples: Comparison operators like = , > , <= or <> Logical operators: BETWEEN , IN , LIKE , AND , OR Arithmetic operators like + , - , / , * and % SELECT Total AS [Original Amount], Total + 10 AS [Addition example], Total - 10 AS [Subtraction example] FROM invoices ORDER BY Total DESC; Filtering with WHERE : SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE Total = 1.98 ORDER BY InvoiceDate; WHERE always comes after the FROM but before the ORDER BY . BETWEEN gives a range, e.g. WHERE Total BETWEEN 1.98 AND 5.00 Searching in text: SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE BillingCity IN ('Tucson', 'Paris', 'London') ORDER BY Total Wildcard search with LIKE SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE BillingCity LIKE 'T%' ORDER BY Total (You can do a NOT LIKE 'T%' to invert the results) Filtering by date SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE InvoiceDate = '2009-01-03 00:00:00' ORDER BY Total Something more interesting: SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE InvoiceDate BETWEEN '2009-01-01 00:00:00' AND '2009-12-31 23:59:59' ORDER BY InvoiceDate Using the Date() function Let's you skip the time, for instance. SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE DATE(InvoiceDate) = '2009-01-03' ORDER BY Total Multiple AND/OR: SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE BillingCity LIKE 'p%' OR BillingCity LIKE 'd%' ORDER BY Total Specifying order: SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE Total > 1.98 AND (BillingCity LIKE 'p%' OR BillingCity LIKE 'd%') ORDER BY Total The CASE operator Lets you create a new, temporary field based on some conditions. SELECT InvoiceDate, BillingAddress, BillingCity, Total, CASE WHEN TOTAL < 2.00 THEN 'Baseline Purchase' WHEN TOTAL BETWEEN 2.00 AND 6.99 THEN 'Low Purchase' WHEN TOTAL BETWEEN 7.00 AND 15.00 THEN 'Target Purchase' ELSE 'Top Performers' END AS PurchaseType FROM invoices ORDER BY BillingCity Wrapped with CASE and END Alias using AS to create the new label WHEN and ELSE to specify the conditions Now to filter only top performers in the above case, it is trivial to add a WHERE PurchaseType = 'Top Performers' to the query. Working with multiple tables Example of a JOIN clause: SELECT * FROM invoices INNER JOIN customers ON invoices.CustomerId = customers.CustomerId Here the CustomerId column in customers table is a primary key, while CustomerId in invoices is a foreign key. With an alias this time: SELECT c.FirstName, c.LastName, i.InvoiceId, i.InvoiceDate, i.Total FROM invoices as i INNER JOIN customers as C ON i.CustomerId = c.CustomerId ORDER BY c.LastName INNER JOIN shows the intersection of 2 tables. Any info in one table that is missing in the other is just ignored. LEFT OUTER JOIN Combines all records in left with matching ones in right. Example: SELECT * FROM invocies AS i LEFT OUTER JOIN customers AS c ON i.CustomerId = c.CustomerId SQLite will insert NULL data when there are no matching records in the right table. RIGHT OUTER JOIN Same as LEFT, as you'd expect. Joining more than 2 tables Example: SELECT e.FirstName AS EmpFirstName, e.LastName AS EmpLastName, e.EmployeeId, c.FirstName AS CustomerFirstName, c.LastName AS CustomerLastName, c.SupportRepId, i.CustomerId, i.Total FROM invoices as i INNER JOIN customers as c ON i.CustomerId = c.CustomerId INNER JOIN employees as e ON c.SupportRepId = e.EmployeeId ORDER BY i.Total DESC LIMIT 10 Using NULL, IS and NOT Example: show all artists that do not have a corresponding entry in the album table: SELECT ar.ArtistId AS [ArtistId from Artists table], al.ArtistId AS [ArtistId from Albums table], ar.Name AS [Artist Name], al.Title AS [Album] FROM artists AS ar LEFT OUTER JOIN albums AS al ON ar.ArtistId = al.ArtistId WHERE al.ArtistId IS NULL Using Functions Example: Counting occurrences: SELECT COUNT(LastName) AS [Name Count] FROM customers WHERE LastName LIKE 'B%' Types of Functions String: INSTR(), LENGTH(), LOWER(), LTRIM(), REPLACE(), RTRIM(), SUBSTR(), TRIM(), UPPER() Date: DATE(), DATETIME(), JULIANDAY(), STRFTIME(), TIME(), 'NOW' Aggregate: AVG(), COUNT(), MAX(), MIN(), SUM() String manipulation Adds a space followed by LastName to FirstName: SELECT FirstName || ' ' || LastName AS [Full Name] etc. Substring example, take first five chars of PostalCode: SELECT PostalCode, SUBSTR(PostalCode,1,5) AS [Five-digit Postal] etc. Arguments for STRFTIME '%d' - day of month: 00 '%f' - fractional seconds: SS.SSS '%H' - hour: 00-24 '%j' - day of year 001-366 '%J' - Julian day number '%m' - month: 01-12 '%M' - minute: 00-59 '%s' - seconds since 1970-01-01 '%S' - seconds: 00-59 '%w' - day of week: 0-6 (Sunday is 0) '%W' - week of year: 00-53 '%Y' - year: 0000-9999 Timestrings: 'YYY-MM-DD' - A date typed in Year-Month-Day format 'now' - Current date and time 'DATETIME' field - A databse field in a date and/or time format Modifiers: '+ X days' - Add X days to the result Same as above for months and years , and - instead of + 'start of the day' - modifies the time code to represent the beginning of the day Same as above for month and year Examples: SELECT STRFTIME('The year is %Y and day is %d and month is %m', 'now') AS [Text with Conversion specifications] Example to calculate age: SELECT LastName, FirstName, STRFTIME('%Y-%m-%d', BirthDate) AS [Birthday No Timecode], STRFTIME('%Y-%m-%d','now') - STRFTIME('%Y-%m-%d',BirthDate) AS [Age] FROM employees ORDER BY Age Aggregations Main ones are SUM(), AVG(), MIN(), MAX(), COUNT(). Example: SELECT SUM(Total) AS TotalSales, AVG(Total) AS AverageSales, ROUND(AVG(Total), 2) AS RoundedAverageSales, MAX(Total) AS MaxSale, MIN(Total) AS MinSale, COUNT(*) AS SalesCount FROM invoices The * in COUNT(*) ensures that all values are counted, even records with errors or nulls. Grouping Aggregates: SELECT BillingCity, AVG(Total) FROM invoices GROUP BY BillingCity ORDER BY BillingCity Run this without GROUP BY and you will see that the response is messed up, i.e. it tries to print the BillingCity which is a multi-line reponse, and also the AVG(Total) which is a single row. Filtering based on Aggregates with HAVING WHERE does not work with functions. So if you want to show only rows where AVG exceeds 6, use HAVING : SELECT BillingCity, AVG(Total) FROM invoices GROUP BY BillingCity HAVING AVG(Total) > 6 ORDER BY BillingCity HAVING always comes after the GROUP BY clause. The WHERE clause tells SQL what data to include in the table. Once the information is filtered and aggregate functions are applied, HAVING acts as a further filter. Subqueries Basically, one query inside another. Example: Find the Average of sales, and find all rows that were below this average. Since we can't use WHERE when you're using an aggregate function, you'd have to make a subquery and embed it in another. Example: SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE Total < (select AVG(Total) from invoices) ORDER BY Total DESC) Another example, in a SELECT statement: SELECT BillingCity, AVG(Total) AS [City Average], (select avg(total) from invoices) AS [Global Average] FROM invoices GROUP BY BillingCity ORDER BY BillingCity Another, in a WHERE clause, in this case we want to see which sales in 2014 has beaten 2013's highest sale. SELECT InvoiceDate, BillingCity, Total FROM invoices WHERE InvoiceDate >= '2013-01-01' AND total > (select max(Total) from invoices where InvoiceDate < '2013-01-01') Here's one where we're interested in 3 invoces. We write a query to extract the dates they were purchased. Then we pipe that into another query and see all sales that happened in those dates. SELECT InvoiceDate, BillingAddress, BillingCity FROM invoices WHERE InvoiceDate IN (select InvoiceDate from invoices where InvoiceId in (251,252,255)) DISTINCT Here we want all tracks that do not appear in invoice_items i.e have never been bought. This is the query: select Name, composer from tracks where trackid not in (select DISTINCT TrackId from invoice_items) Note that without the DISTINCT keyword, we would get a large result with lots of repetitions. So this is the equivalent of doing a set(some_list) in python. Views A virtual table that's basically a stored query that can be executed/references by other queries. Prefix a statement with CREAE VIEW <blah> AS to make one. Example: CREATE VIEW V_AvgTotal AS SELECT ROUND(AVG(Total), 2) AS [Average Total] FROM invoices Naming with a V_ prefix is a good convention to follow. Another example for a joined query: CREATE VIEW V_Tracks_InvoiceItems AS SELECT ii.InvoiceId, ii.UnitPrice, ii.Quantity, t.Name, t.Composer, t.Milliseconds FROM invoice_items ii INNER JOIN tracks t ON ii.TrackId = t.Trackid Now you can use this in some other query. To remove it: DROP VIEW V_Tracks_InvoiceItems No data is deleted, just the view is removed. DML (Data Manipulation Language) This is about inserting/updating/deleting data. Simplest example: INSERT INTO artists (Name) VALUES ('Bob Marley') Simple UPDATE: UPDATE employees SET PostalCode = '11202' WHERE EmployeeId = 9 And DELETE: DELETE FROM employees WHERE EmployeeId = 9 Cassandra quickstart I'm actually using ScyllaDB which is compatible with Cassandra. cqlsh is it's shell. DESCRIBE keyspaces; USE <name-of-keyspace>; DESCRIBE tables; SELECT * FROM <name-of-table>; Postgreql quickstart sudo -i -u postgres postgresql quickstart createuser --interactive createdb ttrssdb psql >alter user ttrssuser with encrypted password 'blah'; >grant all privileges on database ttrssdb to ttrssuser; MySql quick start mysql> create database habari; Query OK, 1 row affected (0.02 sec) mysql> grant all on habari.* to 'habariuser'@'localhost' identified by 'blah'; Query OK, 0 rows affected (0.06 sec) mysql> flush privileges; Query OK, 0 rows affected (0.00 sec) Sqlite basics: thaum ~/code/app$ sqlite perl.db SQLite version 2.8.17 Enter \".help\" for instructions sqlite> .tables sqlite> .schema sqlite> create table perltest (id integer PRIMARY KEY,name varchar(10), salary integer); sqlite> .tables perltest sqlite> .headers on sqlite> .mode column sqlite> select * from perltest; sqlite> insert into perltest values(1,'arun',12345); sqlite> insert into perltest values(2,'brun',23456); sqlite> select * from perltest; id name salary ---------- ---------- ---------- 1 arun 12345 2 brun 23456","title":"\ud83d\udcbe Databases"},{"location":"notes/databases/#databases","text":"Elastic notes are in a sibling page.","title":"\ud83d\udcbe Databases"},{"location":"notes/databases/#notes-from-sql-quickstart-guide","text":"Author: Walter Shields","title":"Notes from \"SQL QuickStart Guide\""},{"location":"notes/databases/#basic-operations","text":"-- Single line comment /* Multi Line Comment */ SELECT FirstName, LastName, Email, City from customers; Once more, using aliases: SELECT FirstName AS \"First Name\", LastName AS \"Surname\", Email, City from customers; And again, with sorting: SELECT FirstName AS \"First Name\", LastName AS \"Surname\", Email, City from customers ORDER BY Surname DESC; Show only first 10 records: use the keyword LIMIT .","title":"Basic operations"},{"location":"notes/databases/#intermediate-operations","text":"/Operators/ are used with other clauses like SELECT and WHERE . Examples: Comparison operators like = , > , <= or <> Logical operators: BETWEEN , IN , LIKE , AND , OR Arithmetic operators like + , - , / , * and % SELECT Total AS [Original Amount], Total + 10 AS [Addition example], Total - 10 AS [Subtraction example] FROM invoices ORDER BY Total DESC;","title":"Intermediate operations"},{"location":"notes/databases/#filtering-with-where","text":"SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE Total = 1.98 ORDER BY InvoiceDate; WHERE always comes after the FROM but before the ORDER BY . BETWEEN gives a range, e.g. WHERE Total BETWEEN 1.98 AND 5.00","title":"Filtering with WHERE:"},{"location":"notes/databases/#searching-in-text","text":"SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE BillingCity IN ('Tucson', 'Paris', 'London') ORDER BY Total","title":"Searching in text:"},{"location":"notes/databases/#wildcard-search-with-like","text":"SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE BillingCity LIKE 'T%' ORDER BY Total (You can do a NOT LIKE 'T%' to invert the results)","title":"Wildcard search with LIKE"},{"location":"notes/databases/#filtering-by-date","text":"SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE InvoiceDate = '2009-01-03 00:00:00' ORDER BY Total","title":"Filtering by date"},{"location":"notes/databases/#something-more-interesting","text":"SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE InvoiceDate BETWEEN '2009-01-01 00:00:00' AND '2009-12-31 23:59:59' ORDER BY InvoiceDate","title":"Something more interesting:"},{"location":"notes/databases/#using-the-date-function","text":"Let's you skip the time, for instance. SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE DATE(InvoiceDate) = '2009-01-03' ORDER BY Total","title":"Using the Date() function"},{"location":"notes/databases/#multiple-andor","text":"SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE BillingCity LIKE 'p%' OR BillingCity LIKE 'd%' ORDER BY Total","title":"Multiple AND/OR:"},{"location":"notes/databases/#specifying-order","text":"SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE Total > 1.98 AND (BillingCity LIKE 'p%' OR BillingCity LIKE 'd%') ORDER BY Total","title":"Specifying order:"},{"location":"notes/databases/#the-case-operator","text":"Lets you create a new, temporary field based on some conditions. SELECT InvoiceDate, BillingAddress, BillingCity, Total, CASE WHEN TOTAL < 2.00 THEN 'Baseline Purchase' WHEN TOTAL BETWEEN 2.00 AND 6.99 THEN 'Low Purchase' WHEN TOTAL BETWEEN 7.00 AND 15.00 THEN 'Target Purchase' ELSE 'Top Performers' END AS PurchaseType FROM invoices ORDER BY BillingCity Wrapped with CASE and END Alias using AS to create the new label WHEN and ELSE to specify the conditions Now to filter only top performers in the above case, it is trivial to add a WHERE PurchaseType = 'Top Performers' to the query.","title":"The CASE operator"},{"location":"notes/databases/#working-with-multiple-tables","text":"Example of a JOIN clause: SELECT * FROM invoices INNER JOIN customers ON invoices.CustomerId = customers.CustomerId Here the CustomerId column in customers table is a primary key, while CustomerId in invoices is a foreign key. With an alias this time: SELECT c.FirstName, c.LastName, i.InvoiceId, i.InvoiceDate, i.Total FROM invoices as i INNER JOIN customers as C ON i.CustomerId = c.CustomerId ORDER BY c.LastName INNER JOIN shows the intersection of 2 tables. Any info in one table that is missing in the other is just ignored.","title":"Working with multiple tables"},{"location":"notes/databases/#left-outer-join","text":"Combines all records in left with matching ones in right. Example: SELECT * FROM invocies AS i LEFT OUTER JOIN customers AS c ON i.CustomerId = c.CustomerId SQLite will insert NULL data when there are no matching records in the right table.","title":"LEFT OUTER JOIN"},{"location":"notes/databases/#right-outer-join","text":"Same as LEFT, as you'd expect.","title":"RIGHT OUTER JOIN"},{"location":"notes/databases/#joining-more-than-2-tables","text":"Example: SELECT e.FirstName AS EmpFirstName, e.LastName AS EmpLastName, e.EmployeeId, c.FirstName AS CustomerFirstName, c.LastName AS CustomerLastName, c.SupportRepId, i.CustomerId, i.Total FROM invoices as i INNER JOIN customers as c ON i.CustomerId = c.CustomerId INNER JOIN employees as e ON c.SupportRepId = e.EmployeeId ORDER BY i.Total DESC LIMIT 10","title":"Joining more than 2 tables"},{"location":"notes/databases/#using-null-is-and-not","text":"Example: show all artists that do not have a corresponding entry in the album table: SELECT ar.ArtistId AS [ArtistId from Artists table], al.ArtistId AS [ArtistId from Albums table], ar.Name AS [Artist Name], al.Title AS [Album] FROM artists AS ar LEFT OUTER JOIN albums AS al ON ar.ArtistId = al.ArtistId WHERE al.ArtistId IS NULL","title":"Using NULL, IS and NOT"},{"location":"notes/databases/#using-functions","text":"Example: Counting occurrences: SELECT COUNT(LastName) AS [Name Count] FROM customers WHERE LastName LIKE 'B%'","title":"Using Functions"},{"location":"notes/databases/#types-of-functions","text":"String: INSTR(), LENGTH(), LOWER(), LTRIM(), REPLACE(), RTRIM(), SUBSTR(), TRIM(), UPPER() Date: DATE(), DATETIME(), JULIANDAY(), STRFTIME(), TIME(), 'NOW' Aggregate: AVG(), COUNT(), MAX(), MIN(), SUM()","title":"Types of Functions"},{"location":"notes/databases/#string-manipulation","text":"Adds a space followed by LastName to FirstName: SELECT FirstName || ' ' || LastName AS [Full Name] etc. Substring example, take first five chars of PostalCode: SELECT PostalCode, SUBSTR(PostalCode,1,5) AS [Five-digit Postal] etc.","title":"String manipulation"},{"location":"notes/databases/#arguments-for-strftime","text":"'%d' - day of month: 00 '%f' - fractional seconds: SS.SSS '%H' - hour: 00-24 '%j' - day of year 001-366 '%J' - Julian day number '%m' - month: 01-12 '%M' - minute: 00-59 '%s' - seconds since 1970-01-01 '%S' - seconds: 00-59 '%w' - day of week: 0-6 (Sunday is 0) '%W' - week of year: 00-53 '%Y' - year: 0000-9999 Timestrings: 'YYY-MM-DD' - A date typed in Year-Month-Day format 'now' - Current date and time 'DATETIME' field - A databse field in a date and/or time format Modifiers: '+ X days' - Add X days to the result Same as above for months and years , and - instead of + 'start of the day' - modifies the time code to represent the beginning of the day Same as above for month and year Examples: SELECT STRFTIME('The year is %Y and day is %d and month is %m', 'now') AS [Text with Conversion specifications] Example to calculate age: SELECT LastName, FirstName, STRFTIME('%Y-%m-%d', BirthDate) AS [Birthday No Timecode], STRFTIME('%Y-%m-%d','now') - STRFTIME('%Y-%m-%d',BirthDate) AS [Age] FROM employees ORDER BY Age","title":"Arguments for STRFTIME"},{"location":"notes/databases/#aggregations","text":"Main ones are SUM(), AVG(), MIN(), MAX(), COUNT(). Example: SELECT SUM(Total) AS TotalSales, AVG(Total) AS AverageSales, ROUND(AVG(Total), 2) AS RoundedAverageSales, MAX(Total) AS MaxSale, MIN(Total) AS MinSale, COUNT(*) AS SalesCount FROM invoices The * in COUNT(*) ensures that all values are counted, even records with errors or nulls. Grouping Aggregates: SELECT BillingCity, AVG(Total) FROM invoices GROUP BY BillingCity ORDER BY BillingCity Run this without GROUP BY and you will see that the response is messed up, i.e. it tries to print the BillingCity which is a multi-line reponse, and also the AVG(Total) which is a single row.","title":"Aggregations"},{"location":"notes/databases/#filtering-based-on-aggregates-with-having","text":"WHERE does not work with functions. So if you want to show only rows where AVG exceeds 6, use HAVING : SELECT BillingCity, AVG(Total) FROM invoices GROUP BY BillingCity HAVING AVG(Total) > 6 ORDER BY BillingCity HAVING always comes after the GROUP BY clause. The WHERE clause tells SQL what data to include in the table. Once the information is filtered and aggregate functions are applied, HAVING acts as a further filter.","title":"Filtering based on Aggregates with HAVING"},{"location":"notes/databases/#subqueries","text":"Basically, one query inside another. Example: Find the Average of sales, and find all rows that were below this average. Since we can't use WHERE when you're using an aggregate function, you'd have to make a subquery and embed it in another. Example: SELECT InvoiceDate, BillingAddress, BillingCity, Total FROM invoices WHERE Total < (select AVG(Total) from invoices) ORDER BY Total DESC) Another example, in a SELECT statement: SELECT BillingCity, AVG(Total) AS [City Average], (select avg(total) from invoices) AS [Global Average] FROM invoices GROUP BY BillingCity ORDER BY BillingCity Another, in a WHERE clause, in this case we want to see which sales in 2014 has beaten 2013's highest sale. SELECT InvoiceDate, BillingCity, Total FROM invoices WHERE InvoiceDate >= '2013-01-01' AND total > (select max(Total) from invoices where InvoiceDate < '2013-01-01') Here's one where we're interested in 3 invoces. We write a query to extract the dates they were purchased. Then we pipe that into another query and see all sales that happened in those dates. SELECT InvoiceDate, BillingAddress, BillingCity FROM invoices WHERE InvoiceDate IN (select InvoiceDate from invoices where InvoiceId in (251,252,255))","title":"Subqueries"},{"location":"notes/databases/#distinct","text":"Here we want all tracks that do not appear in invoice_items i.e have never been bought. This is the query: select Name, composer from tracks where trackid not in (select DISTINCT TrackId from invoice_items) Note that without the DISTINCT keyword, we would get a large result with lots of repetitions. So this is the equivalent of doing a set(some_list) in python.","title":"DISTINCT"},{"location":"notes/databases/#views","text":"A virtual table that's basically a stored query that can be executed/references by other queries. Prefix a statement with CREAE VIEW <blah> AS to make one. Example: CREATE VIEW V_AvgTotal AS SELECT ROUND(AVG(Total), 2) AS [Average Total] FROM invoices Naming with a V_ prefix is a good convention to follow. Another example for a joined query: CREATE VIEW V_Tracks_InvoiceItems AS SELECT ii.InvoiceId, ii.UnitPrice, ii.Quantity, t.Name, t.Composer, t.Milliseconds FROM invoice_items ii INNER JOIN tracks t ON ii.TrackId = t.Trackid Now you can use this in some other query. To remove it: DROP VIEW V_Tracks_InvoiceItems No data is deleted, just the view is removed.","title":"Views"},{"location":"notes/databases/#dml-data-manipulation-language","text":"This is about inserting/updating/deleting data. Simplest example: INSERT INTO artists (Name) VALUES ('Bob Marley') Simple UPDATE: UPDATE employees SET PostalCode = '11202' WHERE EmployeeId = 9 And DELETE: DELETE FROM employees WHERE EmployeeId = 9","title":"DML (Data Manipulation Language)"},{"location":"notes/databases/#cassandra-quickstart","text":"I'm actually using ScyllaDB which is compatible with Cassandra. cqlsh is it's shell. DESCRIBE keyspaces; USE <name-of-keyspace>; DESCRIBE tables; SELECT * FROM <name-of-table>;","title":"Cassandra quickstart"},{"location":"notes/databases/#postgreql-quickstart","text":"sudo -i -u postgres postgresql quickstart createuser --interactive createdb ttrssdb psql >alter user ttrssuser with encrypted password 'blah'; >grant all privileges on database ttrssdb to ttrssuser;","title":"Postgreql quickstart"},{"location":"notes/databases/#mysql-quick-start","text":"mysql> create database habari; Query OK, 1 row affected (0.02 sec) mysql> grant all on habari.* to 'habariuser'@'localhost' identified by 'blah'; Query OK, 0 rows affected (0.06 sec) mysql> flush privileges; Query OK, 0 rows affected (0.00 sec)","title":"MySql quick start"},{"location":"notes/databases/#sqlite-basics","text":"thaum ~/code/app$ sqlite perl.db SQLite version 2.8.17 Enter \".help\" for instructions sqlite> .tables sqlite> .schema sqlite> create table perltest (id integer PRIMARY KEY,name varchar(10), salary integer); sqlite> .tables perltest sqlite> .headers on sqlite> .mode column sqlite> select * from perltest; sqlite> insert into perltest values(1,'arun',12345); sqlite> insert into perltest values(2,'brun',23456); sqlite> select * from perltest; id name salary ---------- ---------- ---------- 1 arun 12345 2 brun 23456","title":"Sqlite basics:"},{"location":"notes/docker/","text":"\ud83d\udc0b Docker Once you get a bit of a rhythm with docker, it becomes pretty fun. Here are notes I took while reading some Docker books. Two good ones that I'd recommend are: Using Docker Docker in Action Some kubernetes notes are here. Useful commands docker inspect <containerid> - Shows IPAddress among other things. docker diff <containerid> - List of files changed in the container. docker logs <containerid> - list of everything that happened in the container. docker start <containerid> - Start an exited/stopped container. START IS FOR CONTAINERS. docker rm <containerid> - Remove a container. docker run -it --name mynewcontainer centos bash - Run bash in a container called 'mynewcontainer' with centos as the base. docker commit mynewcontainer arun/mynewcontainer - Create an image out of a container (either running or stopped). docker run arun/mynewcontainer echo hi - Run echo on a new container and exit. docker build -t arun/mynewcontainer . - Read Dockerfile from PWD and build a new container with that tag. docker push arun/mynewcontainer - Push to docker hub or some other registry. docker pull arun/mynewcontainer - Pull from docker hub or some other registry. docker run arun/mynewcontainer \u2013name test -d /usr/bin/nginx - daemonize and run a pulled image. RUN IS FOR IMAGES. docker run --rm -it --link myredis:redis redis /bin/bash - Woah. We ran another container and linked it to the existing 'myredis' container as 'redis' on the new one, i.e. /etc/hosts has an entry called 'redis' pointing to the old one. Cleanup Old and busted docker rmi $(docker images --filter \"dangling=true\" -q --no-trunc) - For images docker rm -v $(docker ps -aq -f status=exited) - Remove all exited containers. New hotness docker system prune docker container prune docker network prune docker volume prune Difference between Stopped Container and Image: stopped container retains its changes, settings, metadata, filesystem, runtime configuration, etc. Images don't have runtime information. Better/faster builds Turn this environment variable on to use the new build kit: DOCKER_BUILDKIT=1 More here . Dockerfile FROM centos:7 MAINTAINER Beech Team <beechbld@cisco.com> RUN yum update && yum install -y emacs Note: each command creates a layer, so try to squeeze stuff into a single command. Then build it like this: docker build -t test/myemacs . And run it like this: docker run test/emacs emacs .bashrc If you add this line to the Dockerfile: ENTRYPOINT [\"/usr/bin/emacs\"] then you can directly run the container and pass the args without mentioning the command, i.e. docker run test/emacs .bashrc COPY in a Dockerfile instructs docker to copy a file from the host to the container. e.g. COPY entrypoint.sh / VOLUME is used to just use the host's filesystem for persistent data. e.g. VOLUME /home/arunsrin/data:/root/data To do it at run time, do this: docker run -it -v `pwd`:/root arunsrin/testpy Instead of VOLUME, if you use ADD or COPY, it'll be baked into the image and available to anyone who downloads it. e.g. requirements.txt. Use ADD or COPY for making it part of the image, and VOLUME for sharing data between host and container. Unlike COPY, ADD also accepts URLs as a source, and unpacks it if its an archive. e.g. ADD . /python-oauth When running a command like docker build -t asda/asd . , the '.' is the build context. It's contents are tar'd and sent to the docker daemon so that ADD and COPY commands work seamlessly. Don't run this on a large folder like ~ !! docker-compose: stop all containers when one dies From here : docker-compose up --abort-on-container-exit This will stop all containers launched via docker-compose when one of the containers stops. Run redis on windows My teams' integration tests need this and I'm the only windows guy! docker run -d -p 6379:6379 redis:6","title":"\ud83d\udc0b Docker"},{"location":"notes/docker/#docker","text":"Once you get a bit of a rhythm with docker, it becomes pretty fun. Here are notes I took while reading some Docker books. Two good ones that I'd recommend are: Using Docker Docker in Action Some kubernetes notes are here.","title":"\ud83d\udc0b Docker"},{"location":"notes/docker/#useful-commands","text":"docker inspect <containerid> - Shows IPAddress among other things. docker diff <containerid> - List of files changed in the container. docker logs <containerid> - list of everything that happened in the container. docker start <containerid> - Start an exited/stopped container. START IS FOR CONTAINERS. docker rm <containerid> - Remove a container. docker run -it --name mynewcontainer centos bash - Run bash in a container called 'mynewcontainer' with centos as the base. docker commit mynewcontainer arun/mynewcontainer - Create an image out of a container (either running or stopped). docker run arun/mynewcontainer echo hi - Run echo on a new container and exit. docker build -t arun/mynewcontainer . - Read Dockerfile from PWD and build a new container with that tag. docker push arun/mynewcontainer - Push to docker hub or some other registry. docker pull arun/mynewcontainer - Pull from docker hub or some other registry. docker run arun/mynewcontainer \u2013name test -d /usr/bin/nginx - daemonize and run a pulled image. RUN IS FOR IMAGES. docker run --rm -it --link myredis:redis redis /bin/bash - Woah. We ran another container and linked it to the existing 'myredis' container as 'redis' on the new one, i.e. /etc/hosts has an entry called 'redis' pointing to the old one.","title":"Useful commands"},{"location":"notes/docker/#cleanup","text":"","title":"Cleanup"},{"location":"notes/docker/#old-and-busted","text":"docker rmi $(docker images --filter \"dangling=true\" -q --no-trunc) - For images docker rm -v $(docker ps -aq -f status=exited) - Remove all exited containers.","title":"Old and busted"},{"location":"notes/docker/#new-hotness","text":"docker system prune docker container prune docker network prune docker volume prune Difference between Stopped Container and Image: stopped container retains its changes, settings, metadata, filesystem, runtime configuration, etc. Images don't have runtime information.","title":"New hotness"},{"location":"notes/docker/#betterfaster-builds","text":"Turn this environment variable on to use the new build kit: DOCKER_BUILDKIT=1 More here .","title":"Better/faster builds"},{"location":"notes/docker/#dockerfile","text":"FROM centos:7 MAINTAINER Beech Team <beechbld@cisco.com> RUN yum update && yum install -y emacs Note: each command creates a layer, so try to squeeze stuff into a single command. Then build it like this: docker build -t test/myemacs . And run it like this: docker run test/emacs emacs .bashrc If you add this line to the Dockerfile: ENTRYPOINT [\"/usr/bin/emacs\"] then you can directly run the container and pass the args without mentioning the command, i.e. docker run test/emacs .bashrc COPY in a Dockerfile instructs docker to copy a file from the host to the container. e.g. COPY entrypoint.sh / VOLUME is used to just use the host's filesystem for persistent data. e.g. VOLUME /home/arunsrin/data:/root/data To do it at run time, do this: docker run -it -v `pwd`:/root arunsrin/testpy Instead of VOLUME, if you use ADD or COPY, it'll be baked into the image and available to anyone who downloads it. e.g. requirements.txt. Use ADD or COPY for making it part of the image, and VOLUME for sharing data between host and container. Unlike COPY, ADD also accepts URLs as a source, and unpacks it if its an archive. e.g. ADD . /python-oauth When running a command like docker build -t asda/asd . , the '.' is the build context. It's contents are tar'd and sent to the docker daemon so that ADD and COPY commands work seamlessly. Don't run this on a large folder like ~ !!","title":"Dockerfile"},{"location":"notes/docker/#docker-compose-stop-all-containers-when-one-dies","text":"From here : docker-compose up --abort-on-container-exit This will stop all containers launched via docker-compose when one of the containers stops.","title":"docker-compose: stop all containers when one dies"},{"location":"notes/docker/#run-redis-on-windows","text":"My teams' integration tests need this and I'm the only windows guy! docker run -d -p 6379:6379 redis:6","title":"Run redis on windows"},{"location":"notes/editors/","text":"\u2328\ufe0f Editors My heart lies with GNU Emacs. It is probably my most used tool at work because I take a crapload of notes. The pages on this site are written in Emacs in markdown (because mkdocs supports it well). Some other notes are in org format. And the bulk of my work-related notes (dating back to 2007) are in one big fat plain text file that is, as of December 2017, 26252 lines long. I'm pretty comfortable with Vim as well. I use it for quick and dirty editing for my projects. For longer sessions I invariably swtich to Emacs. Note My dotfiles for both editors are at this github repo . On a new machine I clone this repo, copy the dotfiles over and: If emacs, just start it. It downloads all the packages and I'm good to go. If vim, I clone vundle first, then start vim and do a :PluginInstall . Yay! ctags ctags -R . - generates the tags file with exuberant-tags works for python, c, c++ and quite a few more I think. Ctrl+] jumps to definition. Ctrl+t jumps back. Compile GNU Emacs on Ubuntu This is from here : git clone git://git.sv.gnu.org/emacs.git sudo apt install build-essential libgtk-3-dev libgnutls28-dev libtiff5-dev libgif-dev libjpeg-dev libpng-dev libxpm-dev libncurses-dev texinfo cd emacs ./autogen.sh ./configure --with-pgtk make -j8 sudo make install Compile GNU Emacs on Centos/Fedora/RHEL yum -y groupinstall \"Development Tools\" yum -y install gtk+-devel gtk2-devel \\ libXpm-devel libpng-devel giflib-devel \\ libtiff-devel libjpeg-devel \\ ncurses-devel gpm-devel dbus-devel \\ dbus-glib-devel dbus-python \\ GConf2-devel pkgconfig \\ libXft-devel wget https://ftp.gnu.org/pub/gnu/emacs/emacs-25.1.tar.xz tar xvJf emacs-25.1.tar.xz cd emacs-25.1 ./configure make sudo make install Disable underscore to subscript conversion in org-mode Add this to the top of the .org file: #+OPTIONS: ^:nil Or set this: (setq org-export-with-sub-superscripts nil) Org-mode Keybindings Basic keybindings C-c C-n and C-c C-p to cycle between headings. TAB on a heading to expand/collapse. M-up and M-down to reorder sections. M-left and M-right to change the level of a heading. M-RET inside a list to create a new bullet. TAB in a new bullet to indent it. S-left and S-right to change the bullet-style. Checkboxes [ ] M-S-RET gives a checkbox. [X] C-c C-c checks it. [X] TAB for subdivisions. [X] When all subtasks are checked, so is the main one. [X] A trailing [] in the line preceding a list of checkboxes contains a summary (2/3 in this case). Publishing/Exporting C-c C-e for everything. h o exports to html. # brings up common templates. Org-mode code blocks Awk, C, R, Asymptote, Calc, Clojure, CSS, Ditaa, Dot, Emacs Lisp, Forth, Fortran, Gnuplot, Haskell, IO, J, Java, Javascript, LaTeX, Ledger, Lilypond, Lisp, Makefile, Maxima, Matlab, Mscgen, Ocaml, Octave, Org, Perl, Pico Lisp, PlantUML, Python, Ruby, Sass, Scala, Scheme, Screen, sh, Shen, Sql, Sqlite, ebnf2ps. Set font in gvim permanently Change it for the current session and verify what it is set as with this: :set guifont? Copy the string and add it to .vimrc like so: set guifont=Hack:h9:cANSI Separate vim settings for windows and linux if ($OS == 'Windows_NT') \" do someting else \" do something else endif Searching in vimwiki Seems to be a wrapper around some vim grep functionality. :VimWikiSearch /pattern/ (or :VWS /pattern/ ) starts it. :lnext and :lprevious cycle through hits. :lopen shows all hits, like emacs' M-x occur . vim-fugitive cheatsheet :Git # Run any arbitrary git command from inside Vim :Gwrite # Stage the current file to the index :Gread # Revert current file to last checked in version :Gremove # Delete the current file and the corresponding Vim buffer :Gmove # Rename the current file and the corresponding Vim buffer :Gcommit # Opens up a commit window in a split window :Ggrep keyword # Will search for 'keyword' in working copy files (excluding untracked files) :Gstatus # Opens a status window. Open file with an enter, jump directly between files with {ctrl-n} and {ctrl-p} :Gdiff # Performs a vimdiff against the index version of the file. Opens a vertical split window (index file on the left, working copy on the right). Navigate through hunks using {[c} for previous and {]c} for next :Glog # Loads all previous revisions of the current file into the quickfix list. Vim tips delete trailing whitespace: :%s: *$:: pull onto search line: / CtrlR CtrlW open file name under cursor: gf increment/decrement number under cursor: CtrlA/CtrlX References Larger guides from the rest of the internet are below. Emacs Elfeed for Emacs Comment boxes Publishing org files to html Magit Fractals !!? in Emacs Huge eshell guide Animations in Emacs Vim Vim/cscope tutorial Vim/python plugins","title":"\u2328\ufe0f Editors"},{"location":"notes/editors/#editors","text":"My heart lies with GNU Emacs. It is probably my most used tool at work because I take a crapload of notes. The pages on this site are written in Emacs in markdown (because mkdocs supports it well). Some other notes are in org format. And the bulk of my work-related notes (dating back to 2007) are in one big fat plain text file that is, as of December 2017, 26252 lines long. I'm pretty comfortable with Vim as well. I use it for quick and dirty editing for my projects. For longer sessions I invariably swtich to Emacs. Note My dotfiles for both editors are at this github repo . On a new machine I clone this repo, copy the dotfiles over and: If emacs, just start it. It downloads all the packages and I'm good to go. If vim, I clone vundle first, then start vim and do a :PluginInstall . Yay!","title":"\u2328\ufe0f Editors"},{"location":"notes/editors/#ctags","text":"ctags -R . - generates the tags file with exuberant-tags works for python, c, c++ and quite a few more I think. Ctrl+] jumps to definition. Ctrl+t jumps back.","title":"ctags"},{"location":"notes/editors/#compile-gnu-emacs-on-ubuntu","text":"This is from here : git clone git://git.sv.gnu.org/emacs.git sudo apt install build-essential libgtk-3-dev libgnutls28-dev libtiff5-dev libgif-dev libjpeg-dev libpng-dev libxpm-dev libncurses-dev texinfo cd emacs ./autogen.sh ./configure --with-pgtk make -j8 sudo make install","title":"Compile GNU Emacs on Ubuntu"},{"location":"notes/editors/#compile-gnu-emacs-on-centosfedorarhel","text":"yum -y groupinstall \"Development Tools\" yum -y install gtk+-devel gtk2-devel \\ libXpm-devel libpng-devel giflib-devel \\ libtiff-devel libjpeg-devel \\ ncurses-devel gpm-devel dbus-devel \\ dbus-glib-devel dbus-python \\ GConf2-devel pkgconfig \\ libXft-devel wget https://ftp.gnu.org/pub/gnu/emacs/emacs-25.1.tar.xz tar xvJf emacs-25.1.tar.xz cd emacs-25.1 ./configure make sudo make install","title":"Compile GNU Emacs on Centos/Fedora/RHEL"},{"location":"notes/editors/#disable-underscore-to-subscript-conversion-in-org-mode","text":"Add this to the top of the .org file: #+OPTIONS: ^:nil Or set this: (setq org-export-with-sub-superscripts nil)","title":"Disable underscore to subscript conversion in org-mode"},{"location":"notes/editors/#org-mode-keybindings","text":"","title":"Org-mode Keybindings"},{"location":"notes/editors/#basic-keybindings","text":"C-c C-n and C-c C-p to cycle between headings. TAB on a heading to expand/collapse. M-up and M-down to reorder sections. M-left and M-right to change the level of a heading. M-RET inside a list to create a new bullet. TAB in a new bullet to indent it. S-left and S-right to change the bullet-style.","title":"Basic keybindings"},{"location":"notes/editors/#checkboxes","text":"[ ] M-S-RET gives a checkbox. [X] C-c C-c checks it. [X] TAB for subdivisions. [X] When all subtasks are checked, so is the main one. [X] A trailing [] in the line preceding a list of checkboxes contains a summary (2/3 in this case).","title":"Checkboxes"},{"location":"notes/editors/#publishingexporting","text":"C-c C-e for everything. h o exports to html. # brings up common templates.","title":"Publishing/Exporting"},{"location":"notes/editors/#org-mode-code-blocks","text":"Awk, C, R, Asymptote, Calc, Clojure, CSS, Ditaa, Dot, Emacs Lisp, Forth, Fortran, Gnuplot, Haskell, IO, J, Java, Javascript, LaTeX, Ledger, Lilypond, Lisp, Makefile, Maxima, Matlab, Mscgen, Ocaml, Octave, Org, Perl, Pico Lisp, PlantUML, Python, Ruby, Sass, Scala, Scheme, Screen, sh, Shen, Sql, Sqlite, ebnf2ps.","title":"Org-mode code blocks"},{"location":"notes/editors/#set-font-in-gvim-permanently","text":"Change it for the current session and verify what it is set as with this: :set guifont? Copy the string and add it to .vimrc like so: set guifont=Hack:h9:cANSI","title":"Set font in gvim permanently"},{"location":"notes/editors/#separate-vim-settings-for-windows-and-linux","text":"if ($OS == 'Windows_NT') \" do someting else \" do something else endif","title":"Separate vim settings for windows and linux"},{"location":"notes/editors/#searching-in-vimwiki","text":"Seems to be a wrapper around some vim grep functionality. :VimWikiSearch /pattern/ (or :VWS /pattern/ ) starts it. :lnext and :lprevious cycle through hits. :lopen shows all hits, like emacs' M-x occur .","title":"Searching in vimwiki"},{"location":"notes/editors/#vim-fugitive-cheatsheet","text":":Git # Run any arbitrary git command from inside Vim :Gwrite # Stage the current file to the index :Gread # Revert current file to last checked in version :Gremove # Delete the current file and the corresponding Vim buffer :Gmove # Rename the current file and the corresponding Vim buffer :Gcommit # Opens up a commit window in a split window :Ggrep keyword # Will search for 'keyword' in working copy files (excluding untracked files) :Gstatus # Opens a status window. Open file with an enter, jump directly between files with {ctrl-n} and {ctrl-p} :Gdiff # Performs a vimdiff against the index version of the file. Opens a vertical split window (index file on the left, working copy on the right). Navigate through hunks using {[c} for previous and {]c} for next :Glog # Loads all previous revisions of the current file into the quickfix list.","title":"vim-fugitive cheatsheet"},{"location":"notes/editors/#vim-tips","text":"delete trailing whitespace: :%s: *$:: pull onto search line: / CtrlR CtrlW open file name under cursor: gf increment/decrement number under cursor: CtrlA/CtrlX","title":"Vim tips"},{"location":"notes/editors/#references","text":"Larger guides from the rest of the internet are below.","title":"References"},{"location":"notes/editors/#emacs","text":"Elfeed for Emacs Comment boxes Publishing org files to html Magit Fractals !!? in Emacs Huge eshell guide Animations in Emacs","title":"Emacs"},{"location":"notes/editors/#vim","text":"Vim/cscope tutorial Vim/python plugins","title":"Vim"},{"location":"notes/elastic/","text":"\ud83d\udd0d Elastic Stack These are notes from Learning Elastic Stack 7.0 , by Pranav Shukla and Sharath Kumar MN. Using the Kibana Console Some simple APIs to warm up. GET / <- Prints version information GET <index-name>/_mappings <- schema/mappings of this index GET <index-name>/_doc/<id_of_document> <- Content of this document Fundamentals An Index is loosely analogous to a table, and a document to a record. One Index can have only one Type . Types are logical groupings same/similar documents in an Index . e.g. Employees could be one Type and Orders could be another, even if both were json documents and both had several common fields. Documents : basic unit of information. Contains multiple fields like date, logMessage, processName, etc. Internal fields that Elastic itself maintains: _id (unique identifier), _type (Document's type, e.g. _doc), _index (Index name where it is stored) Nodes form together to form a cluster . Shards and Replicas One can shard an index so that it is split into multiple segments, which will then reside on 1 or more nodes. By default 5 shards are made for every index. But if a node were to go down, those shards would be lost. So you can also create one replica for each shard, which will again be distributed in a slightly different order on the same nodes. Execution of queries is transparently distribute to either the primary or the replica shards. Core DataTypes String datatypes: text - general lengthy text, elastic can do full-text search on this keyword - let's you run some analytics on string fields, i.e. something you want to sort, filter, aggregate Numeric datatypes: byte / short / integer / long float / double half_float scaled_float date datatype boolean datatype binary datatype - arbitrary binary content, base64-encoded Range datatypes: integer_range , float_range , long_range , double_range , date_range Complex DataTypes array - no mixing, list of same types object - allows inner objects within json documents nested - arrays of inner objects, where each inner object needs to be independently queriable Other DataTypes geo-point datatype - stores geo-points as lat and long geo-shape datatype - store geometric shapes like polygons, maps, etc. Allows queries that search within a shape ip datatype - ipv4/ipv6 Indexes Check GET <index-name>/_mappings in the dev console to see the fields and their types in this index. You will see stuff like this: \"file\" : { \"type\" : \"text\", \"fields\" : { \"keyword\" : { \"type\" : \"keyword\", \"ignore_above\" : 256 } } }, What this means is, file is a field of type text , but it's also mapped as a keyword so you can also do analytics on it. An Inverted Index is built from all fields. CRUD APIs An indexing operation is basically the addition of a document to the index. Elastic parses all the fields and builds the inverted index. Use the PUT API to do this, with or without an id. Get it with this: GET <index-name>/_doc/<id of document> You can call an UPDATE with just a specific field (say, price ) to update that field in the document. Elastic will version and maintain both copies. The _version field will be incremented. You can set the field doc_as_upsert to true and call a POST to <index>/_update/<id> to update if it exists or insert otherwise. You can even do some scripting when you call the POST, using Elastic's 'painless' scripting language. e.g. to increment current value by 2. DELETE : Call it on <index>/_doc/<id> as expected. Updating a mapping In this example, the 'code' field is converted to a keyword type: PUT /catalog/_mapping { \"properties\": { \"code\": { \"type\": \"keyword\" } } } REST API overview Main categories: Document APIs Search APIs Aggregation APIs Indexes APIs Cluster APIs cat APIs For pretty printing while using curl, suffix ?pretty=true . In the Console UI, it's turned on by default. Searching Use the _search API: GET /_search This prints ALL docs in ALL indexes, first 10 results only though. To search within an index: GET /<index-name>/_search GET /<index-name>/_doc/_search In earlier versions of elastic, an index could have more than one type. In the above example, _doc is the type. In Elastic 7.0, only one type is supported. So the second GET is deprecated. To search across more than one index: GET /catalog,my_index/_search Analytics and Visualizing Data Elastic has Analyzers that break down values of a field into terms, to make it searchable. This happens both during indexing and during searching. Final goal is for the searchable index to be created. Analyzers comprise of Character Filters, a Tokenizer, and Token Filters. Character filters map strings to something else, e.g. :) maps to smile . They are run at the beginning of the processing chain in an analyzer. Token Filters are used for use cases like, removing stop words (a/an/the), replacing everything to lowercase, etc. Apart from the (default) Standard Analyzer, there are many others . To understand how the tokenization happens, here's an example: GET /_analyze { \"text\" : \"test analysis\", \"analyzer\": \"standard\" } Output: { \"tokens\" : [ { \"token\" : \"test\", \"start_offset\" : 0, \"end_offset\" : 4, \"type\" : \"<ALPHANUM>\", \"position\" : 0 }, { \"token\" : \"analysis\", \"start_offset\" : 5, \"end_offset\" : 13, \"type\" : \"<ALPHANUM>\", \"position\" : 1 } ] } With different analyzers and filters, the final tokens would be different. Term queries You would use these in a search query to bypass the analysis stage and directly lookup the inverted index. Other more complex queries use these as a base. Types of term queries: range query - e.g. to show all Products where the Price attibute is >10 and <=20. You can boost the weight of the results by suppplying a boost multipler. You can query date ranges e.g. from now-7d to now . exists query - Just tell if the field exists or not. Term query - e.g do an exact match for a certain manufacturer in a Product index. Use the keyword type for this since keywords are not indexed. You can get the keyword by querying <fieldname>.raw Terms query - Same as above, but you can give multiple terms to search for. And a few others, see the full list of term-levelqueries here. match queries do the actual full-text searching. However if you search in a keyword (like datacenter.raw which is a keyword field), it skips all that and does an exact match. You can set params for fuzziness in your search and it will return results accordingly e.g. victer will match with victor. Bucket aggregations Like a GROUP BY basically. Example: GET <index_name>/_search { \"aggs\" { \"byCategory\": { \"terms\": { \"field\": \"category\" } } }, \"size\": 0 } The size is set to 0 so we don't get raw results, but only the aggregated ones. You can also bucketize by numerical ranges, e.g. show me everything between 1 and 100, 100 and 1000, etc. Metric aggregations Like doing a COUNT or AVG etc on numeric data. It's all json instead of SQL. Example: GET <index_name>/_search { \"aggregations\": { \"download_max\" : { \"max\": { \"field\": \"downloadTotal\" } } }, \"size\": 0 } A Stats aggregation is similar but it basically does the sum, average, mix, max and count in a single shot. Buckets based on Geospatial data Geodistance aggregation - based on a lat/long, query hits within a certain radius. GeoHash grid aggregation - Divides the map into grids and searches within a wide imprecise grid or narrower, more precise grids. Logstash I already know this quite well. Input/Filter/Output sections etc. Input Plugins file is the most obvious, to read from a file. beats tells logstash to pull from a beats daemon. Just takes a port setting and nothing else. jdbc : imports from a database. Each row becomes an event, each column becomes a field. You can specify your sql statement and how often to query. imap : read mails! Output Plugins elasticsearch , and kafka obviously. csv pagerduty to send to PD. e.g. your input plugin could match all 5xx errors and output could directly page someone. Filter Plugins grok is the one I've used most but there are others. csv - Tell it to autodetect_columns otherwise set yours explicitly, and it will extract csv data. mutate - You can convert fields here (Age to integer), rename them (FName to FirstName), strip them, uppercase them, etc. Looks quite powerful grok - most poweful. match a line against an expression. Use %{PATTERN:FIELDNAME:type} to match a pattern with a field and set its type. Some in-built patterns are TIMERSTAMP_ISO8601 , USERNAME , GREEDYDATA . A nice list is here . date - You can set a pattern like dd/MMM/YYY:HH:mm:ss Z as your case may be. Overrides the @timestamp field by default. geoip - converts an ip to a geoip json (timezone, lat/long, continent code, country name and code etc.) useragent - converts a UA string based on Browserscope data, to OS, browser, version fields. Codec Plugins There are also 'codec' plugins to encode/decode events: these are hit just before the input stage, or just before it leaves the output stage. Examples: json : treats data as json, otherwise falls back to plain text and adds a _jsonparsefailure tag. rubydebug for ruby stuff multiline for merging multiple lines into a single event, think a long backtrace. You can specify a regex e.g. any line that starts with a space \"^\\s \" , and logstash will merge it with the previous event. Elastic Pipelines Newer elastic versions have an 'ingest node', if you use this you can potentially skip all the filtering in logstash. These nodes can do the preprocessing before the indexing happens. You would define a pipeline, with a series of processors. Each processor transforms the document in some way. Some processors: gsub, grok, convert, remove, rename, etc. Full list of processor directives . e.g. I've seen dissect used to do basically what grok does. You would use the _ingest API to play with pipelines. Beats Lightweight shippers. A library called libbeat is used. Go is used so a single fat binary is all you need. Looks like this does the input and output part of logstash, and pipelines do the filter part. filebeat - takes files and sends them to elastic, kafka, logstash, etc. You can use an out of the box module, consisting of path to look for logs, elastic Ingest pipeline to send to, elastic templates contianing field definitions, and sample kibana dashboards. metricbeat - like collectd. packetbeat - real time packet analyzer, understands Application layer like HTTP, MySQL, Redis etc. heartbeat - check if service is up and reachable. Supports icmp, tcp, http probes. winlogbeat - Reads event logs using windows APIs. auditbeat - Skips auditd and directly communicates with underling audit framework apparently. journalbeat - For journald. functionbeat - For serverless. 3rd party stuff: spring, nginx, mysql, mongo, apache, docker, kafka, redis, kafka, amazon*. Full list here . Kibana Notes Initial Setup You must first create an index-pattern that aggregates your indexes. Then you would see all its fields, and can make each of them searchable, aggregatable, etc. Queries Recollect the Term Queries section above. You can search for all those exact matches with field:value , e.g. datacenter:sjc . OOh you can also do wildcard searches, like this: host:nginx* will match all host fields with the value nginx01, nginx02, etc. MUST NOT is like this: ~response:200 Ranges are like this: response:[301 to 500] KQL KQL Guide Example: response:200 or geoip.city_name:Diedorf Visualizations Kibana supports these 2 aggregations: - Bucket: like a GROUP BY. - Metric: you can plot Count, Average, Sum, Min, Max, Standard Deviation, etc. X-Pack You'd see stuff like this on the sidebar: Maps, Machine Learning, Infrastructure, Logs, APM, Uptime, Dev Tools, Stack Monitoring.","title":"\ud83d\udd0d Elastic Stack"},{"location":"notes/elastic/#elastic-stack","text":"These are notes from Learning Elastic Stack 7.0 , by Pranav Shukla and Sharath Kumar MN.","title":"\ud83d\udd0d Elastic Stack"},{"location":"notes/elastic/#using-the-kibana-console","text":"Some simple APIs to warm up. GET / <- Prints version information GET <index-name>/_mappings <- schema/mappings of this index GET <index-name>/_doc/<id_of_document> <- Content of this document","title":"Using the Kibana Console"},{"location":"notes/elastic/#fundamentals","text":"An Index is loosely analogous to a table, and a document to a record. One Index can have only one Type . Types are logical groupings same/similar documents in an Index . e.g. Employees could be one Type and Orders could be another, even if both were json documents and both had several common fields. Documents : basic unit of information. Contains multiple fields like date, logMessage, processName, etc. Internal fields that Elastic itself maintains: _id (unique identifier), _type (Document's type, e.g. _doc), _index (Index name where it is stored) Nodes form together to form a cluster .","title":"Fundamentals"},{"location":"notes/elastic/#shards-and-replicas","text":"One can shard an index so that it is split into multiple segments, which will then reside on 1 or more nodes. By default 5 shards are made for every index. But if a node were to go down, those shards would be lost. So you can also create one replica for each shard, which will again be distributed in a slightly different order on the same nodes. Execution of queries is transparently distribute to either the primary or the replica shards.","title":"Shards and Replicas"},{"location":"notes/elastic/#core-datatypes","text":"String datatypes: text - general lengthy text, elastic can do full-text search on this keyword - let's you run some analytics on string fields, i.e. something you want to sort, filter, aggregate Numeric datatypes: byte / short / integer / long float / double half_float scaled_float date datatype boolean datatype binary datatype - arbitrary binary content, base64-encoded Range datatypes: integer_range , float_range , long_range , double_range , date_range","title":"Core DataTypes"},{"location":"notes/elastic/#complex-datatypes","text":"array - no mixing, list of same types object - allows inner objects within json documents nested - arrays of inner objects, where each inner object needs to be independently queriable","title":"Complex DataTypes"},{"location":"notes/elastic/#other-datatypes","text":"geo-point datatype - stores geo-points as lat and long geo-shape datatype - store geometric shapes like polygons, maps, etc. Allows queries that search within a shape ip datatype - ipv4/ipv6","title":"Other DataTypes"},{"location":"notes/elastic/#indexes","text":"Check GET <index-name>/_mappings in the dev console to see the fields and their types in this index. You will see stuff like this: \"file\" : { \"type\" : \"text\", \"fields\" : { \"keyword\" : { \"type\" : \"keyword\", \"ignore_above\" : 256 } } }, What this means is, file is a field of type text , but it's also mapped as a keyword so you can also do analytics on it. An Inverted Index is built from all fields.","title":"Indexes"},{"location":"notes/elastic/#crud-apis","text":"An indexing operation is basically the addition of a document to the index. Elastic parses all the fields and builds the inverted index. Use the PUT API to do this, with or without an id. Get it with this: GET <index-name>/_doc/<id of document> You can call an UPDATE with just a specific field (say, price ) to update that field in the document. Elastic will version and maintain both copies. The _version field will be incremented. You can set the field doc_as_upsert to true and call a POST to <index>/_update/<id> to update if it exists or insert otherwise. You can even do some scripting when you call the POST, using Elastic's 'painless' scripting language. e.g. to increment current value by 2. DELETE : Call it on <index>/_doc/<id> as expected.","title":"CRUD APIs"},{"location":"notes/elastic/#updating-a-mapping","text":"In this example, the 'code' field is converted to a keyword type: PUT /catalog/_mapping { \"properties\": { \"code\": { \"type\": \"keyword\" } } }","title":"Updating a mapping"},{"location":"notes/elastic/#rest-api-overview","text":"Main categories: Document APIs Search APIs Aggregation APIs Indexes APIs Cluster APIs cat APIs For pretty printing while using curl, suffix ?pretty=true . In the Console UI, it's turned on by default.","title":"REST API overview"},{"location":"notes/elastic/#searching","text":"Use the _search API: GET /_search This prints ALL docs in ALL indexes, first 10 results only though. To search within an index: GET /<index-name>/_search GET /<index-name>/_doc/_search In earlier versions of elastic, an index could have more than one type. In the above example, _doc is the type. In Elastic 7.0, only one type is supported. So the second GET is deprecated. To search across more than one index: GET /catalog,my_index/_search","title":"Searching"},{"location":"notes/elastic/#analytics-and-visualizing-data","text":"Elastic has Analyzers that break down values of a field into terms, to make it searchable. This happens both during indexing and during searching. Final goal is for the searchable index to be created. Analyzers comprise of Character Filters, a Tokenizer, and Token Filters. Character filters map strings to something else, e.g. :) maps to smile . They are run at the beginning of the processing chain in an analyzer. Token Filters are used for use cases like, removing stop words (a/an/the), replacing everything to lowercase, etc. Apart from the (default) Standard Analyzer, there are many others . To understand how the tokenization happens, here's an example: GET /_analyze { \"text\" : \"test analysis\", \"analyzer\": \"standard\" } Output: { \"tokens\" : [ { \"token\" : \"test\", \"start_offset\" : 0, \"end_offset\" : 4, \"type\" : \"<ALPHANUM>\", \"position\" : 0 }, { \"token\" : \"analysis\", \"start_offset\" : 5, \"end_offset\" : 13, \"type\" : \"<ALPHANUM>\", \"position\" : 1 } ] } With different analyzers and filters, the final tokens would be different.","title":"Analytics and Visualizing Data"},{"location":"notes/elastic/#term-queries","text":"You would use these in a search query to bypass the analysis stage and directly lookup the inverted index. Other more complex queries use these as a base. Types of term queries: range query - e.g. to show all Products where the Price attibute is >10 and <=20. You can boost the weight of the results by suppplying a boost multipler. You can query date ranges e.g. from now-7d to now . exists query - Just tell if the field exists or not. Term query - e.g do an exact match for a certain manufacturer in a Product index. Use the keyword type for this since keywords are not indexed. You can get the keyword by querying <fieldname>.raw Terms query - Same as above, but you can give multiple terms to search for. And a few others, see the full list of term-levelqueries here. match queries do the actual full-text searching. However if you search in a keyword (like datacenter.raw which is a keyword field), it skips all that and does an exact match. You can set params for fuzziness in your search and it will return results accordingly e.g. victer will match with victor.","title":"Term queries"},{"location":"notes/elastic/#bucket-aggregations","text":"Like a GROUP BY basically. Example: GET <index_name>/_search { \"aggs\" { \"byCategory\": { \"terms\": { \"field\": \"category\" } } }, \"size\": 0 } The size is set to 0 so we don't get raw results, but only the aggregated ones. You can also bucketize by numerical ranges, e.g. show me everything between 1 and 100, 100 and 1000, etc.","title":"Bucket aggregations"},{"location":"notes/elastic/#metric-aggregations","text":"Like doing a COUNT or AVG etc on numeric data. It's all json instead of SQL. Example: GET <index_name>/_search { \"aggregations\": { \"download_max\" : { \"max\": { \"field\": \"downloadTotal\" } } }, \"size\": 0 } A Stats aggregation is similar but it basically does the sum, average, mix, max and count in a single shot.","title":"Metric aggregations"},{"location":"notes/elastic/#buckets-based-on-geospatial-data","text":"Geodistance aggregation - based on a lat/long, query hits within a certain radius. GeoHash grid aggregation - Divides the map into grids and searches within a wide imprecise grid or narrower, more precise grids.","title":"Buckets based on Geospatial data"},{"location":"notes/elastic/#logstash","text":"I already know this quite well. Input/Filter/Output sections etc.","title":"Logstash"},{"location":"notes/elastic/#input-plugins","text":"file is the most obvious, to read from a file. beats tells logstash to pull from a beats daemon. Just takes a port setting and nothing else. jdbc : imports from a database. Each row becomes an event, each column becomes a field. You can specify your sql statement and how often to query. imap : read mails!","title":"Input Plugins"},{"location":"notes/elastic/#output-plugins","text":"elasticsearch , and kafka obviously. csv pagerduty to send to PD. e.g. your input plugin could match all 5xx errors and output could directly page someone.","title":"Output Plugins"},{"location":"notes/elastic/#filter-plugins","text":"grok is the one I've used most but there are others. csv - Tell it to autodetect_columns otherwise set yours explicitly, and it will extract csv data. mutate - You can convert fields here (Age to integer), rename them (FName to FirstName), strip them, uppercase them, etc. Looks quite powerful grok - most poweful. match a line against an expression. Use %{PATTERN:FIELDNAME:type} to match a pattern with a field and set its type. Some in-built patterns are TIMERSTAMP_ISO8601 , USERNAME , GREEDYDATA . A nice list is here . date - You can set a pattern like dd/MMM/YYY:HH:mm:ss Z as your case may be. Overrides the @timestamp field by default. geoip - converts an ip to a geoip json (timezone, lat/long, continent code, country name and code etc.) useragent - converts a UA string based on Browserscope data, to OS, browser, version fields.","title":"Filter Plugins"},{"location":"notes/elastic/#codec-plugins","text":"There are also 'codec' plugins to encode/decode events: these are hit just before the input stage, or just before it leaves the output stage. Examples: json : treats data as json, otherwise falls back to plain text and adds a _jsonparsefailure tag. rubydebug for ruby stuff multiline for merging multiple lines into a single event, think a long backtrace. You can specify a regex e.g. any line that starts with a space \"^\\s \" , and logstash will merge it with the previous event.","title":"Codec Plugins"},{"location":"notes/elastic/#elastic-pipelines","text":"Newer elastic versions have an 'ingest node', if you use this you can potentially skip all the filtering in logstash. These nodes can do the preprocessing before the indexing happens. You would define a pipeline, with a series of processors. Each processor transforms the document in some way. Some processors: gsub, grok, convert, remove, rename, etc. Full list of processor directives . e.g. I've seen dissect used to do basically what grok does. You would use the _ingest API to play with pipelines.","title":"Elastic Pipelines"},{"location":"notes/elastic/#beats","text":"Lightweight shippers. A library called libbeat is used. Go is used so a single fat binary is all you need. Looks like this does the input and output part of logstash, and pipelines do the filter part. filebeat - takes files and sends them to elastic, kafka, logstash, etc. You can use an out of the box module, consisting of path to look for logs, elastic Ingest pipeline to send to, elastic templates contianing field definitions, and sample kibana dashboards. metricbeat - like collectd. packetbeat - real time packet analyzer, understands Application layer like HTTP, MySQL, Redis etc. heartbeat - check if service is up and reachable. Supports icmp, tcp, http probes. winlogbeat - Reads event logs using windows APIs. auditbeat - Skips auditd and directly communicates with underling audit framework apparently. journalbeat - For journald. functionbeat - For serverless. 3rd party stuff: spring, nginx, mysql, mongo, apache, docker, kafka, redis, kafka, amazon*. Full list here .","title":"Beats"},{"location":"notes/elastic/#kibana-notes","text":"","title":"Kibana Notes"},{"location":"notes/elastic/#initial-setup","text":"You must first create an index-pattern that aggregates your indexes. Then you would see all its fields, and can make each of them searchable, aggregatable, etc.","title":"Initial Setup"},{"location":"notes/elastic/#queries","text":"Recollect the Term Queries section above. You can search for all those exact matches with field:value , e.g. datacenter:sjc . OOh you can also do wildcard searches, like this: host:nginx* will match all host fields with the value nginx01, nginx02, etc. MUST NOT is like this: ~response:200 Ranges are like this: response:[301 to 500]","title":"Queries"},{"location":"notes/elastic/#kql","text":"KQL Guide Example: response:200 or geoip.city_name:Diedorf","title":"KQL"},{"location":"notes/elastic/#visualizations","text":"Kibana supports these 2 aggregations: - Bucket: like a GROUP BY. - Metric: you can plot Count, Average, Sum, Min, Max, Standard Deviation, etc.","title":"Visualizations"},{"location":"notes/elastic/#x-pack","text":"You'd see stuff like this on the sidebar: Maps, Machine Learning, Infrastructure, Logs, APM, Uptime, Dev Tools, Stack Monitoring.","title":"X-Pack"},{"location":"notes/git/","text":"\ud83d\udcbe Git Separate git configurations for work and play Put something like this in your ~/.gitconfig : [includeIf \"gitdir:~/work/\"] path = ~/.gitconfig.work [includeIf \"gitdir:~/code/\"] path = ~/.gitconfig.personal If your work repos are in ~/work , you can have a separate user/email etc for repos in that folder. Create an empty commit git commit --allow-empty -m \"blah blah\" Useful if you have a gitops workflow and just want to raise a PR to trigger something from there. Show parents of a merge commit git cat-file -p <commit> or git show --pretty=raw <commit> Both these show similar information: the committer, the parent(s), commit text and so on. Show files changed between two commit IDs Now that you have the two parents of a merged request (see above tip), you can see all files changed between its two parents with a command like this: git diff --name-only <sha1> <sha2> Color coded git output git config --global color.ui true Git objects Tree Blob Commit Tag Reverting a reverted commit in git If you've reverted a recent commit with: git reset HEAD^ You can undo the revert with this: git reset HEAD@{1} Using git stash to save changes temporarily First do a git add (if its a new file to be tracked), then git stash Check with git stash list Reapply with git stash apply Otherwise use git stash pop to recover the files and discard the stash Creating a branch from a stash: git stash branch testchanges View commits that aren't in master To see commits that have not yet merged to master: git log --no-merges master.. Bitbucket: checkout a pull request From here: https://gist.github.com/hongymagic/6339056 First add this to .git/config under the origin section: fetch = +refs/pull-requests/*:refs/remotes/origin/pull-requests/* Then fetch the pull requests: git fetch origin Then checkout the one you want: git checkout pull-requests/1000/from Git rebase vs normal pull Instead of a normal pull, try this: git pull --rebase origin master And make it permanent with this: git config --global pull.rebase true 'The --rebase option tells Git to move all of Mary's commits to the tip of the master branch after synchronising it with the changes from the central repository.' From here: https://www.atlassian.com/git/tutorials/comparing-workflows/centralized-workflow This removes the superfluous 'merge commit' that comes up normally. After fixing a merge conflict: git add <some-file> git rebase --continue To abort: git rebase --abort Finally: git push origin master Git log on a file git log -p filename actually do this: git log --follow filename Submodules To update all submodules: git submodule update --init --recursive To fetch the latest code from a submodule: cd <submodule-folder> git pull cd .. git commit -am \"bumping up submodule version\" Then merge the code. The next time the parent repository is pulled, updating the submodule will get the latest commit in it. Working with remotes Changing a remote's name git remote origin set-url http://some-other-url Adding a remote git remote add newremote http://newremote-url Then as usual push/pull to and from these remotes git pull origin master git push newremote master Leaderboards git shortlog -sn Hide Whitespace Noise Good when some one changes indentations and a whole lot of rubbish comes). git diff -w Show words that have changed inline git diff --word-diff See what everyone is up to git log --all --oneline --no-merges Generate a changelog git log --oneline --no-merges <last tag>..HEAD View complex logs git log --graph --all --decorate --stat --date=iso Handy aliases Put something like this in your .gitconfig [alias] st = status --branch --short wat = log --graph --decorate --oneline -15 follow = log --follow -p","title":"\ud83d\udcbe Git"},{"location":"notes/git/#git","text":"","title":"\ud83d\udcbe Git"},{"location":"notes/git/#separate-git-configurations-for-work-and-play","text":"Put something like this in your ~/.gitconfig : [includeIf \"gitdir:~/work/\"] path = ~/.gitconfig.work [includeIf \"gitdir:~/code/\"] path = ~/.gitconfig.personal If your work repos are in ~/work , you can have a separate user/email etc for repos in that folder.","title":"Separate git configurations for work and play"},{"location":"notes/git/#create-an-empty-commit","text":"git commit --allow-empty -m \"blah blah\" Useful if you have a gitops workflow and just want to raise a PR to trigger something from there.","title":"Create an empty commit"},{"location":"notes/git/#show-parents-of-a-merge-commit","text":"git cat-file -p <commit> or git show --pretty=raw <commit> Both these show similar information: the committer, the parent(s), commit text and so on.","title":"Show parents of a merge commit"},{"location":"notes/git/#show-files-changed-between-two-commit-ids","text":"Now that you have the two parents of a merged request (see above tip), you can see all files changed between its two parents with a command like this: git diff --name-only <sha1> <sha2>","title":"Show files changed between two commit IDs"},{"location":"notes/git/#color-coded-git-output","text":"git config --global color.ui true","title":"Color coded git output"},{"location":"notes/git/#git-objects","text":"Tree Blob Commit Tag","title":"Git objects"},{"location":"notes/git/#reverting-a-reverted-commit-in-git","text":"If you've reverted a recent commit with: git reset HEAD^ You can undo the revert with this: git reset HEAD@{1}","title":"Reverting a reverted commit in git"},{"location":"notes/git/#using-git-stash-to-save-changes-temporarily","text":"First do a git add (if its a new file to be tracked), then git stash Check with git stash list Reapply with git stash apply Otherwise use git stash pop to recover the files and discard the stash Creating a branch from a stash: git stash branch testchanges","title":"Using git stash to save changes temporarily"},{"location":"notes/git/#view-commits-that-arent-in-master","text":"To see commits that have not yet merged to master: git log --no-merges master..","title":"View commits that aren't in master"},{"location":"notes/git/#bitbucket-checkout-a-pull-request","text":"From here: https://gist.github.com/hongymagic/6339056 First add this to .git/config under the origin section: fetch = +refs/pull-requests/*:refs/remotes/origin/pull-requests/* Then fetch the pull requests: git fetch origin Then checkout the one you want: git checkout pull-requests/1000/from","title":"Bitbucket: checkout a pull request"},{"location":"notes/git/#git-rebase-vs-normal-pull","text":"Instead of a normal pull, try this: git pull --rebase origin master And make it permanent with this: git config --global pull.rebase true 'The --rebase option tells Git to move all of Mary's commits to the tip of the master branch after synchronising it with the changes from the central repository.' From here: https://www.atlassian.com/git/tutorials/comparing-workflows/centralized-workflow This removes the superfluous 'merge commit' that comes up normally. After fixing a merge conflict: git add <some-file> git rebase --continue To abort: git rebase --abort Finally: git push origin master","title":"Git rebase vs normal pull"},{"location":"notes/git/#git-log-on-a-file","text":"git log -p filename actually do this: git log --follow filename","title":"Git log on a file"},{"location":"notes/git/#submodules","text":"To update all submodules: git submodule update --init --recursive To fetch the latest code from a submodule: cd <submodule-folder> git pull cd .. git commit -am \"bumping up submodule version\" Then merge the code. The next time the parent repository is pulled, updating the submodule will get the latest commit in it.","title":"Submodules"},{"location":"notes/git/#working-with-remotes","text":"Changing a remote's name git remote origin set-url http://some-other-url Adding a remote git remote add newremote http://newremote-url Then as usual push/pull to and from these remotes git pull origin master git push newremote master","title":"Working with remotes"},{"location":"notes/git/#leaderboards","text":"git shortlog -sn","title":"Leaderboards"},{"location":"notes/git/#hide-whitespace-noise","text":"Good when some one changes indentations and a whole lot of rubbish comes). git diff -w","title":"Hide Whitespace Noise"},{"location":"notes/git/#show-words-that-have-changed-inline","text":"git diff --word-diff","title":"Show words that have changed inline"},{"location":"notes/git/#see-what-everyone-is-up-to","text":"git log --all --oneline --no-merges","title":"See what everyone is up to"},{"location":"notes/git/#generate-a-changelog","text":"git log --oneline --no-merges <last tag>..HEAD","title":"Generate a changelog"},{"location":"notes/git/#view-complex-logs","text":"git log --graph --all --decorate --stat --date=iso","title":"View complex logs"},{"location":"notes/git/#handy-aliases","text":"Put something like this in your .gitconfig [alias] st = status --branch --short wat = log --graph --decorate --oneline -15 follow = log --follow -p","title":"Handy aliases"},{"location":"notes/grafana/","text":"\ud83d\udcc8 Grafana Most of these notes are from the book Learn Grafana 7.0 by Eric Salituro. Installation docker volume create grafana-storage docker run -d --name=grafana -p 3000:3000 \\ -v grafana-storage:/var/lib/grafana \\ grafana/grafana Then in my virtualbox, I can access it at http://192.168.56.101:3000/login admin/admin are the default credentials Install plugins like this: grafana-cli plugins install marcusolsson-csv-datasource Then you can load csv data sources, and so on. Prometheus Time Series Basics We launched its container in chapter04/docker-compose.yml and made it query itself and grafana. Standard SQL query: SELECT some fields FROM some table WHERE fields match some criteria But time series query: SELECT metric FROM some data store WHERE metric tags match some criteria AND in some time range Time series data usually has A timestamp, a metric value and a set of key-value pairs for characterizing the data. Metrics exposed by grafana All the stuff scraped by prometheus for grafana are here: http://192.168.56.101:3000/metrics Snippet: go_gc_duration_seconds{quantile=\"0.25\"} 0.000129418 go_gc_duration_seconds{quantile=\"0.5\"} 0.000391354 go_gc_duration_seconds{quantile=\"0.75\"} 0.001348095 go_gc_duration_seconds{quantile=\"1\"} 0.004575058 go_gc_duration_seconds_sum 0.032182243 go_gc_duration_seconds_count 37 # HELP go_goroutines Number of goroutines that currently exist. # TYPE go_goroutines gauge go_goroutines 120 # HELP go_info Information about the Go environment. # TYPE go_info gauge go_info{version=\"go1.17\"} 1 # HELP go_memstats_alloc_bytes Number of bytes allocated and still in use. # TYPE go_memstats_alloc_bytes gauge go_memstats_alloc_bytes 1.747936e+07 So a corresponding query would be: go_goroutines{job=\"grafana\"} Similarly for memory-related queries you would do: process_resident_memory_bytes{job=grafana} Next, although the guide told to see prometheus_http_requests_total, grafana said it was a counter so it should be converted to rate(prometheus_http_requests_total[5m]) I think they mean grafana_http_request_duration_seconds_count actually, that\u2019s the one that has tags for method=GET. So I\u2019m able to sum it like this: sum(grafana_http_request_duration_seconds_count{method=\"GET\"}) Types of metrics in prometheus Gauge Counter Histogram Summary - built-in preaggregated metric that can be graphed directly. E.g. go_gc_duration_seconds contains a histogram with 5 quantiles (0%, 25%, 50%, 75%, 100%), the sum, and the count. You shouldn\u2019t be aggregating these. Played around with the metrics browser and was able to get a rate of a counter-type metric like this: rate(grafana_http_request_duration_seconds_count{handler=\"/api/live/ws\",method=\"GET\"}[$__interval]) Aggregations in prometheus Sum - sum over dimensions Min - min over dimensions Max - max over dimensions Avg - average over dimensions Stddev - population standard deviation over dimensions Stdvar - population standard variance over dimensions Count - counts the number of elements in the vector Count_values - counts the number of elements with the same value Bottomk - smalles k elements by sample value Topk - largest k elements by sample value Quantile - calculates the \u03c6 quantile (0 <= \u03c6 <=1) over dimensions Use grafana\u2019s built-in time interval variable for handling aggregation better, example irate(http_request_total{handler=\"/search/\",method=\"get\"}[5m]) Becomes: irate(http_request_total{handler=\"/search/\",method=\"get\"}[$__interval]) Influx Such a pain to setup! Book is written for influx1 and I\u2019m using v2. Influx 1 has a concept of databases Influx 2 has a concept of buckets. A bucket + a retention_policy maps to a database. Influx v1 vs v2 conversions Code was broken, had to add a token in an Authorization header to fix it. Corresponding curl commands: curl -G \"http://localhost:8086/query?db=sandbox\" \\ --data-urlencode \"q=SHOW DATABASES\" \\ --header \"Authorization: Token <my-token>\" curl --request POST \\ \"http://localhost:8086/api/v2/write?org=arunsrin&bucket=sandbox&precision=ns\" \\ --header \"Authorization: <my-token>\" \\ --header \"Content-Type: text/plain; charset=utf-8\" \\ --header \"Accept: application/json\" \\ --data-binary ' airSensors,sensor_id=TLM0201 temperature=73.97038159354763,humidity=35.23103248356096,co=0.48445310567793615 1630424257000000000 airSensors,sensor_id=TLM0202 temperature=75.30007505999716,humidity=35.651929918691714,co=0.5141876544505826 1630424257000000000 ' curl --request POST http://localhost:8086/api/v2/dbrps \\ --header \"Authorization: Token <my-token>\" \\ --header 'Content-type: application/json' \\ --data '{ \"bucketID\": \"52f73186dcfafc59\", \"database\": \"sandboxdb\", \"default\": true, \"orgID\": \"92f81bd52ec0ea4a\", \"retention_policy\": \"example-rp\" }' To run the weather importer script with the correct auth token etc, do this: docker run --rm --network host --env-file ./.env-file -v \"${PWD}:/usr/src/app\" weather --input wx.txt --db sandbox2 curl --request POST http://localhost:8086/api/v2/dbrps \\ --header \"Authorization: Token <my-token>\" \\ --header 'Content-type: application/json' \\ --data '{ \"bucketID\": \"f7f1e0158ac5e1dc\", \"database\": \"sandboxdb2\", \"default\": true, \"orgID\": \"92f81bd52ec0ea4a\", \"retention_policy\": \"example-rp\" }' Here is how to map influx2 buckets to influx1 databases: https://ivanahuckova.medium.com/setting-up-influxdb-v2-flux-with-influxql-in-grafana-926599a19eeb Flux Flux is a new query language where you can write stuff like this: // v.bucket, v.timeRangeStart, and v.timeRange stop are all variables supported by the flux plugin and influxdb from(bucket: \"sandbox2\") |> range(start: v.timeRangeStart, stop: v.timeRangeStop) |> filter(fn: (r) => r[\"_value\"] >= 10 and r[\"_value\"] <= 20) Rather than traditional influx queries. See setup instructions here: - https://docs.influxdata.com/influxdb/v2.0/tools/grafana/?t=InfluxQL - https://docs.influxdata.com/flux/v0.x/query-data/influxdb/ Sample data that we imported (this is called a line series or something): temperature,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:degC value=13.3 1633697760 dewpoint,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:degC value=7.8 1633697760 barometricPressure,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:Pa value=101730 1633697760 seaLevelPressure,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:Pa value=101720 1633697760 visibility,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:m value=16090 1633697760 relativeHumidity,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:percent value=69.322490896102 1633697760 temperature,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:degC value=13.9 1633672560 dewpoint,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:degC value=8.3 1633672560 windDirection,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:degree_(angle) value=270 1633672560 windSpeed,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:km_h-1 value=18.36 1633672560 Ooh we can even apply maths and convert celsius to fahrenheit.","title":"\ud83d\udcc8 Grafana"},{"location":"notes/grafana/#grafana","text":"Most of these notes are from the book Learn Grafana 7.0 by Eric Salituro.","title":"\ud83d\udcc8 Grafana"},{"location":"notes/grafana/#installation","text":"docker volume create grafana-storage docker run -d --name=grafana -p 3000:3000 \\ -v grafana-storage:/var/lib/grafana \\ grafana/grafana Then in my virtualbox, I can access it at http://192.168.56.101:3000/login admin/admin are the default credentials Install plugins like this: grafana-cli plugins install marcusolsson-csv-datasource Then you can load csv data sources, and so on.","title":"Installation"},{"location":"notes/grafana/#prometheus","text":"","title":"Prometheus"},{"location":"notes/grafana/#time-series-basics","text":"We launched its container in chapter04/docker-compose.yml and made it query itself and grafana. Standard SQL query: SELECT some fields FROM some table WHERE fields match some criteria But time series query: SELECT metric FROM some data store WHERE metric tags match some criteria AND in some time range Time series data usually has A timestamp, a metric value and a set of key-value pairs for characterizing the data.","title":"Time Series Basics"},{"location":"notes/grafana/#metrics-exposed-by-grafana","text":"All the stuff scraped by prometheus for grafana are here: http://192.168.56.101:3000/metrics Snippet: go_gc_duration_seconds{quantile=\"0.25\"} 0.000129418 go_gc_duration_seconds{quantile=\"0.5\"} 0.000391354 go_gc_duration_seconds{quantile=\"0.75\"} 0.001348095 go_gc_duration_seconds{quantile=\"1\"} 0.004575058 go_gc_duration_seconds_sum 0.032182243 go_gc_duration_seconds_count 37 # HELP go_goroutines Number of goroutines that currently exist. # TYPE go_goroutines gauge go_goroutines 120 # HELP go_info Information about the Go environment. # TYPE go_info gauge go_info{version=\"go1.17\"} 1 # HELP go_memstats_alloc_bytes Number of bytes allocated and still in use. # TYPE go_memstats_alloc_bytes gauge go_memstats_alloc_bytes 1.747936e+07 So a corresponding query would be: go_goroutines{job=\"grafana\"} Similarly for memory-related queries you would do: process_resident_memory_bytes{job=grafana} Next, although the guide told to see prometheus_http_requests_total, grafana said it was a counter so it should be converted to rate(prometheus_http_requests_total[5m]) I think they mean grafana_http_request_duration_seconds_count actually, that\u2019s the one that has tags for method=GET. So I\u2019m able to sum it like this: sum(grafana_http_request_duration_seconds_count{method=\"GET\"})","title":"Metrics exposed by grafana"},{"location":"notes/grafana/#types-of-metrics-in-prometheus","text":"Gauge Counter Histogram Summary - built-in preaggregated metric that can be graphed directly. E.g. go_gc_duration_seconds contains a histogram with 5 quantiles (0%, 25%, 50%, 75%, 100%), the sum, and the count. You shouldn\u2019t be aggregating these. Played around with the metrics browser and was able to get a rate of a counter-type metric like this: rate(grafana_http_request_duration_seconds_count{handler=\"/api/live/ws\",method=\"GET\"}[$__interval])","title":"Types of metrics in prometheus"},{"location":"notes/grafana/#aggregations-in-prometheus","text":"Sum - sum over dimensions Min - min over dimensions Max - max over dimensions Avg - average over dimensions Stddev - population standard deviation over dimensions Stdvar - population standard variance over dimensions Count - counts the number of elements in the vector Count_values - counts the number of elements with the same value Bottomk - smalles k elements by sample value Topk - largest k elements by sample value Quantile - calculates the \u03c6 quantile (0 <= \u03c6 <=1) over dimensions Use grafana\u2019s built-in time interval variable for handling aggregation better, example irate(http_request_total{handler=\"/search/\",method=\"get\"}[5m]) Becomes: irate(http_request_total{handler=\"/search/\",method=\"get\"}[$__interval])","title":"Aggregations in prometheus"},{"location":"notes/grafana/#influx","text":"Such a pain to setup! Book is written for influx1 and I\u2019m using v2. Influx 1 has a concept of databases Influx 2 has a concept of buckets. A bucket + a retention_policy maps to a database.","title":"Influx"},{"location":"notes/grafana/#influx-v1-vs-v2-conversions","text":"Code was broken, had to add a token in an Authorization header to fix it. Corresponding curl commands: curl -G \"http://localhost:8086/query?db=sandbox\" \\ --data-urlencode \"q=SHOW DATABASES\" \\ --header \"Authorization: Token <my-token>\" curl --request POST \\ \"http://localhost:8086/api/v2/write?org=arunsrin&bucket=sandbox&precision=ns\" \\ --header \"Authorization: <my-token>\" \\ --header \"Content-Type: text/plain; charset=utf-8\" \\ --header \"Accept: application/json\" \\ --data-binary ' airSensors,sensor_id=TLM0201 temperature=73.97038159354763,humidity=35.23103248356096,co=0.48445310567793615 1630424257000000000 airSensors,sensor_id=TLM0202 temperature=75.30007505999716,humidity=35.651929918691714,co=0.5141876544505826 1630424257000000000 ' curl --request POST http://localhost:8086/api/v2/dbrps \\ --header \"Authorization: Token <my-token>\" \\ --header 'Content-type: application/json' \\ --data '{ \"bucketID\": \"52f73186dcfafc59\", \"database\": \"sandboxdb\", \"default\": true, \"orgID\": \"92f81bd52ec0ea4a\", \"retention_policy\": \"example-rp\" }' To run the weather importer script with the correct auth token etc, do this: docker run --rm --network host --env-file ./.env-file -v \"${PWD}:/usr/src/app\" weather --input wx.txt --db sandbox2 curl --request POST http://localhost:8086/api/v2/dbrps \\ --header \"Authorization: Token <my-token>\" \\ --header 'Content-type: application/json' \\ --data '{ \"bucketID\": \"f7f1e0158ac5e1dc\", \"database\": \"sandboxdb2\", \"default\": true, \"orgID\": \"92f81bd52ec0ea4a\", \"retention_policy\": \"example-rp\" }' Here is how to map influx2 buckets to influx1 databases: https://ivanahuckova.medium.com/setting-up-influxdb-v2-flux-with-influxql-in-grafana-926599a19eeb","title":"Influx v1 vs v2 conversions"},{"location":"notes/grafana/#flux","text":"Flux is a new query language where you can write stuff like this: // v.bucket, v.timeRangeStart, and v.timeRange stop are all variables supported by the flux plugin and influxdb from(bucket: \"sandbox2\") |> range(start: v.timeRangeStart, stop: v.timeRangeStop) |> filter(fn: (r) => r[\"_value\"] >= 10 and r[\"_value\"] <= 20) Rather than traditional influx queries. See setup instructions here: - https://docs.influxdata.com/influxdb/v2.0/tools/grafana/?t=InfluxQL - https://docs.influxdata.com/flux/v0.x/query-data/influxdb/ Sample data that we imported (this is called a line series or something): temperature,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:degC value=13.3 1633697760 dewpoint,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:degC value=7.8 1633697760 barometricPressure,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:Pa value=101730 1633697760 seaLevelPressure,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:Pa value=101720 1633697760 visibility,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:m value=16090 1633697760 relativeHumidity,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:percent value=69.322490896102 1633697760 temperature,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:degC value=13.9 1633672560 dewpoint,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:degC value=8.3 1633672560 windDirection,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:degree_(angle) value=270 1633672560 windSpeed,station=KSFO,name=San\\ Francisco\\,\\ San\\ Francisco\\ International\\ Airport,cwa=MTR,county=San\\ Mateo,state=CA,tz=America/Los_Angeles,unit=wmoUnit:km_h-1 value=18.36 1633672560 Ooh we can even apply maths and convert celsius to fahrenheit.","title":"Flux"},{"location":"notes/k8s/","text":"\u2638\ufe0f Kubernetes Some kubernetes overview links, with a focus on networking. Terminal Enhancements (Cross posted from here ) k9s Get it here . My go-to cluster navigator of choice. Very vim-like in behaviour. kubectl plugins Get krew which is a plugin manager for kubectl. I installed these plugins to start with: ctx \u2013 Easily switch between contexts. Integrates out of the box with fzf so it\u2019s pretty sweet ns \u2013 Same, for switching namespaces rapidly tail \u2013 Tails across all pods in a service, among other things tree \u2013 shows the hierarchy of resources (like Service -> Endpoint) in a tree Books Kubernetes in Action by Marko Luksa. Links A guide to the k8s networking model - Thoroughly detailed, best link of the lot. Network Plugins - official docs. Understanding k8s networking Multi network configuration with Multus-CNI Ingress system Another k8s networking Another k8s networking link","title":"\u2638\ufe0f Kubernetes"},{"location":"notes/k8s/#kubernetes","text":"Some kubernetes overview links, with a focus on networking.","title":"\u2638\ufe0f Kubernetes"},{"location":"notes/k8s/#terminal-enhancements","text":"(Cross posted from here )","title":"Terminal Enhancements"},{"location":"notes/k8s/#k9s","text":"Get it here . My go-to cluster navigator of choice. Very vim-like in behaviour.","title":"k9s"},{"location":"notes/k8s/#kubectl-plugins","text":"Get krew which is a plugin manager for kubectl. I installed these plugins to start with: ctx \u2013 Easily switch between contexts. Integrates out of the box with fzf so it\u2019s pretty sweet ns \u2013 Same, for switching namespaces rapidly tail \u2013 Tails across all pods in a service, among other things tree \u2013 shows the hierarchy of resources (like Service -> Endpoint) in a tree","title":"kubectl plugins"},{"location":"notes/k8s/#books","text":"Kubernetes in Action by Marko Luksa.","title":"Books"},{"location":"notes/k8s/#links","text":"A guide to the k8s networking model - Thoroughly detailed, best link of the lot. Network Plugins - official docs. Understanding k8s networking Multi network configuration with Multus-CNI Ingress system Another k8s networking Another k8s networking link","title":"Links"},{"location":"notes/kafka/","text":"\ud83d\udc1e Kafka These notes are based on a series of posts I read, starting with this one . The Basics Basically it lets you pub/sub to Events. And store them. And process and analyze them. An Event is something that has a key, value and timestamp. And a Table represents the state at that particular point in time. This is mutable. A Stream provides immutable data. You can insert stuff into it. You can convert a stream to a table by aggregating it with operations like COUNT() or SUM() . And you convert a table to a stream by capturing the mutations made to it into a change stream. Also called CDC (Change Data Capture). I guess it\u2019s a stream that replays all the add/edit/remove actions done on that table. Topics Kafka's storage layer. Events are persisted here. Brokers are machines that store and serve the data (among other things). So, a Topic is an unbounded sequence of serialized events. You can configure things for each topic like the storage limit. Events are serialized when written to a topic and deserialized when read. Common formats: Avro, protobuf, JSON. Partitions (Storage) Kafka makes heavy use of partitions i.e. a topic is spread over a number of buckets located on different brokers. While creating a topic you choose the number of partitions it should contain. Each of these partitions can then be replicated across regions etc. Partitions are what enable scalability, fault tolerance, replication etc. Producers determine the event partitioning. They are decoupled from Consumers completely. The producers use a partitioning function to determine which bucket to drop the events into. Usually a hash modulo number-of-partitions, so that there's an even spread. If somebody adds more partitions to an existing topic, or if a different client uses a different partitioning function, data that was earlier expected to go to P1 may now go to Px. Streams and Tables Topics are in the storage layer. Whereas Streams / Tables are in processing layer. An Event Stream is a topic with a schema, i.e. not an opaque byte stream. You can create a stream by specifying the structure of the events and pointing to a topic. e.g. here is a stream that's expecting a username and location key: -- Create ksqlDB stream from Kafka topic. CREATE STREAM myStream (username VARCHAR, location VARCHAR) WITH (KAFKA_TOPIC='input-topic', VALUE_FORMAT='...'); From here . A table is a like a SQL table. Also think of it as an aggregated stream. Tables are usually bounded i.e. fixed set of rows (e.g. product listing). But can be unbounded as well (e.g. list of new orders) But usually the producer uses a schema. Here we have a consumer who must have some kind of contract with the producer to follow the same schema. Using Avro seems to be a recommended approach. I believe the schema is embedded in the message. Processing seems to be done per partition which is why it scales well. The processing application is put in a Kafka consumer group so that they can coordinate. The group detects instances joining or leaving the group so that the workload can be redistributed. This is called rebalancing . A stream task is a unit of work that an application works on. A table is used when you have a stateful application that works on aggregated data. Kafka uses a state store that's persisted on disk so that large workloads can be processed. Tables and States are also per-partition. So, based on your workload you will decide your partitioning. e.g. 12GB dataset could be spread to 4 partitions, where 4 streams would add the schema to the data, and 4 tasks would allocate 4 applications to store 4 buckets of state and process it. Finally you have global tables which are not partitioned. e.g. if some kind of global state was needed. Fault tolerance Streams are strongly fault tolerant. If your app crashes, just start back up and read the topic again. Tables are persisted to local disk for fault tolerance. If something fails midway, the app can pick up from where it stopped. The change stream is durably stored in a topic. So a table can be restored and processing can resume, without data loss. Elasticity Similar to fault tolerance. If more instances are added to a Kafka streams application, some tasks will be migrated to the new ones.","title":"\ud83d\udc1e Kafka"},{"location":"notes/kafka/#kafka","text":"These notes are based on a series of posts I read, starting with this one .","title":"\ud83d\udc1e Kafka"},{"location":"notes/kafka/#the-basics","text":"Basically it lets you pub/sub to Events. And store them. And process and analyze them. An Event is something that has a key, value and timestamp. And a Table represents the state at that particular point in time. This is mutable. A Stream provides immutable data. You can insert stuff into it. You can convert a stream to a table by aggregating it with operations like COUNT() or SUM() . And you convert a table to a stream by capturing the mutations made to it into a change stream. Also called CDC (Change Data Capture). I guess it\u2019s a stream that replays all the add/edit/remove actions done on that table.","title":"The Basics"},{"location":"notes/kafka/#topics","text":"Kafka's storage layer. Events are persisted here. Brokers are machines that store and serve the data (among other things). So, a Topic is an unbounded sequence of serialized events. You can configure things for each topic like the storage limit. Events are serialized when written to a topic and deserialized when read. Common formats: Avro, protobuf, JSON.","title":"Topics"},{"location":"notes/kafka/#partitions-storage","text":"Kafka makes heavy use of partitions i.e. a topic is spread over a number of buckets located on different brokers. While creating a topic you choose the number of partitions it should contain. Each of these partitions can then be replicated across regions etc. Partitions are what enable scalability, fault tolerance, replication etc. Producers determine the event partitioning. They are decoupled from Consumers completely. The producers use a partitioning function to determine which bucket to drop the events into. Usually a hash modulo number-of-partitions, so that there's an even spread. If somebody adds more partitions to an existing topic, or if a different client uses a different partitioning function, data that was earlier expected to go to P1 may now go to Px.","title":"Partitions (Storage)"},{"location":"notes/kafka/#streams-and-tables","text":"Topics are in the storage layer. Whereas Streams / Tables are in processing layer. An Event Stream is a topic with a schema, i.e. not an opaque byte stream. You can create a stream by specifying the structure of the events and pointing to a topic. e.g. here is a stream that's expecting a username and location key: -- Create ksqlDB stream from Kafka topic. CREATE STREAM myStream (username VARCHAR, location VARCHAR) WITH (KAFKA_TOPIC='input-topic', VALUE_FORMAT='...'); From here . A table is a like a SQL table. Also think of it as an aggregated stream. Tables are usually bounded i.e. fixed set of rows (e.g. product listing). But can be unbounded as well (e.g. list of new orders) But usually the producer uses a schema. Here we have a consumer who must have some kind of contract with the producer to follow the same schema. Using Avro seems to be a recommended approach. I believe the schema is embedded in the message. Processing seems to be done per partition which is why it scales well. The processing application is put in a Kafka consumer group so that they can coordinate. The group detects instances joining or leaving the group so that the workload can be redistributed. This is called rebalancing . A stream task is a unit of work that an application works on. A table is used when you have a stateful application that works on aggregated data. Kafka uses a state store that's persisted on disk so that large workloads can be processed. Tables and States are also per-partition. So, based on your workload you will decide your partitioning. e.g. 12GB dataset could be spread to 4 partitions, where 4 streams would add the schema to the data, and 4 tasks would allocate 4 applications to store 4 buckets of state and process it. Finally you have global tables which are not partitioned. e.g. if some kind of global state was needed.","title":"Streams and Tables"},{"location":"notes/kafka/#fault-tolerance","text":"Streams are strongly fault tolerant. If your app crashes, just start back up and read the topic again. Tables are persisted to local disk for fault tolerance. If something fails midway, the app can pick up from where it stopped. The change stream is durably stored in a topic. So a table can be restored and processing can resume, without data loss.","title":"Fault tolerance"},{"location":"notes/kafka/#elasticity","text":"Similar to fault tolerance. If more instances are added to a Kafka streams application, some tasks will be migrated to the new ones.","title":"Elasticity"},{"location":"notes/networking/","text":"\ud83d\udd78\ufe0f Networking iperf This link is quite nice: https://www.golinuxcloud.com/linux-monitor-network-traffic/ How to use iperf: Whitelist port 5201 on your security group and firewall. Then start the server first: iperf3 -i 5 -s Then the client: iperf3 -i 5 -t 60 -c <IP/hostname of the server> It gives a nice report but apparently isn\u2019t good for latency checks, only bandwidth. UDP Client From PyMOTW : import socket import sys # Create a UDP socket sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) server_address = ('192.168.0.100', 8080) message = 'This is the message. It will be repeated.' try: # Send data print >>sys.stderr, 'sending \"%s\"' % message sent = sock.sendto(message, server_address) # Receive response print >>sys.stderr, 'waiting to receive' data, server = sock.recvfrom(4096) print >>sys.stderr, 'received \"%s\"' % data finally: print >>sys.stderr, 'closing socket' sock.close() UDP Server From PyMOTW : import socket import sys # Create a TCP/IP socket sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) # Bind the socket to the port server_address = ('localhost', 10000) print >>sys.stderr, 'starting up on %s port %s' % server_address sock.bind(server_address) while True: print >>sys.stderr, '\\nwaiting to receive message' data, address = sock.recvfrom(4096) print >>sys.stderr, 'received %s bytes from %s' % (len(data), address) print >>sys.stderr, data if data: sent = sock.sendto(data, address) print >>sys.stderr, 'sent %s bytes back to %s' % (sent, address) Curl tips Show headers with -I and change request type with -X . e.g. curl -I -X DELETE http://localhost/blah To add a header in the outgoing request, use -H : curl --header \"X-MyHeader: 123\" www.google.com Follow redirects with -l Disable security check with -k Send content with -d : curl -X POST --header \"Content-Type: application/json\" -d '{\"test\": true}' http://localhost/blah If more than 10 telnet sessions to a server fail per_source = 10 in /etc/xinetd.d/telnet or /etc/xinetd.conf Start xinetd with debugs turned on /usr/sbin/xinetd -f /etc/xinetd.conf -d Check duplicate ip with arping bash-4.2 ~$ arping 192.168.0.58 -D -c 3 -I ens32 ARPING 192.168.0.58 from 0.0.0.0 ens32 Unicast reply from 192.168.0.58 [18:E7:28:2E:92:9C] 1.747ms Sent 1 probes (1 broadcast(s)) Received 1 response(s) bash-4.2 ~$ echo $? 1 bash-4.2 ~$ exit status of 0 confirms a duplicate ip Test tcp connections with nc (from http://unix.stackexchange.com/questions/73767/how-to-check-whether-firewall-opened-for-a-port-but-not-listening-on-the-port ) nc -vz targetServer portNum For example: bash-3.2 ~$ nc -vz erdos 22 Connection to erdos 22 port [tcp/ssh] succeeded! bash-3.2 ~$ Force NTP sync sudo systemctl stop ntpd sudo ntpdate -s time.nist.gov sudo systemctl start ntpd","title":"\ud83d\udd78\ufe0f Networking"},{"location":"notes/networking/#networking","text":"","title":"\ud83d\udd78\ufe0f Networking"},{"location":"notes/networking/#iperf","text":"This link is quite nice: https://www.golinuxcloud.com/linux-monitor-network-traffic/ How to use iperf: Whitelist port 5201 on your security group and firewall. Then start the server first: iperf3 -i 5 -s Then the client: iperf3 -i 5 -t 60 -c <IP/hostname of the server> It gives a nice report but apparently isn\u2019t good for latency checks, only bandwidth.","title":"iperf"},{"location":"notes/networking/#udp-client","text":"From PyMOTW : import socket import sys # Create a UDP socket sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) server_address = ('192.168.0.100', 8080) message = 'This is the message. It will be repeated.' try: # Send data print >>sys.stderr, 'sending \"%s\"' % message sent = sock.sendto(message, server_address) # Receive response print >>sys.stderr, 'waiting to receive' data, server = sock.recvfrom(4096) print >>sys.stderr, 'received \"%s\"' % data finally: print >>sys.stderr, 'closing socket' sock.close()","title":"UDP Client"},{"location":"notes/networking/#udp-server","text":"From PyMOTW : import socket import sys # Create a TCP/IP socket sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) # Bind the socket to the port server_address = ('localhost', 10000) print >>sys.stderr, 'starting up on %s port %s' % server_address sock.bind(server_address) while True: print >>sys.stderr, '\\nwaiting to receive message' data, address = sock.recvfrom(4096) print >>sys.stderr, 'received %s bytes from %s' % (len(data), address) print >>sys.stderr, data if data: sent = sock.sendto(data, address) print >>sys.stderr, 'sent %s bytes back to %s' % (sent, address)","title":"UDP Server"},{"location":"notes/networking/#curl-tips","text":"Show headers with -I and change request type with -X . e.g. curl -I -X DELETE http://localhost/blah To add a header in the outgoing request, use -H : curl --header \"X-MyHeader: 123\" www.google.com Follow redirects with -l Disable security check with -k Send content with -d : curl -X POST --header \"Content-Type: application/json\" -d '{\"test\": true}' http://localhost/blah","title":"Curl tips"},{"location":"notes/networking/#if-more-than-10-telnet-sessions-to-a-server-fail","text":"per_source = 10 in /etc/xinetd.d/telnet or /etc/xinetd.conf","title":"If more than 10 telnet sessions to a server fail"},{"location":"notes/networking/#start-xinetd-with-debugs-turned-on","text":"/usr/sbin/xinetd -f /etc/xinetd.conf -d","title":"Start xinetd with debugs turned on"},{"location":"notes/networking/#check-duplicate-ip-with-arping","text":"bash-4.2 ~$ arping 192.168.0.58 -D -c 3 -I ens32 ARPING 192.168.0.58 from 0.0.0.0 ens32 Unicast reply from 192.168.0.58 [18:E7:28:2E:92:9C] 1.747ms Sent 1 probes (1 broadcast(s)) Received 1 response(s) bash-4.2 ~$ echo $? 1 bash-4.2 ~$ exit status of 0 confirms a duplicate ip","title":"Check duplicate ip with arping"},{"location":"notes/networking/#test-tcp-connections-with-nc","text":"(from http://unix.stackexchange.com/questions/73767/how-to-check-whether-firewall-opened-for-a-port-but-not-listening-on-the-port ) nc -vz targetServer portNum For example: bash-3.2 ~$ nc -vz erdos 22 Connection to erdos 22 port [tcp/ssh] succeeded! bash-3.2 ~$","title":"Test tcp connections with nc"},{"location":"notes/networking/#force-ntp-sync","text":"sudo systemctl stop ntpd sudo ntpdate -s time.nist.gov sudo systemctl start ntpd","title":"Force NTP sync"},{"location":"notes/openssl/","text":"\ud83d\udd12 OpenSSL Some non-openssl security notes are in a sibling page. Verify Public Cert, Private Key, CSR Public Cert openssl x509 -noout -text -in server.crt Private Key openssl rsa -noout -text -in server.key CSR openssl req -text -noout -verify -in server.csr Verify if a cert and key are pairs openssl x509 -noout -modulus -in server.pem | openssl md5 ;\\ openssl rsa -noout -modulus -in server.key | openssl md5 Convert .cer to .pem openssl x509 -inform der -in certificate.cer -out certificate.pem Connect and verify Connect to a remote host and see a whole lot of details: openssl s_client -connect remote-hostname.com:443 \\ -msg -showcerts -verify 1 \\ -CAfile allca.cer -cert myhostname.cer -key myhostname.key View a remote host's certificate details: echo | \\ openssl s_client -connect remote-hostname.com:443 2>/dev/null | \\ openssl x509 -text Generate a CSR openssl req -newkey rsa:2048 -nodes -out myhostname.csr -config myopenssl.cnf For this a config file is needed. Fill it up with details like this: ###################################################################################### [ req ] default_bits = 2048 default_md = sha256 default_keyfile = myhostname.pem distinguished_name = req_distinguished_name prompt = no req_extensions = v3_req # The extensions to add to a certificate request [ req_distinguished_name ] C=IN ST=Karnataka L=Bangalore O=None OU=None CN=arunsr.in [ v3_req ] subjectAltName = @alternate_names keyUsage = digitalSignature, keyEncipherment [ alternate_names ] DNS.1 = www.arunsr.in DNS.2 = blog.arunsr.in ####################################################################################### Cipher regex check If you're setting a regex to block or enable certain ciphers, here's a quick way to verify what it expands to: $ openssl ciphers -V 'RC4-SHA:HIGH:!ADH' RC4-SHA:DHE-RSA-AES256-SHA:DHE-DSS-AES256-SHA:AES256-SHA:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA:AES128-SHA:EDH-RSA-DES-CBC3-SHA:EDH-DSS-DES-CBC3-SHA:DES-CBC3-SHA:DES-CBC3-MD5 $ openssl ciphers -V 'ALL:!aNULL:!ADH:!eNULL:!MEDIUM:!LOW!EXP:RC4+RSA:+HIGH' DHE-RSA-AES256-SHA:DHE-DSS-AES256-SHA:AES256-SHA:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA:AES128-SHA:EDH-RSA-DES-CBC3-SHA:EDH-DSS-DES-CBC3-SHA:DES-CBC3-SHA:DES-CBC3-MD5 Convert between private key formats Some private keys have 'BEGIN PRIVATE KEY' (NEW, PKCS8) and others have 'BEGIN RSA PRIVATE KEY' (OLD, PKCS1). Here's how to convert between them: Newer versions of OpenSSL say BEGIN PRIVATE KEY because they contain the private key + an OID that identifies the key type (this is known as PKCS8 format). To get the old style key (known as either PKCS1 or traditional OpenSSL format) you can do this: openssl rsa -in server.key -out server_new.key Alternately, if you have a PKCS1 key and want PKCS8: openssl pkcs8 -topk8 -nocrypt -in privkey.pem (from https://stackoverflow.com/questions/17733536/how-to-convert-a-private-key-to-an-rsa-private-key ) Remove a passphrase from a private key openssl rsa -in privateKey.pem -out newPrivateKey.pem Create a self signed certificate and key This is done as - Create a private key - using RSA openssl genrsa -out privkey.pem 1024 Create a self signed certificate openssl req -new -x509 -key privkey.pem -out cacert.pem -days 1095","title":"\ud83d\udd12 OpenSSL"},{"location":"notes/openssl/#openssl","text":"Some non-openssl security notes are in a sibling page.","title":"\ud83d\udd12 OpenSSL"},{"location":"notes/openssl/#verify-public-cert-private-key-csr","text":"Public Cert openssl x509 -noout -text -in server.crt Private Key openssl rsa -noout -text -in server.key CSR openssl req -text -noout -verify -in server.csr","title":"Verify Public Cert, Private Key, CSR"},{"location":"notes/openssl/#verify-if-a-cert-and-key-are-pairs","text":"openssl x509 -noout -modulus -in server.pem | openssl md5 ;\\ openssl rsa -noout -modulus -in server.key | openssl md5","title":"Verify if a cert and key are pairs"},{"location":"notes/openssl/#convert-cer-to-pem","text":"openssl x509 -inform der -in certificate.cer -out certificate.pem","title":"Convert .cer to .pem"},{"location":"notes/openssl/#connect-and-verify","text":"Connect to a remote host and see a whole lot of details: openssl s_client -connect remote-hostname.com:443 \\ -msg -showcerts -verify 1 \\ -CAfile allca.cer -cert myhostname.cer -key myhostname.key View a remote host's certificate details: echo | \\ openssl s_client -connect remote-hostname.com:443 2>/dev/null | \\ openssl x509 -text","title":"Connect and verify"},{"location":"notes/openssl/#generate-a-csr","text":"openssl req -newkey rsa:2048 -nodes -out myhostname.csr -config myopenssl.cnf For this a config file is needed. Fill it up with details like this: ###################################################################################### [ req ] default_bits = 2048 default_md = sha256 default_keyfile = myhostname.pem distinguished_name = req_distinguished_name prompt = no req_extensions = v3_req # The extensions to add to a certificate request [ req_distinguished_name ] C=IN ST=Karnataka L=Bangalore O=None OU=None CN=arunsr.in [ v3_req ] subjectAltName = @alternate_names keyUsage = digitalSignature, keyEncipherment [ alternate_names ] DNS.1 = www.arunsr.in DNS.2 = blog.arunsr.in #######################################################################################","title":"Generate a CSR"},{"location":"notes/openssl/#cipher-regex-check","text":"If you're setting a regex to block or enable certain ciphers, here's a quick way to verify what it expands to: $ openssl ciphers -V 'RC4-SHA:HIGH:!ADH' RC4-SHA:DHE-RSA-AES256-SHA:DHE-DSS-AES256-SHA:AES256-SHA:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA:AES128-SHA:EDH-RSA-DES-CBC3-SHA:EDH-DSS-DES-CBC3-SHA:DES-CBC3-SHA:DES-CBC3-MD5 $ openssl ciphers -V 'ALL:!aNULL:!ADH:!eNULL:!MEDIUM:!LOW!EXP:RC4+RSA:+HIGH' DHE-RSA-AES256-SHA:DHE-DSS-AES256-SHA:AES256-SHA:DHE-RSA-AES128-SHA:DHE-DSS-AES128-SHA:AES128-SHA:EDH-RSA-DES-CBC3-SHA:EDH-DSS-DES-CBC3-SHA:DES-CBC3-SHA:DES-CBC3-MD5","title":"Cipher regex check"},{"location":"notes/openssl/#convert-between-private-key-formats","text":"Some private keys have 'BEGIN PRIVATE KEY' (NEW, PKCS8) and others have 'BEGIN RSA PRIVATE KEY' (OLD, PKCS1). Here's how to convert between them: Newer versions of OpenSSL say BEGIN PRIVATE KEY because they contain the private key + an OID that identifies the key type (this is known as PKCS8 format). To get the old style key (known as either PKCS1 or traditional OpenSSL format) you can do this: openssl rsa -in server.key -out server_new.key Alternately, if you have a PKCS1 key and want PKCS8: openssl pkcs8 -topk8 -nocrypt -in privkey.pem (from https://stackoverflow.com/questions/17733536/how-to-convert-a-private-key-to-an-rsa-private-key )","title":"Convert between private key formats"},{"location":"notes/openssl/#remove-a-passphrase-from-a-private-key","text":"openssl rsa -in privateKey.pem -out newPrivateKey.pem","title":"Remove a passphrase from a private key"},{"location":"notes/openssl/#create-a-self-signed-certificate-and-key","text":"This is done as - Create a private key - using RSA openssl genrsa -out privkey.pem 1024 Create a self signed certificate openssl req -new -x509 -key privkey.pem -out cacert.pem -days 1095","title":"Create a self signed certificate and key"},{"location":"notes/security/","text":"\ud83d\udd12 Security Query list of ciphers supported by a server nmap --script ssl-enum-ciphers -p 443 example.com Things that go in a certificate Subject: CN the certificate owner's common name Subject: E the certificate owner's email address Subject: T the certificate owner's locality Subject: ST the certificate owner's state of residence Subject: O the organization to which the certificate owner belongs Subject: OU the name of the organizational unit to which the certificate owner belongs Subject: C the certificate owner's country of residence Subject: STREET the certificate owner's street address Subject: ALL the certificate owner's complete distinguished name Serial the certificate's serial number SignatureAlg the algorithm used by the Certificate Authority to sign the certificate BeginDate the date at which the certificate becomes valid EndDate the date at which the certificate becomes invalid PublicKey the certificate's public key FriendlyName the certificate's friendly name selinux example: ls -Z file1 -rwxrw-r-- user1 group1 unconfined_u:object_r:user_home_t:s0 file1 SELinux contexts follow the SELinux user:role:type:level syntax. Use the ps -eZ command to view the SELinux context for processes and id -Z for users seinfo -r (part of setools-console): shows all available user roles: such as guest, unconfined, webadm, sysadm, dbadm, etc. also see /etc/selinux/targeted/context/users SELinux/Nginx error sudo cat /var/log/audit/audit.log | grep nginx | grep denied shows something like this: type=AVC msg=audit(1445306182.317:301): avc: denied { name_connect } for pid=5939 comm\"nginx\" dest=4374 scontext=system<sub>u</sub>:system<sub>r</sub>:httpd<sub>t</sub>:s0 tcontext=system<sub>u</sub>:object<sub>r</sub>:unreserved<sub>port</sub><sub>t</sub>:s0 tclass=tcp<sub>socket</sub> Someone found that running the following commands fixed their issue: sudo cat /var/log/audit/audit.log | grep nginx | grep denied | audit2allow -M mynginx sudo semodule -i mynginx.pp Or something like this: chcon -Rt httpd_sys_content_t /srv/www/myapp/ ..to change the security context of the directory recursively so nginx will be allowed to serve it. Followed by: setsebool -P httpd_can_network_connect 1 SElinux Apache static html Change the context of the file: sudo chcon -R -v -t httpd_sys_rw_content_t index.html This might have happened because we copied a file from ~ to /var/www , which caused it to retain its original context. Nmap one liners Port scan, os detection: nmap -sS -P0 -sV -O 192.168.0.58 All active IPs in a network nmap -sP 192.168.0.* Ping a range of IPs nmap -sP 192.168.0.2-254 Find unused IPs in a subnet nmap -T4 -sP 192.168.0.0/24 && egrep \"00:00:00:00:00:00\" /proc/net/arp Make a password in linux (without adding the user) whois package: provides mkpasswd mkpasswd --method=SHA-512 IPtables port forwarding Use case: make tomcat on port 8443 listen on port 443. sudo iptables -A PREROUTING -t nat -i eth0 -p tcp --dport 80 -j REDIRECT --to-port 8080 This will forward all traffic coming in on port 443 to the tomcat server listening on 8443. (picked from here: https://mihail.stoynov.com/2011/04/04/howto-start-tomcat-on-port-80-without-root-privileges/ ) To view, the usual -L and -F won't show anything. Instead, use: iptables -L -t nat iptables -F -t nat Open firewall ports with firewalld firewall-cmd --permanent --add-port=5672/tcp firewall-cmd --reload Centos firewall commands firewall-cmd --state firewall-cmd --get-zones firewall-cmd --list-all-zones firewall-cmd --get-default-zone firewall-cmd --list-services # currently enabled in this zone firewall-cmd --get-services # all firewall-cmd --add-service=https --permanent firewall-cmd --add-service=http --permanent ssh-agent You start an ssh-agent by running something like: eval `ssh-agent` You can then feed it keys, with ssh-add like this: ssh-add /home/test/.ssh/id_rsa or, if your key is in the default location, you can just do: ssh-add or just put this in .bashrc : if [ -z \"$SSH_AUTH_SOCK\" ] ; then eval `ssh-agent -s` ssh-add fi but this prompts for the passphrase the first time it is invoked. so do this instead: #!/usr/bin/expect -f spawn ssh-add /home/user/.ssh/id_rsa expect \"Enter passphrase for /home/user/.ssh/id_rsa:\" send \"passphrase\\n\"; interact Apache redirect http to https NameVirtualHost *:80 <VirtualHost *:80> ServerName mysite.example.com DocumentRoot /usr/local/apache2/htdocs Redirect permanent / https://mysite.example.com/ </VirtualHost> Letsencrypt notes sudo dnf install httpd -y sudo dnf install mod_ssl -y sudo systemctl start httpd sudo systemctl enable httpd Add ServerName and a VirtualHost at a minimum now run letsencrypt-auto and fill out the stuff sudo cp /etc/letsencrypt/options-ssl-apache.conf /etc/httpd/conf.d sudo systemctl restart httpd To renew: letsencrypt-auto renew Components of a cipher suite The algorithms that make up a typical cipher suite are the following: Key Exchange Algorithm - dictates the manner by which symmetric keys will be exchanged; Authentication Algorithm - dictates how server authentication and (if needed) client authentication will be carried out. Bulk Encryption Algorithm - dictates which symmetric key algorithm will be used to encrypt the actual data; and Message Authentication Code (MAC) algorithm - dictates the method the connection will use to carry out data integrity checks.","title":"\ud83d\udd12 Security"},{"location":"notes/security/#security","text":"","title":"\ud83d\udd12 Security"},{"location":"notes/security/#query-list-of-ciphers-supported-by-a-server","text":"nmap --script ssl-enum-ciphers -p 443 example.com","title":"Query list of ciphers supported by a server"},{"location":"notes/security/#things-that-go-in-a-certificate","text":"Subject: CN the certificate owner's common name Subject: E the certificate owner's email address Subject: T the certificate owner's locality Subject: ST the certificate owner's state of residence Subject: O the organization to which the certificate owner belongs Subject: OU the name of the organizational unit to which the certificate owner belongs Subject: C the certificate owner's country of residence Subject: STREET the certificate owner's street address Subject: ALL the certificate owner's complete distinguished name Serial the certificate's serial number SignatureAlg the algorithm used by the Certificate Authority to sign the certificate BeginDate the date at which the certificate becomes valid EndDate the date at which the certificate becomes invalid PublicKey the certificate's public key FriendlyName the certificate's friendly name","title":"Things that go in a certificate"},{"location":"notes/security/#selinux-example","text":"ls -Z file1 -rwxrw-r-- user1 group1 unconfined_u:object_r:user_home_t:s0 file1 SELinux contexts follow the SELinux user:role:type:level syntax. Use the ps -eZ command to view the SELinux context for processes and id -Z for users seinfo -r (part of setools-console): shows all available user roles: such as guest, unconfined, webadm, sysadm, dbadm, etc. also see /etc/selinux/targeted/context/users","title":"selinux example:"},{"location":"notes/security/#selinuxnginx-error","text":"sudo cat /var/log/audit/audit.log | grep nginx | grep denied shows something like this: type=AVC msg=audit(1445306182.317:301): avc: denied { name_connect } for pid=5939 comm\"nginx\" dest=4374 scontext=system<sub>u</sub>:system<sub>r</sub>:httpd<sub>t</sub>:s0 tcontext=system<sub>u</sub>:object<sub>r</sub>:unreserved<sub>port</sub><sub>t</sub>:s0 tclass=tcp<sub>socket</sub> Someone found that running the following commands fixed their issue: sudo cat /var/log/audit/audit.log | grep nginx | grep denied | audit2allow -M mynginx sudo semodule -i mynginx.pp Or something like this: chcon -Rt httpd_sys_content_t /srv/www/myapp/ ..to change the security context of the directory recursively so nginx will be allowed to serve it. Followed by: setsebool -P httpd_can_network_connect 1","title":"SELinux/Nginx error"},{"location":"notes/security/#selinux-apache-static-html","text":"Change the context of the file: sudo chcon -R -v -t httpd_sys_rw_content_t index.html This might have happened because we copied a file from ~ to /var/www , which caused it to retain its original context.","title":"SElinux Apache static html"},{"location":"notes/security/#nmap-one-liners","text":"Port scan, os detection: nmap -sS -P0 -sV -O 192.168.0.58 All active IPs in a network nmap -sP 192.168.0.* Ping a range of IPs nmap -sP 192.168.0.2-254 Find unused IPs in a subnet nmap -T4 -sP 192.168.0.0/24 && egrep \"00:00:00:00:00:00\" /proc/net/arp","title":"Nmap one liners"},{"location":"notes/security/#make-a-password-in-linux-without-adding-the-user","text":"whois package: provides mkpasswd mkpasswd --method=SHA-512","title":"Make a password in linux (without adding the user)"},{"location":"notes/security/#iptables-port-forwarding","text":"Use case: make tomcat on port 8443 listen on port 443. sudo iptables -A PREROUTING -t nat -i eth0 -p tcp --dport 80 -j REDIRECT --to-port 8080 This will forward all traffic coming in on port 443 to the tomcat server listening on 8443. (picked from here: https://mihail.stoynov.com/2011/04/04/howto-start-tomcat-on-port-80-without-root-privileges/ ) To view, the usual -L and -F won't show anything. Instead, use: iptables -L -t nat iptables -F -t nat","title":"IPtables port forwarding"},{"location":"notes/security/#open-firewall-ports-with-firewalld","text":"firewall-cmd --permanent --add-port=5672/tcp firewall-cmd --reload","title":"Open firewall ports with firewalld"},{"location":"notes/security/#centos-firewall-commands","text":"firewall-cmd --state firewall-cmd --get-zones firewall-cmd --list-all-zones firewall-cmd --get-default-zone firewall-cmd --list-services # currently enabled in this zone firewall-cmd --get-services # all firewall-cmd --add-service=https --permanent firewall-cmd --add-service=http --permanent","title":"Centos firewall commands"},{"location":"notes/security/#ssh-agent","text":"You start an ssh-agent by running something like: eval `ssh-agent` You can then feed it keys, with ssh-add like this: ssh-add /home/test/.ssh/id_rsa or, if your key is in the default location, you can just do: ssh-add or just put this in .bashrc : if [ -z \"$SSH_AUTH_SOCK\" ] ; then eval `ssh-agent -s` ssh-add fi but this prompts for the passphrase the first time it is invoked. so do this instead: #!/usr/bin/expect -f spawn ssh-add /home/user/.ssh/id_rsa expect \"Enter passphrase for /home/user/.ssh/id_rsa:\" send \"passphrase\\n\"; interact","title":"ssh-agent"},{"location":"notes/security/#apache-redirect-http-to-https","text":"NameVirtualHost *:80 <VirtualHost *:80> ServerName mysite.example.com DocumentRoot /usr/local/apache2/htdocs Redirect permanent / https://mysite.example.com/ </VirtualHost>","title":"Apache redirect http to https"},{"location":"notes/security/#letsencrypt-notes","text":"sudo dnf install httpd -y sudo dnf install mod_ssl -y sudo systemctl start httpd sudo systemctl enable httpd Add ServerName and a VirtualHost at a minimum now run letsencrypt-auto and fill out the stuff sudo cp /etc/letsencrypt/options-ssl-apache.conf /etc/httpd/conf.d sudo systemctl restart httpd To renew: letsencrypt-auto renew","title":"Letsencrypt notes"},{"location":"notes/security/#components-of-a-cipher-suite","text":"The algorithms that make up a typical cipher suite are the following: Key Exchange Algorithm - dictates the manner by which symmetric keys will be exchanged; Authentication Algorithm - dictates how server authentication and (if needed) client authentication will be carried out. Bulk Encryption Algorithm - dictates which symmetric key algorithm will be used to encrypt the actual data; and Message Authentication Code (MAC) algorithm - dictates the method the connection will use to carry out data integrity checks.","title":"Components of a cipher suite"},{"location":"notes/linux/","text":"\ud83d\udc27Linux My favourite OS. Been using it since 2004. Learnt the hard way, uphill both ways. I used to borrow DVDs from the library at work and give it a spin at home. I didn't have a working internet connection back then so I'd have to take notes on the error message, research them the next day at work, and fix it when I got back. Probably the most fruitful time I've had to date. I distro-hopped every few months, and my fondest memories are of Slackware and, well, FreeBSD. I had a ton of fun with my Desktop: setting up IPv6 tunnels, dynamic DNS, apache, squid, privoxy, and generally playing with minimiastic window managers and the shell. These days I stick with Fedora and love it. General Linux Check process, thread, utilization and CPU attached to ps -mo pid,tid,%cpu,psr -p <process_id> Check network connections made by a process with strace strace -f -e trace=network -o /tmp/strace.txt -s 10000 <cmd> <args> Centos 7 sources Clone their helper repo first: git clone https://git.centos.org/git/centos-git-common.git Go to their RPM project and select a project to clone. I'm picking coreutils here. This repo has a SPEC file and the patches to the original source. git clone https://git.centos.org/r/rpms/coreutils.git The master branch is always empty. Checkout their c7 branch to see the SPECS and SOURCES folders for Centos 7, and run the helper script to fetch the source. git checkout c7 ../centos-git-common/get_sources.sh dnsmasq custom dns server for a domain Add a specific record like this in the dnsmasq configuration: server=/mydomain.local/10.250.0.2 For everything else, dnsmasq will use the existing configuration in /etc/resolv.conf . More here diff and patch cp somepackage somepackage-new # make changes in somepackage-new diff -ruN somepackage somepackage-new > mychanges.patch # give the patch to someone else, who can now do: cd somepackage patch -p1 < mychanges.patch More information than you'll ever need here . ccache notes Install from the repo as usual sudo yum install ccache -y One way to set it up: bash-4.2 /bin$ cp ccache /usr/local/bin/ bash-4.2 /bin$ ln -s ccache /usr/local/bin/gcc bash-4.2 /bin$ ln -s ccache /usr/local/bin/g++ bash-4.2 /bin$ ln -s ccache /usr/local/bin/cc bash-4.2 /bin$ ln -s ccache /usr/local/bin/c++ Change timezone in centos: ln -s /usr/share/zoneinfo/Asia/Kolkata /etc/localtime For debian: timedatectl set-timezone Asia/Kolkata Install fonts in centos/linux: System-wide : mkdir -p /usr/share/fonts/greatvibes User only : mkdir ~/.fonts Copy your font files in the appropriate folder and \"register\" them in the system with: fc-cache -f -v Linux date conversion (epoch to human readable) Convert epoch time to human readable format: date -d @1445305686.222 Howto add swap space: free dd if=/dev/zero of=/var/swap.img bs=1024k count=1000 mkswap /var/swap.img swapon /var/swap.img free If df shows no disk space even after deleting files, check this output: sudo /usr/sbin/lsof | grep deleted Space will not be freed for the files there. Restart those offending daemons to actually free the space up. If you don't have lsof, just use this: find /proc/*/fd -ls | grep '(deleted)' Useful linux diagnostic commands: uptime dmesg | tail vmstat 1 mpstat -P ALL 1 pidstat 1 iostat -xz 1 free -m sar -n DEV 1 sar -n TCP,ETCP 1 top GNU/Screen scrollback: Ctrl a Esc (then use Ctrl b/Ctrl f/Ctrl u/Ctrl d etc) and Esc to end Quick fsck (solaris) fsck -Fy ufs /dev/rdsk/c1d0s5 Debian - clean up orphaned files: aptitude remove --purge $(deborphan) See filesystem usage: /usr/bin/du --total --summarize --human-readable --one-file-system GNU/Screen splitting windows C-a V or C-a | split the screen vertically C-a X remove/detach the current split C-a S split horizontally C-a tab cycle between windows Tmux keybindings Ctrl-b % (Split the window vertically) Ctrl-b : \"split-window\" (Split window horizontally) Ctrl-b o (Goto next pane) Ctrl-b q (Show pane numbers, when the numbers show up type the key to goto that pane) Ctrl-b { (Move the current pane left) Ctrl-b } (Move the current pane right) And here's my .tmux.conf set -g prefix C-a unbind C-b bind C-a send-prefix set -g default-terminal \"xterm-256color\" set -g history-limit 10000 set -g set-titles-string \"#T\" unbind % bind | split-window -h bind - split-window -v Colour in terminals arunsrin@ARUNSRIN-G2CA5 MINGW64 ~ $ printf \"\\033[32mhi\\033[0m\" hi \\033 is Escape So Escape + 3 + 2 + m tells the terminal that everything from this point onwards is in green. And Escape + [ + 0 + m reverts it back to normal These are some sequences: Sequence What it Does ESC[1m Bold, intensify foreground ESC[4m Underscore ESC[5m Blink ESC[7m Reverse video ESC[0m All attributes off Bash Stty: Coredump etc Ctrl \\ or kill -SIGQUIT <pid> Override it with: stty quit <some-binding> Similarly for that age-old backspace not deleting a character problem: stty erase ^h To see the current terminal capabilities, run: stty -a Fix for xargs errors when filenames contain spaces find has a print0 option that uses null characters instead of \\n as separators. xargs has a -0 option that uses the same separator when working on the args. So: find . -name -print0 | xargs -0 ls -l Bash faster navigation with cdpath export CDPATH=:$HOME:$HOME/projects:$HOME/code/beech cd'ing to a folder first looks at CWD, then rest of CDPATH Find with date filters find . -ctime -3 # created in the past 3 days find . -ctime +3 # older than 3 days find . -ctime 3 # created exactly 3 days back find . -ctime +3 -ctime -5 # created 3 - 5 days back find . -newer /tmp/somefile # see somefile's timestamp and show files newer than it works great in conjunction with: touch 0607090016 /tmp/somefile #i.e. 7th june, 9:00 am, 2016 find . -maxdepth 1 -type d -ctime +38 -exec rm -rf {} \\; delete all folders older than 38 days back. don't use atime much: every directory access changes its atime, so when find traverses through it, the inode's atime entry gets updated. File formatting, wrapping etc Huh, who knew this existed: cat <some-verbose-output> | fold -70 fold -s folds at whitespace Also look at the fmt command, which seems similar to emacs' fill-paragraph . pr gives a pretty display with margins, headers, and page numbers. Deleting files with odd names There's more than one way. Here's one: find the inode with ls -i , then delete with: find -inum <inode-number> -exec rm -i {} \\; See whitespace with cat Use this: cat -v -t -e <somefile> -e : Add a trailing $ at the end of a line. -t : Show tabs as ^I Stat command: see inode information The inode holds the address in the filesystem, access permissions, ctime/mtime etc arunsrin@ARUNSRIN-G2CA5 MINGW64 ~ $ stat ntuser.ini File: \u2018ntuser.ini\u2019 Size: 20 Blocks: 1 IO Block: 65536 regular file Device: a4b221d6h/2763137494d Inode: 562949953421373 Links: 1 Access: (0644/-rw-r--r--) Uid: (1233064/arunsrin) Gid: (1049089/ UNKNOWN) Access: 2015-07-21 18:57:13.142410100 +0530 Modify: 2010-11-21 08:20:53.336035000 +0530 Change: 2016-06-06 09:18:05.239486700 +0530 Birth: 2015-07-21 18:57:13.142410100 +0530 arunsrin@ARUNSRIN-G2CA5 MINGW64 ~ $ If the filename is odd and you can't paste it easily in the terminal, just try ls -il Bash debugging Run the script with -xv in the shebang: #!/bin/bash -xv # do something Bash suppress echo (for reading passwords) In bash, while reading input from the user, if you want to suppress the echo on the screen (for sensitive inputs like passwords), do this: stty -echo read SECRETPASSWD stty echo ngrep Try this: sudo ngrep -d any <word> -q -d any listens on any interface -q is quiet mode so those # 's don't show. Pretty-print json cat somefile.json | python -m json.tool WSL passwd reset From powershell, run this to directly login as the root user: wsl --user root If you have more than one wsl distribution installed, list them with wsl -l and exec into that with this: wsl -d Ubuntu-20.04 --user root Then you can do the usual passwd or passwd <user> to reset that password.","title":"\ud83d\udc27Linux"},{"location":"notes/linux/#linux","text":"My favourite OS. Been using it since 2004. Learnt the hard way, uphill both ways. I used to borrow DVDs from the library at work and give it a spin at home. I didn't have a working internet connection back then so I'd have to take notes on the error message, research them the next day at work, and fix it when I got back. Probably the most fruitful time I've had to date. I distro-hopped every few months, and my fondest memories are of Slackware and, well, FreeBSD. I had a ton of fun with my Desktop: setting up IPv6 tunnels, dynamic DNS, apache, squid, privoxy, and generally playing with minimiastic window managers and the shell. These days I stick with Fedora and love it.","title":"\ud83d\udc27Linux"},{"location":"notes/linux/#general-linux","text":"","title":"General Linux"},{"location":"notes/linux/#check-process-thread-utilization-and-cpu-attached-to","text":"ps -mo pid,tid,%cpu,psr -p <process_id>","title":"Check process, thread, utilization and CPU attached to"},{"location":"notes/linux/#check-network-connections-made-by-a-process-with-strace","text":"strace -f -e trace=network -o /tmp/strace.txt -s 10000 <cmd> <args>","title":"Check network connections made by a process with strace"},{"location":"notes/linux/#centos-7-sources","text":"Clone their helper repo first: git clone https://git.centos.org/git/centos-git-common.git Go to their RPM project and select a project to clone. I'm picking coreutils here. This repo has a SPEC file and the patches to the original source. git clone https://git.centos.org/r/rpms/coreutils.git The master branch is always empty. Checkout their c7 branch to see the SPECS and SOURCES folders for Centos 7, and run the helper script to fetch the source. git checkout c7 ../centos-git-common/get_sources.sh","title":"Centos 7 sources"},{"location":"notes/linux/#dnsmasq-custom-dns-server-for-a-domain","text":"Add a specific record like this in the dnsmasq configuration: server=/mydomain.local/10.250.0.2 For everything else, dnsmasq will use the existing configuration in /etc/resolv.conf . More here","title":"dnsmasq custom dns server for a domain"},{"location":"notes/linux/#diff-and-patch","text":"cp somepackage somepackage-new # make changes in somepackage-new diff -ruN somepackage somepackage-new > mychanges.patch # give the patch to someone else, who can now do: cd somepackage patch -p1 < mychanges.patch More information than you'll ever need here .","title":"diff and patch"},{"location":"notes/linux/#ccache-notes","text":"Install from the repo as usual sudo yum install ccache -y One way to set it up: bash-4.2 /bin$ cp ccache /usr/local/bin/ bash-4.2 /bin$ ln -s ccache /usr/local/bin/gcc bash-4.2 /bin$ ln -s ccache /usr/local/bin/g++ bash-4.2 /bin$ ln -s ccache /usr/local/bin/cc bash-4.2 /bin$ ln -s ccache /usr/local/bin/c++","title":"ccache notes"},{"location":"notes/linux/#change-timezone-in-centos","text":"ln -s /usr/share/zoneinfo/Asia/Kolkata /etc/localtime For debian: timedatectl set-timezone Asia/Kolkata","title":"Change timezone in centos:"},{"location":"notes/linux/#install-fonts-in-centoslinux","text":"System-wide : mkdir -p /usr/share/fonts/greatvibes User only : mkdir ~/.fonts Copy your font files in the appropriate folder and \"register\" them in the system with: fc-cache -f -v","title":"Install fonts in centos/linux:"},{"location":"notes/linux/#linux-date-conversion-epoch-to-human-readable","text":"Convert epoch time to human readable format: date -d @1445305686.222","title":"Linux date conversion (epoch to human readable)"},{"location":"notes/linux/#howto-add-swap-space","text":"free dd if=/dev/zero of=/var/swap.img bs=1024k count=1000 mkswap /var/swap.img swapon /var/swap.img free","title":"Howto add swap space:"},{"location":"notes/linux/#if-df-shows-no-disk-space-even-after-deleting-files-check-this-output","text":"sudo /usr/sbin/lsof | grep deleted Space will not be freed for the files there. Restart those offending daemons to actually free the space up. If you don't have lsof, just use this: find /proc/*/fd -ls | grep '(deleted)'","title":"If df shows no disk space even after deleting files, check this output:"},{"location":"notes/linux/#useful-linux-diagnostic-commands","text":"uptime dmesg | tail vmstat 1 mpstat -P ALL 1 pidstat 1 iostat -xz 1 free -m sar -n DEV 1 sar -n TCP,ETCP 1 top","title":"Useful linux diagnostic commands:"},{"location":"notes/linux/#gnuscreen-scrollback","text":"Ctrl a Esc (then use Ctrl b/Ctrl f/Ctrl u/Ctrl d etc) and Esc to end","title":"GNU/Screen scrollback:"},{"location":"notes/linux/#quick-fsck-solaris","text":"fsck -Fy ufs /dev/rdsk/c1d0s5","title":"Quick fsck (solaris)"},{"location":"notes/linux/#debian-clean-up-orphaned-files","text":"aptitude remove --purge $(deborphan)","title":"Debian - clean up orphaned files:"},{"location":"notes/linux/#see-filesystem-usage","text":"/usr/bin/du --total --summarize --human-readable --one-file-system","title":"See filesystem usage:"},{"location":"notes/linux/#gnuscreen-splitting-windows","text":"C-a V or C-a | split the screen vertically C-a X remove/detach the current split C-a S split horizontally C-a tab cycle between windows","title":"GNU/Screen splitting windows"},{"location":"notes/linux/#tmux-keybindings","text":"Ctrl-b % (Split the window vertically) Ctrl-b : \"split-window\" (Split window horizontally) Ctrl-b o (Goto next pane) Ctrl-b q (Show pane numbers, when the numbers show up type the key to goto that pane) Ctrl-b { (Move the current pane left) Ctrl-b } (Move the current pane right) And here's my .tmux.conf set -g prefix C-a unbind C-b bind C-a send-prefix set -g default-terminal \"xterm-256color\" set -g history-limit 10000 set -g set-titles-string \"#T\" unbind % bind | split-window -h bind - split-window -v","title":"Tmux keybindings"},{"location":"notes/linux/#colour-in-terminals","text":"arunsrin@ARUNSRIN-G2CA5 MINGW64 ~ $ printf \"\\033[32mhi\\033[0m\" hi \\033 is Escape So Escape + 3 + 2 + m tells the terminal that everything from this point onwards is in green. And Escape + [ + 0 + m reverts it back to normal These are some sequences: Sequence What it Does ESC[1m Bold, intensify foreground ESC[4m Underscore ESC[5m Blink ESC[7m Reverse video ESC[0m All attributes off","title":"Colour in terminals"},{"location":"notes/linux/#bash-stty-coredump-etc","text":"Ctrl \\ or kill -SIGQUIT <pid> Override it with: stty quit <some-binding> Similarly for that age-old backspace not deleting a character problem: stty erase ^h To see the current terminal capabilities, run: stty -a","title":"Bash Stty: Coredump etc"},{"location":"notes/linux/#fix-for-xargs-errors-when-filenames-contain-spaces","text":"find has a print0 option that uses null characters instead of \\n as separators. xargs has a -0 option that uses the same separator when working on the args. So: find . -name -print0 | xargs -0 ls -l","title":"Fix for xargs errors when filenames contain spaces"},{"location":"notes/linux/#bash-faster-navigation-with-cdpath","text":"export CDPATH=:$HOME:$HOME/projects:$HOME/code/beech cd'ing to a folder first looks at CWD, then rest of CDPATH","title":"Bash faster navigation with cdpath"},{"location":"notes/linux/#find","text":"with date filters find . -ctime -3 # created in the past 3 days find . -ctime +3 # older than 3 days find . -ctime 3 # created exactly 3 days back find . -ctime +3 -ctime -5 # created 3 - 5 days back find . -newer /tmp/somefile # see somefile's timestamp and show files newer than it works great in conjunction with: touch 0607090016 /tmp/somefile #i.e. 7th june, 9:00 am, 2016 find . -maxdepth 1 -type d -ctime +38 -exec rm -rf {} \\; delete all folders older than 38 days back. don't use atime much: every directory access changes its atime, so when find traverses through it, the inode's atime entry gets updated.","title":"Find"},{"location":"notes/linux/#file-formatting-wrapping-etc","text":"Huh, who knew this existed: cat <some-verbose-output> | fold -70 fold -s folds at whitespace Also look at the fmt command, which seems similar to emacs' fill-paragraph . pr gives a pretty display with margins, headers, and page numbers.","title":"File formatting, wrapping etc"},{"location":"notes/linux/#deleting-files-with-odd-names","text":"There's more than one way. Here's one: find the inode with ls -i , then delete with: find -inum <inode-number> -exec rm -i {} \\;","title":"Deleting files with odd names"},{"location":"notes/linux/#see-whitespace-with-cat","text":"Use this: cat -v -t -e <somefile> -e : Add a trailing $ at the end of a line. -t : Show tabs as ^I","title":"See whitespace with cat"},{"location":"notes/linux/#stat-command-see-inode-information","text":"The inode holds the address in the filesystem, access permissions, ctime/mtime etc arunsrin@ARUNSRIN-G2CA5 MINGW64 ~ $ stat ntuser.ini File: \u2018ntuser.ini\u2019 Size: 20 Blocks: 1 IO Block: 65536 regular file Device: a4b221d6h/2763137494d Inode: 562949953421373 Links: 1 Access: (0644/-rw-r--r--) Uid: (1233064/arunsrin) Gid: (1049089/ UNKNOWN) Access: 2015-07-21 18:57:13.142410100 +0530 Modify: 2010-11-21 08:20:53.336035000 +0530 Change: 2016-06-06 09:18:05.239486700 +0530 Birth: 2015-07-21 18:57:13.142410100 +0530 arunsrin@ARUNSRIN-G2CA5 MINGW64 ~ $ If the filename is odd and you can't paste it easily in the terminal, just try ls -il","title":"Stat command: see inode information"},{"location":"notes/linux/#bash-debugging","text":"Run the script with -xv in the shebang: #!/bin/bash -xv # do something","title":"Bash debugging"},{"location":"notes/linux/#bash-suppress-echo-for-reading-passwords","text":"In bash, while reading input from the user, if you want to suppress the echo on the screen (for sensitive inputs like passwords), do this: stty -echo read SECRETPASSWD stty echo","title":"Bash suppress echo (for reading passwords)"},{"location":"notes/linux/#ngrep","text":"Try this: sudo ngrep -d any <word> -q -d any listens on any interface -q is quiet mode so those # 's don't show.","title":"ngrep"},{"location":"notes/linux/#pretty-print-json","text":"cat somefile.json | python -m json.tool","title":"Pretty-print json"},{"location":"notes/linux/#wsl-passwd-reset","text":"From powershell, run this to directly login as the root user: wsl --user root If you have more than one wsl distribution installed, list them with wsl -l and exec into that with this: wsl -d Ubuntu-20.04 --user root Then you can do the usual passwd or passwd <user> to reset that password.","title":"WSL passwd reset"},{"location":"notes/linux/learnings-and-notes/","text":"\ud83d\udc27 Learnings/Notes Linux's CFS: Completely Fair Scheduler On a single cpu, the available cpu cycles are divided among all the threads in proportion to their weights. The weight = priority = niceness. Threads are organized in a runqueue (implemented as a red-black tree). A thread exceeding its timeslice is pre-empted and the next one is given a slice. In multicore systems, each core has its own runqueue. But this may not always be fair (since one core may run one low-priority thread while the other may run several high-priority threads, inefficiently) So linux has a load balancer that periodically keeps the queus in balance. Load balancing is a costly operation (both computation and commuication operations are expensive) so it is kept at a minimum if possible. Memory layout in Linux 32-bit: 3:1 ratio: out of 4gb, 3gb is for users and 1gb for kernel 64-bit: 1:1: out of 128TB, 64TB is for users and 64 for kernel. So the kernel memory starts at 0xffff80000000 000 in 64-bit, and 0xc000000 in 32-bit. For a user process, Stack size is 8mb by default (see ulimit -s). Stack occupies top of the address space and grows down. The botttom of the stack contains env variables, prog name and **args Below the stack is memmap which has stuff linked dynamically and mapped by the kernel at runtime. Then is the heap. Then there's bss/data/program text. text is usually read-only. stack and data are non-executable (to prevent (partially) overflows). Docker Notes: apache mesos: get a lot of compute clusters looking like a single system. Docker Trusted Registry: on-prem repository service Machine: configures docker on cloud instances Swarm: deploys containers in clusters. (Docker's version of Kubernetes) Compose: use YAML templates ofr multiple application deployments. Tutum - like compose for cloud deployment. New acquisition. OpenStack Havana supports docker as a hypervisor. docker run -d (detaches and runs as a daemon) use docker start -i asdasdas123 bash to connect to an existing instance. (or actually attach). use docker exec if you want another process in an existing container. better than attach since attach just reattaches to the original pid1 process. docker rename renames an existing container. otherwise --name while starting. docker ps -a shows non-running containers. names are auto-generated if you don't specify them :) =docker run \u2013name loopdate -d centos /bin/sh -c \"while true; do date; sleep 3; done\"= (daemonize example) docker logs --tail 0 -f loopdate (to see the live logs for the example above) docker cp /etc/hostname asdasd123132:/tmp docker run --restart <etc> : sets a policy to restart if it stops. doesn't start a new container, just restarts the same id. NUMA - Non-Uniform Memory Access. /var/lib/docker/containers/<id> /var/lib/docker/aufs/diff/<id> : see the CopyOnWrite diffs between this instance and the base layers. docker diff <id> : shows files changed in a container. docker inspect loopdate|less : json metadata, e.g. ipaddress. docker history <image> shows the history of commands used to build that image. 'latest' is a convention but need not be latest.. e.g. ubuntu sets 'latest' to their LTS release 14.04, and not to bleeding edge. creating images: either 'commit' an existing container, or specify a dockerfile. you can save and package to tar file instead of pushing to a registry. docker images -a : show intermediate images (these don't have tags) docker rm `docker ps --no-trunc -aq` (remove everything) sample commit command: docker commit --change 'CMD [\"/usr/sbin/httpd\",\"-D\",\"FOREGROUND\"]' --change 'ENV APACHE_RUN_USER www-data' --change 'ENV APACHE_RUN_GROUP www-data' 26cb lab/websvr:v0.2 do a docker pull <image> before use if you want to speed up your boxes. docker registry is opensource, and v1.6+ is in go and supports parallel downloads. registry:latest is 0.9, and is a python app. deprecated. docker run -p 5000:5000 -d registry:2 \u2013gives a web interface for registry v2. docker tag arun/myapache localhost:5000/myapache , followed by a push : pushes myapache to the local registry. docker save/load : tar a repo (i.e. image), including parent layers and tags and versions, for local circulation. docker export is like save, but flattens the filesystem. build a docker image from a dockerfile: docker build some/path use --link to link two containers together (adds to each container's hosts file). newer versions have advanced networking: put associated containers in a single subnet , and allow them to talk to each other. Vagrant notes: setup: vagrant init vagrant box add centos/7 mention the same box in the vagrantfile start: vagrant up vagrant ssh stop: vagrant suspend # save state and stop vagrant halt # graceful shutdown vagrant destroy # wipe out hd etc Ansible notes Modules are wrappers for administration commands (like ping, apt, yum, copy, etc). Always use these instead of shell exec since modules are idempotent: you specify the state you want to be in, and the commands are run appropriately. A task contains a module to be run, along with Facts or conditions or anything else. Handlers can do everything tasks can, and are triggered by tasks when conditions are met. e.g. 'start nginx' would be a handler called in 'install nginx'. Roles organize multiple tasks in one coherent whole (e.g. installing nginx may require adding a repo, copying certs, installing the rpm and starting the server). Roles are organized like this: files, handlers, meta, templates, tasks, vars. Except files and templates, a main.yml file present in all other folders will be executed automatically. Files have static files, e.g. httpd.conf, certs etc. Handlers have triggers obviously Meta has dependencies and other metadata. e.g. run the ssl role before starting the nginx role. Templates are based on jinja2. Variables have vars that are used to fill the templates. Tasks have the main logic. To run the whole role, just call the main yaml: ansible-playbook -s main.yml Facts are metadata gathered by ansible on init: num processors , cores, interfaces, mounts etc. you can use these vars in your templates. ansible-vault can be used to encrypt vars and files in a role. Linux ad-hoc daemonization If a script is running in a terminal and you want to daemonize it, do this: Ctrl-Z to suspend it bg to make it a background job disown -h %job-id where job-id is what bg returned. This removes the command from the shell's job list, so it won't get a SIGHUP when the terminal closes. linux ctime vs mtime ctime is for inode, mtime is for contents e.g. chmod changes ctime. echo \"asd\">>file changes mtime. soft vs hard links Hard links: Two filenames in a folder pointing to the exact same inode. There is no distinction between the link and the original. This means you can delete one file and the other will still exist! Cannot traverse filesystems. cannot hard link directories Soft links: A new kind of file that has its own inode entry. the OS knows how to traverse from it to the parent. No limitations. When a user runs mkdir, along with creating a directory, mkdir internally creates a hard-link called '..' pointing to the parent. that's why cd .. takes you to the parent, and that way '..' doesn't take up space in the filesystem either. Similarly another hardlink called '.' is created inside that folder, linking to the folder itself in the parent. i.e. if you have test/child: cd child ls -ail . inode1 # child's inode .. inode2 # parent's inode cd .. ls -ail . inode2 # parent's inode .. inode4 # parent's parent's inode child inode1","title":"\ud83d\udc27 Learnings/Notes"},{"location":"notes/linux/learnings-and-notes/#learningsnotes","text":"","title":"\ud83d\udc27 Learnings/Notes"},{"location":"notes/linux/learnings-and-notes/#linuxs-cfs-completely-fair-scheduler","text":"On a single cpu, the available cpu cycles are divided among all the threads in proportion to their weights. The weight = priority = niceness. Threads are organized in a runqueue (implemented as a red-black tree). A thread exceeding its timeslice is pre-empted and the next one is given a slice. In multicore systems, each core has its own runqueue. But this may not always be fair (since one core may run one low-priority thread while the other may run several high-priority threads, inefficiently) So linux has a load balancer that periodically keeps the queus in balance. Load balancing is a costly operation (both computation and commuication operations are expensive) so it is kept at a minimum if possible.","title":"Linux's CFS: Completely Fair Scheduler"},{"location":"notes/linux/learnings-and-notes/#memory-layout-in-linux","text":"32-bit: 3:1 ratio: out of 4gb, 3gb is for users and 1gb for kernel 64-bit: 1:1: out of 128TB, 64TB is for users and 64 for kernel. So the kernel memory starts at 0xffff80000000 000 in 64-bit, and 0xc000000 in 32-bit. For a user process, Stack size is 8mb by default (see ulimit -s). Stack occupies top of the address space and grows down. The botttom of the stack contains env variables, prog name and **args Below the stack is memmap which has stuff linked dynamically and mapped by the kernel at runtime. Then is the heap. Then there's bss/data/program text. text is usually read-only. stack and data are non-executable (to prevent (partially) overflows).","title":"Memory layout in Linux"},{"location":"notes/linux/learnings-and-notes/#docker-notes","text":"apache mesos: get a lot of compute clusters looking like a single system. Docker Trusted Registry: on-prem repository service Machine: configures docker on cloud instances Swarm: deploys containers in clusters. (Docker's version of Kubernetes) Compose: use YAML templates ofr multiple application deployments. Tutum - like compose for cloud deployment. New acquisition. OpenStack Havana supports docker as a hypervisor. docker run -d (detaches and runs as a daemon) use docker start -i asdasdas123 bash to connect to an existing instance. (or actually attach). use docker exec if you want another process in an existing container. better than attach since attach just reattaches to the original pid1 process. docker rename renames an existing container. otherwise --name while starting. docker ps -a shows non-running containers. names are auto-generated if you don't specify them :) =docker run \u2013name loopdate -d centos /bin/sh -c \"while true; do date; sleep 3; done\"= (daemonize example) docker logs --tail 0 -f loopdate (to see the live logs for the example above) docker cp /etc/hostname asdasd123132:/tmp docker run --restart <etc> : sets a policy to restart if it stops. doesn't start a new container, just restarts the same id. NUMA - Non-Uniform Memory Access. /var/lib/docker/containers/<id> /var/lib/docker/aufs/diff/<id> : see the CopyOnWrite diffs between this instance and the base layers. docker diff <id> : shows files changed in a container. docker inspect loopdate|less : json metadata, e.g. ipaddress. docker history <image> shows the history of commands used to build that image. 'latest' is a convention but need not be latest.. e.g. ubuntu sets 'latest' to their LTS release 14.04, and not to bleeding edge. creating images: either 'commit' an existing container, or specify a dockerfile. you can save and package to tar file instead of pushing to a registry. docker images -a : show intermediate images (these don't have tags) docker rm `docker ps --no-trunc -aq` (remove everything) sample commit command: docker commit --change 'CMD [\"/usr/sbin/httpd\",\"-D\",\"FOREGROUND\"]' --change 'ENV APACHE_RUN_USER www-data' --change 'ENV APACHE_RUN_GROUP www-data' 26cb lab/websvr:v0.2 do a docker pull <image> before use if you want to speed up your boxes. docker registry is opensource, and v1.6+ is in go and supports parallel downloads. registry:latest is 0.9, and is a python app. deprecated. docker run -p 5000:5000 -d registry:2 \u2013gives a web interface for registry v2. docker tag arun/myapache localhost:5000/myapache , followed by a push : pushes myapache to the local registry. docker save/load : tar a repo (i.e. image), including parent layers and tags and versions, for local circulation. docker export is like save, but flattens the filesystem. build a docker image from a dockerfile: docker build some/path use --link to link two containers together (adds to each container's hosts file). newer versions have advanced networking: put associated containers in a single subnet , and allow them to talk to each other.","title":"Docker Notes:"},{"location":"notes/linux/learnings-and-notes/#vagrant-notes","text":"","title":"Vagrant notes:"},{"location":"notes/linux/learnings-and-notes/#setup","text":"vagrant init vagrant box add centos/7 mention the same box in the vagrantfile","title":"setup:"},{"location":"notes/linux/learnings-and-notes/#start","text":"vagrant up vagrant ssh","title":"start:"},{"location":"notes/linux/learnings-and-notes/#stop","text":"vagrant suspend # save state and stop vagrant halt # graceful shutdown vagrant destroy # wipe out hd etc","title":"stop:"},{"location":"notes/linux/learnings-and-notes/#ansible-notes","text":"Modules are wrappers for administration commands (like ping, apt, yum, copy, etc). Always use these instead of shell exec since modules are idempotent: you specify the state you want to be in, and the commands are run appropriately. A task contains a module to be run, along with Facts or conditions or anything else. Handlers can do everything tasks can, and are triggered by tasks when conditions are met. e.g. 'start nginx' would be a handler called in 'install nginx'. Roles organize multiple tasks in one coherent whole (e.g. installing nginx may require adding a repo, copying certs, installing the rpm and starting the server). Roles are organized like this: files, handlers, meta, templates, tasks, vars. Except files and templates, a main.yml file present in all other folders will be executed automatically. Files have static files, e.g. httpd.conf, certs etc. Handlers have triggers obviously Meta has dependencies and other metadata. e.g. run the ssl role before starting the nginx role. Templates are based on jinja2. Variables have vars that are used to fill the templates. Tasks have the main logic. To run the whole role, just call the main yaml: ansible-playbook -s main.yml Facts are metadata gathered by ansible on init: num processors , cores, interfaces, mounts etc. you can use these vars in your templates. ansible-vault can be used to encrypt vars and files in a role.","title":"Ansible notes"},{"location":"notes/linux/learnings-and-notes/#linux-ad-hoc-daemonization","text":"If a script is running in a terminal and you want to daemonize it, do this: Ctrl-Z to suspend it bg to make it a background job disown -h %job-id where job-id is what bg returned. This removes the command from the shell's job list, so it won't get a SIGHUP when the terminal closes.","title":"Linux ad-hoc daemonization"},{"location":"notes/linux/learnings-and-notes/#linux-ctime-vs-mtime","text":"ctime is for inode, mtime is for contents e.g. chmod changes ctime. echo \"asd\">>file changes mtime.","title":"linux ctime vs mtime"},{"location":"notes/linux/learnings-and-notes/#soft-vs-hard-links","text":"","title":"soft vs hard links"},{"location":"notes/linux/learnings-and-notes/#hard-links","text":"Two filenames in a folder pointing to the exact same inode. There is no distinction between the link and the original. This means you can delete one file and the other will still exist! Cannot traverse filesystems. cannot hard link directories","title":"Hard links:"},{"location":"notes/linux/learnings-and-notes/#soft-links","text":"A new kind of file that has its own inode entry. the OS knows how to traverse from it to the parent. No limitations. When a user runs mkdir, along with creating a directory, mkdir internally creates a hard-link called '..' pointing to the parent. that's why cd .. takes you to the parent, and that way '..' doesn't take up space in the filesystem either. Similarly another hardlink called '.' is created inside that folder, linking to the folder itself in the parent. i.e. if you have test/child: cd child ls -ail . inode1 # child's inode .. inode2 # parent's inode cd .. ls -ail . inode2 # parent's inode .. inode4 # parent's parent's inode child inode1","title":"Soft links:"},{"location":"notes/linux/package-management/","text":"\ud83d\udc27 Package management Sort RPMs by size rpm -qa --queryformat '%{size} %{name}\\n' | sort -rn | more Extract rpm into current folder instead of installing: rpm2cpio boost-system-1.53.0-23.el7.x86_64.rpm | cpio -idmv Trace a binary or file to the RPM that installed it: yum whatprovides /usr/lib64/libdbus-c++-1.so.0 or this: rpm -qf /usr/lib64/libdbus-c++-1.so.0 Yum/dnf revert If a yum remove wiped out several packages, do this: dnf history # note the id of the bad removal here dnf history undo 96 yum/dnf will reinstall all the packages that were removed in that id. Dependencies of a package This command shows what other packages need the queried package: repoquery --whatrequires libunwind Another way, without using repoquery: rpm -q --whatrequires python-ipaddress This command shows what other packages need to be installed for a queried package: yum deplist nginx","title":"\ud83d\udc27 Package management"},{"location":"notes/linux/package-management/#package-management","text":"","title":"\ud83d\udc27 Package management"},{"location":"notes/linux/package-management/#sort-rpms-by-size","text":"rpm -qa --queryformat '%{size} %{name}\\n' | sort -rn | more","title":"Sort RPMs by size"},{"location":"notes/linux/package-management/#extract-rpm-into-current-folder-instead-of-installing","text":"rpm2cpio boost-system-1.53.0-23.el7.x86_64.rpm | cpio -idmv","title":"Extract rpm into current folder instead of installing:"},{"location":"notes/linux/package-management/#trace-a-binary-or-file-to-the-rpm-that-installed-it","text":"yum whatprovides /usr/lib64/libdbus-c++-1.so.0 or this: rpm -qf /usr/lib64/libdbus-c++-1.so.0","title":"Trace a binary or file to the RPM that installed it:"},{"location":"notes/linux/package-management/#yumdnf-revert","text":"If a yum remove wiped out several packages, do this: dnf history # note the id of the bad removal here dnf history undo 96 yum/dnf will reinstall all the packages that were removed in that id.","title":"Yum/dnf revert"},{"location":"notes/linux/package-management/#dependencies-of-a-package","text":"This command shows what other packages need the queried package: repoquery --whatrequires libunwind Another way, without using repoquery: rpm -q --whatrequires python-ipaddress This command shows what other packages need to be installed for a queried package: yum deplist nginx","title":"Dependencies of a package"},{"location":"notes/linux/systemd/","text":"\ud83d\udc27Systemd Socket activation Systemd has a neat little feature where a daemon can turn on whenever a connection is made to it. Works with Unix and network sockets. More details here . Essentially you create a socket file alongside your service file. The advantage is that you don't need to start your services in a specific order. Flush old logs in journalctl By date or by size: sudo journalctl --vacuum-time=2d sudo journalctl --vacuum-size=500M Tail journalctl journalctl -f For a specific service: journalctl -u httpd -f Store logs on disk (from http://unix.stackexchange.com/questions/159221/how-display-log-messages-from-previous-boots-under-centos-7 ) On CentOS 7, you have to enable the persistent storage of log messages: # mkdir /var/log/journal # systemd-tmpfiles --create --prefix /var/log/journal # systemctl restart systemd-journald Otherwise, the journal log messages are not retained between boots. This is the default on Fedora 19+.","title":"\ud83d\udc27Systemd"},{"location":"notes/linux/systemd/#systemd","text":"","title":"\ud83d\udc27Systemd"},{"location":"notes/linux/systemd/#socket-activation","text":"Systemd has a neat little feature where a daemon can turn on whenever a connection is made to it. Works with Unix and network sockets. More details here . Essentially you create a socket file alongside your service file. The advantage is that you don't need to start your services in a specific order.","title":"Socket activation"},{"location":"notes/linux/systemd/#flush-old-logs-in-journalctl","text":"By date or by size: sudo journalctl --vacuum-time=2d sudo journalctl --vacuum-size=500M","title":"Flush old logs in journalctl"},{"location":"notes/linux/systemd/#tail-journalctl","text":"journalctl -f For a specific service: journalctl -u httpd -f","title":"Tail journalctl"},{"location":"notes/linux/systemd/#store-logs-on-disk","text":"(from http://unix.stackexchange.com/questions/159221/how-display-log-messages-from-previous-boots-under-centos-7 ) On CentOS 7, you have to enable the persistent storage of log messages: # mkdir /var/log/journal # systemd-tmpfiles --create --prefix /var/log/journal # systemctl restart systemd-journald Otherwise, the journal log messages are not retained between boots. This is the default on Fedora 19+.","title":"Store logs on disk"},{"location":"notes/programming/","text":"\ud83d\udcbbProgramming Check these pages for language-specific notes: Python Go Java Other languages HTML / CSS HTML header <html lang=\"en\"> Here lang is an 'attribute', with value en . html is the tag. head has metadata, one of which is title (to fill the tab bar). html has tags for 'article', 'header', and 'figure' now! CSS Use classes to segregate your content. Call it with a leading '.' in css. e.g. .site-nav-header { width: 300 px } ID's on the other hand can only be used once per html page. use with leading '#' in css. e.g. ##main-title { color: green } FORMS <label for=\"nickname\">Please enter your nickname</label> <input type=\"text\" id=\"nickname\" name=\"nickname\"> The label's for should match the input's id The name is what is passed to the backend as a variable name input type can be a lot of things, like 'email' or 'submit' All of these: labels, inputs etc are inline-block elements and are therefore stacked horizontally. To align them better, use div's, which are container tags that break up these horizontal elements into vertical stacks. There are 3 groups of elements in the way the browser stacks them: inline: span, em, strong (all treated horizontally) block level: p, div, article (browser inserts CRLF) inline block level : input, textarea (can be resized) tcl: xml parsing example package require tdom set dom [dom parse $XML] set recording [$dom documentElement] set datamode [$recording firstChild] set session [$datamode nextSibling] $session attributes * $session getAttribute session_id set participant [$session nextSibling] set dom [dom parse $XML] set recording [$dom documentElement] Other study notes TCP Use SO_REUSEADDR when stopping/starting servers: the OS will keep a socket alive for ~4 minutes after it's closed in case it has to retransmit FINs/ACKs. Deadlocks occur if the OS buffers fill up in both ends. e.g. client send blocks of data, server has a recv(1024) and processes and sends data (say, 1024), but client only has a recv of say, 10. Then his buffer gets filled up since he's getting a lot more data than he can handle. so the server's sends stop working. similarly the server's recv fills up \u2026 Either can call socket.shutdown , e.g. if you're a client who's finished sending data and wants to notify this. The connection stays open so he can continue getting data. shutdown 's flags will stop reads, writes, or both. Address families: pretty much always AF_INET . AF_UNIX is for local file sockets. bluetooth etc also exist. Oh AF_INET6 also exists. Socket type: SOCK_DGRAM (2) and SOCK_STREAM (1). (each address family has its own udp/tcp equivalents under the dgram/stream types) Last field is protocol which can be zeroed/ignored. IPROTO_TCP is 6 and IPROTO_UDP is 17. but we can infer it from the socket type above so we don't need to set it each time. To avoid v4/v6 and other binding confusions, use getaddrinfo(host,port) : it returns FTPCA (family, type, protocol, canonical name and address) Use socket.getservbyname(53) to see port->service mappings. Similarly socket.gethostbyname('abc.com') or gethostbyaddr('1.2.3.4') So self ip address is socket.gethostbyname(socket.getfqdn()) Unicode in DNS: RFC 3492 specifies the IDNA codec that maps a unicode hostname to an ascii representation. The lookup is performed for the encoded ascii string only. UTF-8 utf-8: 1-4 bytes. use setlocale() to switch encodings example of unicode encoding: character \"\u00a2\"= code point U+00A2 = 00000000 10100010 \u2192 11000010 10100010 \u2192 hexadecimal C2 A2 explanation: if the actual code is 00000000 10100010, then the representation starts with a 11 (to show that 2 bytes are needed to represent this character), followed by the data. The continuation bytes always start with a 10. example 2: The following string contains 4 utf-8 characters: \"\\xD4\\xBC\\xF0\\x9D\\x90\\x84\\x45\\xC6\\xAC\\x00\" D4 converted to Hex is 11010100 which tells us (from the first 2 bits) that 2 bytes take up this character. similarly F0 == 11110000 which takes 4 bytes to specify the next character, and so on. Do not modify strings directly in C (the compiler may store multiple identical string literals in the same address, so modifying one will affect the other) Levenshtein Distance Used in fuzzy searching (e.g. 'git lgo' which autocorrects and recommends 'log') Used to measure the difference between two strings Algorithmic Complexity Notation Type Example O(1) Constant Time Dict Lookup O(lg n) Logarithmic Binary Search O(n) Linear Iterating over a list O(n log n) Log Linear Optimal sorting of arbitrary values O(n 2 ) Quadratic Comparing *n* objects to each other O(n 3 ) Cubic Floyd and Washall's algorithms O(nk) Polynomial *k* nested loops over *n* O(n!) Factorial Producing every ordering of *n* values","title":"\ud83d\udcbbProgramming"},{"location":"notes/programming/#programming","text":"Check these pages for language-specific notes: Python Go Java","title":"\ud83d\udcbbProgramming"},{"location":"notes/programming/#other-languages","text":"","title":"Other languages"},{"location":"notes/programming/#html-css","text":"","title":"HTML / CSS"},{"location":"notes/programming/#html-header","text":"<html lang=\"en\"> Here lang is an 'attribute', with value en . html is the tag. head has metadata, one of which is title (to fill the tab bar). html has tags for 'article', 'header', and 'figure' now!","title":"HTML header"},{"location":"notes/programming/#css","text":"Use classes to segregate your content. Call it with a leading '.' in css. e.g. .site-nav-header { width: 300 px } ID's on the other hand can only be used once per html page. use with leading '#' in css. e.g. ##main-title { color: green }","title":"CSS"},{"location":"notes/programming/#forms","text":"<label for=\"nickname\">Please enter your nickname</label> <input type=\"text\" id=\"nickname\" name=\"nickname\"> The label's for should match the input's id The name is what is passed to the backend as a variable name input type can be a lot of things, like 'email' or 'submit' All of these: labels, inputs etc are inline-block elements and are therefore stacked horizontally. To align them better, use div's, which are container tags that break up these horizontal elements into vertical stacks. There are 3 groups of elements in the way the browser stacks them: inline: span, em, strong (all treated horizontally) block level: p, div, article (browser inserts CRLF) inline block level : input, textarea (can be resized)","title":"FORMS"},{"location":"notes/programming/#tcl-xml-parsing-example","text":"package require tdom set dom [dom parse $XML] set recording [$dom documentElement] set datamode [$recording firstChild] set session [$datamode nextSibling] $session attributes * $session getAttribute session_id set participant [$session nextSibling] set dom [dom parse $XML] set recording [$dom documentElement]","title":"tcl: xml parsing example"},{"location":"notes/programming/#other-study-notes","text":"","title":"Other study notes"},{"location":"notes/programming/#tcp","text":"Use SO_REUSEADDR when stopping/starting servers: the OS will keep a socket alive for ~4 minutes after it's closed in case it has to retransmit FINs/ACKs. Deadlocks occur if the OS buffers fill up in both ends. e.g. client send blocks of data, server has a recv(1024) and processes and sends data (say, 1024), but client only has a recv of say, 10. Then his buffer gets filled up since he's getting a lot more data than he can handle. so the server's sends stop working. similarly the server's recv fills up \u2026 Either can call socket.shutdown , e.g. if you're a client who's finished sending data and wants to notify this. The connection stays open so he can continue getting data. shutdown 's flags will stop reads, writes, or both. Address families: pretty much always AF_INET . AF_UNIX is for local file sockets. bluetooth etc also exist. Oh AF_INET6 also exists. Socket type: SOCK_DGRAM (2) and SOCK_STREAM (1). (each address family has its own udp/tcp equivalents under the dgram/stream types) Last field is protocol which can be zeroed/ignored. IPROTO_TCP is 6 and IPROTO_UDP is 17. but we can infer it from the socket type above so we don't need to set it each time. To avoid v4/v6 and other binding confusions, use getaddrinfo(host,port) : it returns FTPCA (family, type, protocol, canonical name and address) Use socket.getservbyname(53) to see port->service mappings. Similarly socket.gethostbyname('abc.com') or gethostbyaddr('1.2.3.4') So self ip address is socket.gethostbyname(socket.getfqdn())","title":"TCP"},{"location":"notes/programming/#unicode-in-dns","text":"RFC 3492 specifies the IDNA codec that maps a unicode hostname to an ascii representation. The lookup is performed for the encoded ascii string only.","title":"Unicode in DNS:"},{"location":"notes/programming/#utf-8","text":"utf-8: 1-4 bytes. use setlocale() to switch encodings","title":"UTF-8"},{"location":"notes/programming/#example-of-unicode-encoding","text":"character \"\u00a2\"= code point U+00A2 = 00000000 10100010 \u2192 11000010 10100010 \u2192 hexadecimal C2 A2 explanation: if the actual code is 00000000 10100010, then the representation starts with a 11 (to show that 2 bytes are needed to represent this character), followed by the data. The continuation bytes always start with a 10.","title":"example of unicode encoding:"},{"location":"notes/programming/#example-2","text":"The following string contains 4 utf-8 characters: \"\\xD4\\xBC\\xF0\\x9D\\x90\\x84\\x45\\xC6\\xAC\\x00\" D4 converted to Hex is 11010100 which tells us (from the first 2 bits) that 2 bytes take up this character. similarly F0 == 11110000 which takes 4 bytes to specify the next character, and so on. Do not modify strings directly in C (the compiler may store multiple identical string literals in the same address, so modifying one will affect the other)","title":"example 2:"},{"location":"notes/programming/#levenshtein-distance","text":"Used in fuzzy searching (e.g. 'git lgo' which autocorrects and recommends 'log') Used to measure the difference between two strings","title":"Levenshtein Distance"},{"location":"notes/programming/#algorithmic-complexity","text":"Notation Type Example O(1) Constant Time Dict Lookup O(lg n) Logarithmic Binary Search O(n) Linear Iterating over a list O(n log n) Log Linear Optimal sorting of arbitrary values O(n 2 ) Quadratic Comparing *n* objects to each other O(n 3 ) Cubic Floyd and Washall's algorithms O(nk) Polynomial *k* nested loops over *n* O(n!) Factorial Producing every ordering of *n* values","title":"Algorithmic Complexity"},{"location":"notes/programming/go/","text":"\ud83d\udc39 Go Notes from the book Learning Go , by Jon Bodner. Setup, Environment Difference between go get and go install : See here . Basically go get downloads the source to $GOPATH/src along with the dependencies, and the latter compiles. go install is recommended. Ignore go get . Hey hey for load testing http services. Install with: go install github.com/rakyll/hey@latest Vi Install vim-go: it comes with a massive set of tools. goimports goimports for some neat stuff that gofmt doesn't do. Install with: go install golang.org/x/tools/cmd/goimports@latest And run with: goimports -l -w . Vi: Just save it. Linting with golint Install: go install golang.org/x/lint/golint@latest Run: golint ./... Vi: :GoLint SA with govet Run: go vet ./... Vi: :GoVet This does not catch subtle bugs around shadow variables. So consider installing shadow as well: Install: go install golang.org/x/tools/go/analysis/passes/shadow/cmd/shadow@latest Run: shadow ./... Combine golint, govet with golangci-lint This tool runs 10 different linters by default and support dozens others. Install: see official docs Run: golangci-lint run vim-go notes Code completion is with Ctrl-x Ctrl-o :Tagbar is bound to F8 :GoDef is bound to gd : GoDefStack shows you how deep you've jumped, GoDefPop or Ctrl-T just pops to the last hop Sample makefile .DEFAULT_GOAL := build fmt: go fmt ./... .PHONY:fmt lint: fmt golint ./... .PHONY:lint vet: fmt go vet ./... shadow ./... .PHONY:vet build: vet go build hello.go .PHONY:build Basic Types Type Conversions Very strict here unlike JS / python. One can't just treat non-empty strings like \"asd\" as true for example. No other type can be converted to a bool, even explicitly. The way to do that is to use comparison operators (==, !=, >=, <=). e.g. x == 0 will return true or false . var versus := Most verbose way: var x int = 10 Since the default type of an integer is int , we can omit that: var x = 10 And since the default value is 0, we can also do this: var x int Multiple variables can be declared like this: var x, y int = 10, 20 Even if types differ: var x, y = 10, \"hello\" For even more in one go, do this: var ( x int y = 20 z int = 30 d, e = 50, \"hello\" f, g string ) Inside a function, you can use := when you want go to infer the type. var x = 10 becomes x := 10 Or x, y := 10, \"Hello\" And so on.. The main difference here is that you can reassign to existing variables too. Recommendations / Idioms: Don't declare variables at the package level, especially if they change later. Keep only immutable variables there, and the rest inside functions. Don't use := with type conversions, just use var there. If initialization to 0 is expected, use var x int instead of x := 0 . const Only works at compile time, so can only be assigned to: Numeric literals true and false Strings Runes (A rune is a single unicode character I think) Other built-ins: complex, real, imag, len, cap Expressions that consist of operators and the preceding values So there's no way of specifying that a value calculated at runtime is immutable. Nor are there immutable arrays, slices, maps or structs. Tip Keep a const untyped so you have more flexbility. const x = 10 let's you later do this: var y int = x var z float64 = x var d byte = x As you'd expect, doing something like const x int64 = 0 can only let you assign that const to another int64. Unused variables Not applicable to const's since these are detected and stubbed out from the final binary. For normal vars though, its a compilation error to declare a var and not use it. Composite Types Arrays Rigid, don't use directly. var x [3]int // Default 0's var x = [3]int{10, 20, 30} Sparse arrays: 0's are filled for the positions not specified: var x = [12]int{1,5:4,6,10:100,15} // this creates {1,0,0,0,0,4,6,0,0,0,100,15} var x = [...]int{10,20,30} // tell go to fill in the size var x [2][3]int // multi-dimensional. Poor matrix support, avoid. Find the size with len(arr) . Limitations: The size is part of the type, so an [3]int is not the same type as a [4]int . So you CANNOT use a variable to specify the size of an array, because types must be resolved at compile time. Big limitation of arrays. One CANNOT use a type conversion to convert arrays of different sizes to identical types. Because of this, you can't write a function that works with arrays of unspecified sizes, nor can you assign arrays of different sizes to the same variable. Really just don't use this. Arrays are backing stores for slices and this is what you'd want to use. Slices Length is /not/ part of the type. You don't specify the size when declaring: var x = []int{10, 20, 30} //Note that in an array you'd do [...] instead Similarly: var x = []int{1, 5:4, 6, 10:100, 15} var x [][]int Empty slice: var x []int // Since no value is assigned, x is assigned nil Note Slices aren't comparable with each other with == , != etc. Only with nil . Use reflect.DeepEqual if you want to compare two slices. Use append to grow a slice: var x []int x = append(x, 10) x = append(x, 11, 12) To flatten one slice and append its values to another, use ... : y := []int{20, 30, 40} x = append(x, y...) Note Observe that we assign the value returned by append . This is because Go is call-by-value. Every time you pass a parameter to a function, Go makes a copy. So append works on the copy and returns it back to the caller. So we re-assign the new value to that variable. capacity The Go runtime will increase the size of a slice when the number of elements exceeds the default allocation, e.g. by doubling it or increasing by 25%, based on the number of elements that are already there. The built-in function cap returns the current capacity of the slice, and make is used to create a new slice. make Like malloc. Will create a slice of fixed capacity and length, and initialize to 0. x := make([]int, 5) Warning You can NOT use append to populate contents after a make like this. Reason: make will zero fill the slice and append will add the new values to the end. append always increases the length of a slice. To specify initial capacity as well: x := make([]int, 6, 10) x := make([]int, 0, 10) // 0 length but 10 capacity Runtime panic if you initialize a slice with a variable for the capacity and it turns out to be lesser than length. Or compile time if you do it with literals. idiomatic way of declaring slices var data []int // if you expect it to stay nil. Has 0 length var x = []int{} // empty slice literal i.e. non-nil data := []int{2, 4, 6, 8} // if you feel the values aren't going to change Use make when you have a good idea of the size. When unsure, use a zero length slice with a specified capacity so that append works easily. slicing Similar to python. But does NOT copy the data. You get two variables that share the same data. This gets really messy when you append to a sliced slice :( The sub-slice shares the capacity of the main slice, so unused capacity in the original slice is used when you do the append. Warning Never use append with subslices. If you have to, use it with a full slice expression , which includes a third arg that specifies the last position in the parent slice's capacity that's available of the subslice. E.g. y := x[2:4:4] //Subslice y does not share anything beyond the 4th position with the parent. copy Safe way of creating an independent slice. x := []int{1,2,3,4} y := make([]int, 4} num := copy(y, x) // Returns number of elements copied. Y is the target slice. fmt.Println(y, num) // Prints [1 2 3 4] 4 Strings, runes, bytes UTF-8, unless specified. len() gives you the raw byte length not the grapheme length. byte is the underlying structure, rune is the UTF code point, and string is what the user sees. Maps Make a map where key is a string, value is an int: m0 := map[string]int{} m0[\"asd\"] = 1 Set values up front: m1 := map[string]int{ \"hello\": 1, \"world\": 2, } for the above, extract and test like this: v, ok := m1[\"hello\"] fmt.Println(v, ok) // Returns, 1 true v, ok := m1[\"does-not-exist\"] fmt.Println(v, ok) // Returns, 0 false i.e. Value stored in the map is 1 and there is indeed a value present for that map (stored in the ok variable) delete(m1, \"hello\") deletes that key/value. Sets Don't exist natively but you can make a map with bool values to get a similar data structure. myset := map[int]bool{} vals := []int{1, 3, 5, 7, 1, 10, 11, 3} for _, v := range vals { myset[v] = true } Use third-party libraries for Union, Intersection, etc. Structs type person struct { name string empid int } var e1 person e1.name = \"arun\" e1.empid = 12345 // or e2 := person{\"sid\", 5678} Anonymous struct pet := struct { name string age int }{name: \"shadow\", age: 10} Note Type conversions between 2 structs are ONLY possible if order and names and types all match. Blocks Anything outside a function is in the package block. Anything you call with an import from another file is in the file block. And things within functions are in their blocks. There is also a universe block that contains all the built-in types and functions like true and int and make . Warning Variables with the same name in an inner scope are shadowed . So any change you make are not retained once Go moves back to the outer scope. x := 10 if x > 5 { fmt.Println(x) // 10, from outer scope x := 5 // new shadow variable fmt.Println(x) // 5 } fmt.Println(x) // You'd want it to be 5, but it's 10 The use of := makes it easy to miss this, which reuses variables only in the current block. Consider installing shadow which catches this kind of thing: code/learninggo/ch04 via \ue627 v1.16.3 \u276f shadow blocks.go /home/arunsrin/code/learninggo/ch04/blocks.go:9:3: declaration of \"x\" shadows declaration at line 6 code/learninggo/ch04 via \ue627 v1.16.3 \u276f if Fairly obvious. Also, let's you define a variable inside the if condition that you can then use in the rest of the block. for Simple, C-style: for i := 0; i < 5; i++ { fmt.Println(i) } Must use := to initiatlize, var will not work. No parens Condition-only style: for i > 0 { fmt.Println(i) i-- } Infinite style: for { fmt.Println(\"loop forever\") } Use with break and continue for-range style: x := []int{100, 200, 300} for i, v := range x { fmt.Println(i, v) } i gives the iteration, and v the value When looping through a map, i gives the key instead Use _ if you don't plan to use that variable in the loop Iteration over maps is random, no fixed order is guaranteed If you loop over a string, each element will be a rune , not a byte The i value will jump by that many bytes to indicate that a non-ascii UTF symbol was detected for copies i and v and gives it to you. So modifying it will not modify the upstream value you're iterating through. switch Example: words := []string{\"a\", \"cow\", \"gopher\", \"smile\", \"octopus\", \"anthropologist\"} for _, word := range words { switch size := len(word); size { case 1, 2, 3, 4: fmt.Println(word, \" is a short word\") case 5: wordLen := len(word) fmt.Println(word, \" is the right length: \", wordLen) case 6, 7, 8, 9: default: fmt.Println(word, \" is a long word\") } } No break needed Each switch case is a scope, introduce new variables there and they will be accessible only in that case In an empty case, nothing happens . There is no fall-through to the next case Rather, use commas to combine multiple cases that have the same logic break in a switch case will only break out of that case. Use labels to actually break out of the outer loop Blank switch In the previous example, size compared with each case statement, and, if equal, that case is executed. In a blank switch, you could run any condition in the case, not just equality Functions No named or optional functional parameters. Variadic functions Exception is when it's at the end: func blah(base int, rest ...int) Use it in the function as a normal slice It can be skipped or called with any number of args func main() { blah(1, 2) blah(1) lotsOfArgs := []int{2, 3, 4} blah(1, lotsOfArgs...) //Note trailing ... for slice } func blah(base int, rest ...int) { fmt.Println(\"Received this many rest args\", len(rest)) } Mutliple return values Example func div(num int, denom int) (int, error) {...} Fairly common pattern to return the actual response followed by an error type Note Has to be assigned to each variable on the calling side, you can't just treat it as a tuple and assign to a single variable like in python Named return values Example func div(num int, denom int) (result int, err error) {...} Advantage is that you are pre-declaring that those variables are present in the function and initialized to default values. On the calling side, feel free to use any other name. Blank returns Example return Warning Don't use! It returns the last value of a named return variable.. not idiomatic and prone to cause confusion. Passing functions Here's a simple example: func main() { var opMap = map[string]func(int, int) int{ \"+\": add, \"-\": sub, } opFunc := opMap[\"+\"] res := opFunc(5, 10) fmt.Println(res) } func add(i int, j int) int { return i + j } func sub(i int, j int) int { return i - j } Warning The example above is pretty poor. You would have quite a bit more error correction in the real world Function Type Declarations type opFuncType func(int, int) int More to come later but it's essentially like above. That would make the map in the above example much simpler: var opMap = map[string]opFuncType {...} Anonymous functions i := 10 func(j int) { fmt.Println(\"inside anon function\", j) }(i) Useful while launching goroutines or with defer Closures Functions inside functions. They can use and modify variables from the outer function. type Person struct { name string age int } people := []Person{ {\"asha\", 7}, {\"sid\", 5}, } fmt.Println(people) sort.Slice(people, func(i int, j int) bool { return people[i].age < people[j].age }) fmt.Println(people) Here, sort.Slice() gets a function with 2 parameters i and j but it has access to people as well. You can even return a function from another function: func main() { f1 := makeMult(10) fmt.Println(f1(20)) } func makeMult(base int) func(int) int { return func(factor int) int { return base * factor } } Note All of above are Higher-order functions , i.e. those that take a function as a parameter, or as a return value defer Here is a simple cat implementation. It uses defer to close file handles. defer is used to run something at the end of a function, whether it ran successfully or not. package main import ( \"io\" \"log\" \"os\" ) func main() { // simple `cat` implementation if len(os.Args) < 2 { log.Fatal(\"No file specified\") } f, err := os.Open(os.Args[1]) if err != nil { log.Fatal(err) } defer f.Close() data := make([]byte, 2048) for { count, err := f.Read(data) os.Stdout.Write(data[:count]) if err != nil { if err != io.EOF { log.Fatal(err) } break } } } Note that if that function that you defer returns some values, there is no way to actually read and use them. Another good pattern is to write your own cleanup function and then pass it to defer. E.g. if interacting with a DB, you may want to either commit or rollback everything at the end. Another pattern is to return a closure function alongside the usual content and error. That way the caller can call it themselves in their defer. Example: func getFile(n string) (f os.File*, func(), error) {...} So that the caller can do this: f, cleanup, err := getFile(\"/etc/passwd\") // check for err defer cleanup() // do the rest call by value Anything you pass as a parameter is copied. Making modifications to it will NOT stick, if you pass a struct or int or string. If you pass a map or slice, you can modify the content but not the size. Pointers Example: var y int32 = 10 pointerx := &y //pointerx's content is now y's address var pointerz *string //nil pointer, doesn't point to anything Differences from other languages: No memory management No pointer arithmetic & is an address operator that returns the address of that variable. * is the indirection operator. Using it returns the value in that address. Called derefencing . Example: var x int = 10 pointerY := &x var z int = x + *pointerY fmt.Println(z) Always do a null check! var nilPointer *int if nilPointer != nil { fmt.Println(*nilPointer) // panic here } new creates a new null pointer, but is not used much: var x = new(int) You cannot point to builtins like ints and strings directly. You will need to assign them to a variable and then make a pointer of that variable. Pointers in structs are a pain for this reason, you cannot assign a string or int directly to them. A good pattern is to have a helper function that basically takes each type and returns a pointer to that type: func stringp(s string) *string { return &s } Use Pointers to indicate mutability in a function. Since go is call by value, a copy is always made of the paramter passed to the function, and any change you make inside are not going to reflect on the outside. The above note is for primitives, structs, and arrays. More to come on maps and slices. Anyway, a better pattern is to just return the modified content rather than modify it via pointers. Commonly used in json parsing though. Note If you pass a nil pointer to a function, it cannot modify it. You can only a modify a pointer that has valid content. Json parsing type person struct { Name string `json:\"name\"` Age int `json:\"age\"` } var f person err := json.Unmarshal( []byte(`{\"name\":\"arunsrin\",\"age\":38}`), &f) fmt.Println(f, err) The json library expects an interface{} in the second parameter since it cannot anticipate the type. So the value passed to it has to be a pointer. The lack of generics has led to the above pattern become a norm in this use case. There is a perf hit if you use pointers for small data. Becomes an advantage only for large structs (~mb). Maps vs slices A map is internally implemented as a pointer to a struct. So when passing maps to functions and modifying them inside, you would see a change on the outside as well. So avoid using maps, especially for public consumption. Slices are more complicated when passed as parameters to functions: Change in values are reflected But appending to a slice is not affected This is because when passed to the function, a copy of the length , capacity and pointer are made. So a change in content is because of the pointer pointing to the same common content. But an append results in an increase in length and capacity of the copy and not the original. Note Because of all the above it is simply best to assume that a slice is not modifiable. Using slices as buffers A good pattern is to make a single slice of fixed size and use it in a loop while processing I/O. This is better than allocating memory for each chunk, which leads to the GC having to do a lot of work. Here is an example: package main import ( \"fmt\" \"os\" ) func main() { file, _ := os.Open(\"/etc/passwd\") defer file.Close() data := make([]byte, 100) for { count, err := file.Read(data) if err != nil { break } if count == 0 { break } process(data[:count]) } } func process(d []byte) { fmt.Print(string(d)) } As you can see, data is declared once and reused repeatedly when it is passed to process() . While the length cannot be modified, process() can change the content that was sent to it. Types, methods, interfaces An abstract type specifies what a type should do, not how it is done. A concrete type specifies what and how. Here's a function attached to a struct: func main() { c := ComplexNumber{3.55, 10} fmt.Println(c.toString()) } type ComplexNumber struct { Real float32 Imaginary float32 } func (c ComplexNumber) toString() string { return fmt.Sprintf(\"%0.1f + %0.1f i\", c.Real, c.Imaginary) } You can attach the same method name to different types. The bit between func and the name toString() is called the receiver spec. You should use a pointer receiver if you intend to mutate it (or handle nil instanes). Otherwise use a simple value receiver. Also the function has to be in the same package level. You can't take a type from some package and override with a function in yours. Modified version of the above with 1 pointer receiver and the other normal receiver: func main() { c := ComplexNumber{3.55, 10} fmt.Println(c.toString()) c.increment() //observe that you didn't have to do &c.increment() here. Go does it automatically fmt.Println(c.toString()) } type ComplexNumber struct { Real float32 Imaginary float32 } func (c ComplexNumber) toString() string { return fmt.Sprintf(\"%0.1f + %0.1f i\", c.Real, c.Imaginary) } func (c *ComplexNumber) increment() { c.Real++ c.Imaginary++ } Note getters and setters are not idiomatic. Just access directly. iota Equivalent of enums. Seems pretty crippled, ignore. Initializes to 0 and auto-increments from there on. type MailCategory int const ( Uncategorized MailCategory = iota Personal Spam Social Advertisements ) x := Spam fmt.Println(x) Inheritance Not exactly. But you can embed a type in another. So the former's methods can be accessed in the outer type seamlessly. Interfaces Example: type Stringer interface { String() string } Here, an implementation must implement a String() method. Idiom is to end the name with er e.g. Stringer() , Closer . A concrete type does not need to declare that it implements a particular interface, it implicitly happens. Like python's duck typing. !!note Idiom: Accept interfaces, return structs interfaces and nil For an interface to be nil, both the type and the value must be nil. When the type is non-nil, it apparently is not straightforward to tell if the value is nil. Reflection helps here. empty interfaces They map to anything in go, and main use case is for open-ended stuff like json parsing. var i interface{} //empty interface i = 10 i = \"hello\" i = struct { FirstName string LastName string } {\"A\", \"S\"} So in the json parsing case you'd see something like this: data := map[string]interface{}{} The first {} is for making an empty interface, the second {} is for instantiating a map instance. Type assertions and type switches type MyInt int func main() { var i interface{} var mine MyInt = 20 i = mine // i2 := i Fails in last line with error `(mismatched types interface {} and int)` i2 := i.(MyInt) fmt.Println(i2 + 1) } Basically here we tell that i2 is of type MyInt . This is a type assertion not a conversion . Happens only at runtime unlike latter which is compile-type. So use the comma-ok pattern to catch the failure. func doThings(i interface{}) { switch j := i.(type) { case nil: // i is nil, type of j is interface{} case int: // j is of type int case MyInt: // j is of type MyInt case io.Reader: // j is of type io.Reader case bool, rune: // i is either bool or rune, so j is of type inteface{} default: // no idea what i is, so j is of type interface{} } } People usually shadow the variable i.e. i := i.(type) In the above we had some estimates of the types. If you don't know the type at all, use Reflection. WebApp example Too long to print here. Here it is. Errors Always return an error as the last return value. Simple example: func calcRemainderAndMod(num, denom int) (int, int, error) { if denom == 0 { return 0, 0, errors.New(\"denom is 0\") } return num / denom, num % denom, nil } Note No capitalization, punctuation, newlines in error strings. Reasons for returning instead of throwing: - Simpler code paths - Force developers to check and handle natively since all variables must be read in go Alternate way Rather than errors.New(\"some message\") , one can also do this: fmt.ErrorF(\"%d isn't even\", i) Sentinel Errors Their names start with Err by convention, and indicate that no further processing is possible. Example: the zip package has zip.ErrFormat . Once declared, it is part of the public API of your package. So use carefully, or just pick one that's already there. Looks messy actually, just don't do it. Adding more info Since the error interface is just a string: type error interface { Error() string } You can extend it quite easily like so: struct MyError { StatusCode int Message string } And use it in your code like this: return nil, MyError{ StatusCode: 400, Message: fmt.Sprintf(\"bad request %s\", uid) } Wrapping errors You can chain your information to a downstream error using fmt.Errorf 's %w verb. On the receiving side you can unwrap with errors.Unwrap . But you would'nt usually do this. Instead, use errors.Is and errors.As . Once you wrap something, you can't compare and check if a certain Sentinel Error occurred. This is where errors.Is helps. It iterates throught the error chain and tells you if a match is found. if err != nil { if errors.Is(err, os.ErrNotExist) { fmt.Println(\"That file doesn't exist\") } } You can also implement Is() in your custom Error Type and do your own pattern matching implementation. errors.As lets you check if a returned error matches a certain type. err := AFunctionThatReturnsAnError() var myErr MyErr if errors.As(err, &myErr) { fmt.Println(myErr.Code) } Second argument sould either be a pointer to an error, or a pointer to an interface. Don't use this unless you know what you're doing. panic and recover When a panic happens: - current function exits immediately - all its defers run - then all the defers of the calling function run, and so on - finally when main is reached, the program exits with a message and stacktrace You can call panic in your code, usually with a string. func main() { doPanic(\"goodbyeee\") } func doPanic(msg string) { panic(msg) } You can call a recover inside a defer to halt the panic and continue execution. In the following example, division by zero does not kill the program, it continues to the next iteration: func main() { for _, val := range []int{1, 2, 0, 6} { div60(val) } } func div60(i int) { defer func() { if v := recover(); v != nil { fmt.Println(v) } }() fmt.Println(60 / i) } Modules, Packages, Imports Core concepts: repositories - where in VCS you'd store your code modules - root of a Go library or app packages - modules consist of one or more of these Modules should be globally unique, like Java's packages. Convention is to have the repo e.g. github.com/arunsrin/blah Have a go.mod in the root directory to declare a module. Use the go mod command to manage this file. learninggo/ch09/my1stmodule \u276f go mod init github.com/arunsrin/example01/v2 go: creating new go.mod: module github.com/arunsrin/example01/v2 learninggo/ch09/my1stmodule via \ue627 v1.16.5 \u276f cat go.mod module github.com/arunsrin/example01/v2 go 1.16 learninggo/ch09/my1stmodule via \ue627 v1.16.5 \u276f A require section declares your dependencies. E.g. require ( github.com/learning-go-book/formatter v0.0.0-20200921021027-5abc380940ae github.com/shopspring/decimal v1.2.0 ) A replace section let's you override a module's location, and an exclude section prevents a specific version from being used. Packages Say you have 2 packages, formatter and math in 2 subfolders in your module. Use them with the full path in your main.go like so: import ( \"fmt\" \"github.com/learning-go-book/package_example/formatter\" \"github.com/learning-go-book/package_example/math\" ) Warning However tempting it may be, don't use relative paths. Your packages should declare the package name as the first line, e.g. package formatter . Usually this is same as your directory name. Use good naming conventions: - Bad: util.ExtractNames , util.FormatNames - Good: extract.Names , format.Names Good module conventions Create a cmd/ directory, with one sub-folder for each binary built from the module. All other go code go into packages inside a pkg/ directory. Overrides Example: Both crypto/rand and math/rand exist. So the equivalent of python's import blah as blah2 is: import ( crand \"crypto/rand\" \"encoding/binary\" \"fmt\" \"math/rand\" ) godoc Place the comment above the thing being documented, with no new lines in between. Before the package declaration: package-level comments. internal Packages When defines as internal , everything exported by that Package is only visible to other sibling packages. init Function Avoid. A function called init() with no parameters and return values. Gets run the first time a package is referenced by another. Check available versions of a module go list -m -versions github.com/learning-go-book/simpletax To downgrade to a specific version: go get github.com/learning-go-book/simpletax@v1.0.0 Major versions For all versions apart from 0 and 1, the module path must end in vN where N is the major version. E.g. \"github.com/learning-go-book/simpletax/v2\" In the code itself you can do one of these 2: - Create a sub-directory called v2 or whatever and copy your README, LICENSE fiiles. - Create a branch called v2 or keep version 2 in master and create a branch called v1 for the legacy version. Vendoring Keep copies of dependencies inside your module. go mod vendor Module Proxy Server go's mirror. First tries there, and downloads and caches if not present. Google also maintains a sum database that has version information. Protects from malicious version modifications. Alternates to this default behaviour: - Use a different proxy server like JFrog's GoCenter - To do this, export GOPROXY=\"https://gocenter.io,direct\" - Disable the behaviour: export GOPROXY=direct - Run your own Private proxy servers Set GOPRIVATE : export GOPRIVATE=*.example.com,company.com/repo Anything matching the above will be downloaded directly. Standard Library Useful stuff from the standard library strconv.Atoi : convert \"5\" to 5 From math/rand : rand.Intn(10) returns a random number between 0 and 10. Seed is fixed though so look deeper os.Args like python's sys.argv Third Party Useful stuff from the ecosystem. Search in this page for details. go install github.com/rakyll/hey@latest go install golang.org/x/tools/cmd/goimports@latest go install golang.org/x/lint/golint@latest go install golang.org/x/tools/go/analysis/passes/shadow/cmd/shadow@latest The equivalent of pypi here is pkg.go.dev . It automatically indexes open-source go projects. References Learning Go, by Jon Bodner Queued official code review comments Effective Go Inside the Map implementation, video","title":"\ud83d\udc39 Go"},{"location":"notes/programming/go/#go","text":"Notes from the book Learning Go , by Jon Bodner.","title":"\ud83d\udc39 Go"},{"location":"notes/programming/go/#setup-environment","text":"","title":"Setup, Environment"},{"location":"notes/programming/go/#difference-between-go-get-and-go-install","text":"See here . Basically go get downloads the source to $GOPATH/src along with the dependencies, and the latter compiles. go install is recommended. Ignore go get .","title":"Difference between go get and go install:"},{"location":"notes/programming/go/#hey","text":"hey for load testing http services. Install with: go install github.com/rakyll/hey@latest","title":"Hey"},{"location":"notes/programming/go/#vi","text":"Install vim-go: it comes with a massive set of tools.","title":"Vi"},{"location":"notes/programming/go/#goimports","text":"goimports for some neat stuff that gofmt doesn't do. Install with: go install golang.org/x/tools/cmd/goimports@latest And run with: goimports -l -w . Vi: Just save it.","title":"goimports"},{"location":"notes/programming/go/#linting-with-golint","text":"Install: go install golang.org/x/lint/golint@latest Run: golint ./... Vi: :GoLint","title":"Linting with golint"},{"location":"notes/programming/go/#sa-with-govet","text":"Run: go vet ./... Vi: :GoVet This does not catch subtle bugs around shadow variables. So consider installing shadow as well: Install: go install golang.org/x/tools/go/analysis/passes/shadow/cmd/shadow@latest Run: shadow ./...","title":"SA with govet"},{"location":"notes/programming/go/#combine-golint-govet-with-golangci-lint","text":"This tool runs 10 different linters by default and support dozens others. Install: see official docs Run: golangci-lint run","title":"Combine golint, govet with golangci-lint"},{"location":"notes/programming/go/#vim-go-notes","text":"Code completion is with Ctrl-x Ctrl-o :Tagbar is bound to F8 :GoDef is bound to gd : GoDefStack shows you how deep you've jumped, GoDefPop or Ctrl-T just pops to the last hop","title":"vim-go notes"},{"location":"notes/programming/go/#sample-makefile","text":".DEFAULT_GOAL := build fmt: go fmt ./... .PHONY:fmt lint: fmt golint ./... .PHONY:lint vet: fmt go vet ./... shadow ./... .PHONY:vet build: vet go build hello.go .PHONY:build","title":"Sample makefile"},{"location":"notes/programming/go/#basic-types","text":"","title":"Basic Types"},{"location":"notes/programming/go/#type-conversions","text":"Very strict here unlike JS / python. One can't just treat non-empty strings like \"asd\" as true for example. No other type can be converted to a bool, even explicitly. The way to do that is to use comparison operators (==, !=, >=, <=). e.g. x == 0 will return true or false .","title":"Type Conversions"},{"location":"notes/programming/go/#var-versus","text":"Most verbose way: var x int = 10 Since the default type of an integer is int , we can omit that: var x = 10 And since the default value is 0, we can also do this: var x int Multiple variables can be declared like this: var x, y int = 10, 20 Even if types differ: var x, y = 10, \"hello\" For even more in one go, do this: var ( x int y = 20 z int = 30 d, e = 50, \"hello\" f, g string ) Inside a function, you can use := when you want go to infer the type. var x = 10 becomes x := 10 Or x, y := 10, \"Hello\" And so on.. The main difference here is that you can reassign to existing variables too. Recommendations / Idioms: Don't declare variables at the package level, especially if they change later. Keep only immutable variables there, and the rest inside functions. Don't use := with type conversions, just use var there. If initialization to 0 is expected, use var x int instead of x := 0 .","title":"var versus :="},{"location":"notes/programming/go/#const","text":"Only works at compile time, so can only be assigned to: Numeric literals true and false Strings Runes (A rune is a single unicode character I think) Other built-ins: complex, real, imag, len, cap Expressions that consist of operators and the preceding values So there's no way of specifying that a value calculated at runtime is immutable. Nor are there immutable arrays, slices, maps or structs. Tip Keep a const untyped so you have more flexbility. const x = 10 let's you later do this: var y int = x var z float64 = x var d byte = x As you'd expect, doing something like const x int64 = 0 can only let you assign that const to another int64.","title":"const"},{"location":"notes/programming/go/#unused-variables","text":"Not applicable to const's since these are detected and stubbed out from the final binary. For normal vars though, its a compilation error to declare a var and not use it.","title":"Unused variables"},{"location":"notes/programming/go/#composite-types","text":"","title":"Composite Types"},{"location":"notes/programming/go/#arrays","text":"Rigid, don't use directly. var x [3]int // Default 0's var x = [3]int{10, 20, 30} Sparse arrays: 0's are filled for the positions not specified: var x = [12]int{1,5:4,6,10:100,15} // this creates {1,0,0,0,0,4,6,0,0,0,100,15} var x = [...]int{10,20,30} // tell go to fill in the size var x [2][3]int // multi-dimensional. Poor matrix support, avoid. Find the size with len(arr) . Limitations: The size is part of the type, so an [3]int is not the same type as a [4]int . So you CANNOT use a variable to specify the size of an array, because types must be resolved at compile time. Big limitation of arrays. One CANNOT use a type conversion to convert arrays of different sizes to identical types. Because of this, you can't write a function that works with arrays of unspecified sizes, nor can you assign arrays of different sizes to the same variable. Really just don't use this. Arrays are backing stores for slices and this is what you'd want to use.","title":"Arrays"},{"location":"notes/programming/go/#slices","text":"Length is /not/ part of the type. You don't specify the size when declaring: var x = []int{10, 20, 30} //Note that in an array you'd do [...] instead Similarly: var x = []int{1, 5:4, 6, 10:100, 15} var x [][]int Empty slice: var x []int // Since no value is assigned, x is assigned nil Note Slices aren't comparable with each other with == , != etc. Only with nil . Use reflect.DeepEqual if you want to compare two slices. Use append to grow a slice: var x []int x = append(x, 10) x = append(x, 11, 12) To flatten one slice and append its values to another, use ... : y := []int{20, 30, 40} x = append(x, y...) Note Observe that we assign the value returned by append . This is because Go is call-by-value. Every time you pass a parameter to a function, Go makes a copy. So append works on the copy and returns it back to the caller. So we re-assign the new value to that variable.","title":"Slices"},{"location":"notes/programming/go/#capacity","text":"The Go runtime will increase the size of a slice when the number of elements exceeds the default allocation, e.g. by doubling it or increasing by 25%, based on the number of elements that are already there. The built-in function cap returns the current capacity of the slice, and make is used to create a new slice.","title":"capacity"},{"location":"notes/programming/go/#make","text":"Like malloc. Will create a slice of fixed capacity and length, and initialize to 0. x := make([]int, 5) Warning You can NOT use append to populate contents after a make like this. Reason: make will zero fill the slice and append will add the new values to the end. append always increases the length of a slice. To specify initial capacity as well: x := make([]int, 6, 10) x := make([]int, 0, 10) // 0 length but 10 capacity Runtime panic if you initialize a slice with a variable for the capacity and it turns out to be lesser than length. Or compile time if you do it with literals.","title":"make"},{"location":"notes/programming/go/#idiomatic-way-of-declaring-slices","text":"var data []int // if you expect it to stay nil. Has 0 length var x = []int{} // empty slice literal i.e. non-nil data := []int{2, 4, 6, 8} // if you feel the values aren't going to change Use make when you have a good idea of the size. When unsure, use a zero length slice with a specified capacity so that append works easily.","title":"idiomatic way of declaring slices"},{"location":"notes/programming/go/#slicing","text":"Similar to python. But does NOT copy the data. You get two variables that share the same data. This gets really messy when you append to a sliced slice :( The sub-slice shares the capacity of the main slice, so unused capacity in the original slice is used when you do the append. Warning Never use append with subslices. If you have to, use it with a full slice expression , which includes a third arg that specifies the last position in the parent slice's capacity that's available of the subslice. E.g. y := x[2:4:4] //Subslice y does not share anything beyond the 4th position with the parent.","title":"slicing"},{"location":"notes/programming/go/#copy","text":"Safe way of creating an independent slice. x := []int{1,2,3,4} y := make([]int, 4} num := copy(y, x) // Returns number of elements copied. Y is the target slice. fmt.Println(y, num) // Prints [1 2 3 4] 4","title":"copy"},{"location":"notes/programming/go/#strings-runes-bytes","text":"UTF-8, unless specified. len() gives you the raw byte length not the grapheme length. byte is the underlying structure, rune is the UTF code point, and string is what the user sees.","title":"Strings, runes, bytes"},{"location":"notes/programming/go/#maps","text":"Make a map where key is a string, value is an int: m0 := map[string]int{} m0[\"asd\"] = 1 Set values up front: m1 := map[string]int{ \"hello\": 1, \"world\": 2, } for the above, extract and test like this: v, ok := m1[\"hello\"] fmt.Println(v, ok) // Returns, 1 true v, ok := m1[\"does-not-exist\"] fmt.Println(v, ok) // Returns, 0 false i.e. Value stored in the map is 1 and there is indeed a value present for that map (stored in the ok variable) delete(m1, \"hello\") deletes that key/value.","title":"Maps"},{"location":"notes/programming/go/#sets","text":"Don't exist natively but you can make a map with bool values to get a similar data structure. myset := map[int]bool{} vals := []int{1, 3, 5, 7, 1, 10, 11, 3} for _, v := range vals { myset[v] = true } Use third-party libraries for Union, Intersection, etc.","title":"Sets"},{"location":"notes/programming/go/#structs","text":"type person struct { name string empid int } var e1 person e1.name = \"arun\" e1.empid = 12345 // or e2 := person{\"sid\", 5678}","title":"Structs"},{"location":"notes/programming/go/#anonymous-struct","text":"pet := struct { name string age int }{name: \"shadow\", age: 10} Note Type conversions between 2 structs are ONLY possible if order and names and types all match.","title":"Anonymous struct"},{"location":"notes/programming/go/#blocks","text":"Anything outside a function is in the package block. Anything you call with an import from another file is in the file block. And things within functions are in their blocks. There is also a universe block that contains all the built-in types and functions like true and int and make . Warning Variables with the same name in an inner scope are shadowed . So any change you make are not retained once Go moves back to the outer scope. x := 10 if x > 5 { fmt.Println(x) // 10, from outer scope x := 5 // new shadow variable fmt.Println(x) // 5 } fmt.Println(x) // You'd want it to be 5, but it's 10 The use of := makes it easy to miss this, which reuses variables only in the current block. Consider installing shadow which catches this kind of thing: code/learninggo/ch04 via \ue627 v1.16.3 \u276f shadow blocks.go /home/arunsrin/code/learninggo/ch04/blocks.go:9:3: declaration of \"x\" shadows declaration at line 6 code/learninggo/ch04 via \ue627 v1.16.3 \u276f","title":"Blocks"},{"location":"notes/programming/go/#if","text":"Fairly obvious. Also, let's you define a variable inside the if condition that you can then use in the rest of the block.","title":"if"},{"location":"notes/programming/go/#for","text":"Simple, C-style: for i := 0; i < 5; i++ { fmt.Println(i) } Must use := to initiatlize, var will not work. No parens Condition-only style: for i > 0 { fmt.Println(i) i-- } Infinite style: for { fmt.Println(\"loop forever\") } Use with break and continue for-range style: x := []int{100, 200, 300} for i, v := range x { fmt.Println(i, v) } i gives the iteration, and v the value When looping through a map, i gives the key instead Use _ if you don't plan to use that variable in the loop Iteration over maps is random, no fixed order is guaranteed If you loop over a string, each element will be a rune , not a byte The i value will jump by that many bytes to indicate that a non-ascii UTF symbol was detected for copies i and v and gives it to you. So modifying it will not modify the upstream value you're iterating through.","title":"for"},{"location":"notes/programming/go/#switch","text":"Example: words := []string{\"a\", \"cow\", \"gopher\", \"smile\", \"octopus\", \"anthropologist\"} for _, word := range words { switch size := len(word); size { case 1, 2, 3, 4: fmt.Println(word, \" is a short word\") case 5: wordLen := len(word) fmt.Println(word, \" is the right length: \", wordLen) case 6, 7, 8, 9: default: fmt.Println(word, \" is a long word\") } } No break needed Each switch case is a scope, introduce new variables there and they will be accessible only in that case In an empty case, nothing happens . There is no fall-through to the next case Rather, use commas to combine multiple cases that have the same logic break in a switch case will only break out of that case. Use labels to actually break out of the outer loop","title":"switch"},{"location":"notes/programming/go/#blank-switch","text":"In the previous example, size compared with each case statement, and, if equal, that case is executed. In a blank switch, you could run any condition in the case, not just equality","title":"Blank switch"},{"location":"notes/programming/go/#functions","text":"No named or optional functional parameters.","title":"Functions"},{"location":"notes/programming/go/#variadic-functions","text":"Exception is when it's at the end: func blah(base int, rest ...int) Use it in the function as a normal slice It can be skipped or called with any number of args func main() { blah(1, 2) blah(1) lotsOfArgs := []int{2, 3, 4} blah(1, lotsOfArgs...) //Note trailing ... for slice } func blah(base int, rest ...int) { fmt.Println(\"Received this many rest args\", len(rest)) }","title":"Variadic functions"},{"location":"notes/programming/go/#mutliple-return-values","text":"Example func div(num int, denom int) (int, error) {...} Fairly common pattern to return the actual response followed by an error type Note Has to be assigned to each variable on the calling side, you can't just treat it as a tuple and assign to a single variable like in python","title":"Mutliple return values"},{"location":"notes/programming/go/#named-return-values","text":"Example func div(num int, denom int) (result int, err error) {...} Advantage is that you are pre-declaring that those variables are present in the function and initialized to default values. On the calling side, feel free to use any other name.","title":"Named return values"},{"location":"notes/programming/go/#blank-returns","text":"Example return Warning Don't use! It returns the last value of a named return variable.. not idiomatic and prone to cause confusion.","title":"Blank returns"},{"location":"notes/programming/go/#passing-functions","text":"Here's a simple example: func main() { var opMap = map[string]func(int, int) int{ \"+\": add, \"-\": sub, } opFunc := opMap[\"+\"] res := opFunc(5, 10) fmt.Println(res) } func add(i int, j int) int { return i + j } func sub(i int, j int) int { return i - j } Warning The example above is pretty poor. You would have quite a bit more error correction in the real world","title":"Passing functions"},{"location":"notes/programming/go/#function-type-declarations","text":"type opFuncType func(int, int) int More to come later but it's essentially like above. That would make the map in the above example much simpler: var opMap = map[string]opFuncType {...}","title":"Function Type Declarations"},{"location":"notes/programming/go/#anonymous-functions","text":"i := 10 func(j int) { fmt.Println(\"inside anon function\", j) }(i) Useful while launching goroutines or with defer","title":"Anonymous functions"},{"location":"notes/programming/go/#closures","text":"Functions inside functions. They can use and modify variables from the outer function. type Person struct { name string age int } people := []Person{ {\"asha\", 7}, {\"sid\", 5}, } fmt.Println(people) sort.Slice(people, func(i int, j int) bool { return people[i].age < people[j].age }) fmt.Println(people) Here, sort.Slice() gets a function with 2 parameters i and j but it has access to people as well. You can even return a function from another function: func main() { f1 := makeMult(10) fmt.Println(f1(20)) } func makeMult(base int) func(int) int { return func(factor int) int { return base * factor } } Note All of above are Higher-order functions , i.e. those that take a function as a parameter, or as a return value","title":"Closures"},{"location":"notes/programming/go/#defer","text":"Here is a simple cat implementation. It uses defer to close file handles. defer is used to run something at the end of a function, whether it ran successfully or not. package main import ( \"io\" \"log\" \"os\" ) func main() { // simple `cat` implementation if len(os.Args) < 2 { log.Fatal(\"No file specified\") } f, err := os.Open(os.Args[1]) if err != nil { log.Fatal(err) } defer f.Close() data := make([]byte, 2048) for { count, err := f.Read(data) os.Stdout.Write(data[:count]) if err != nil { if err != io.EOF { log.Fatal(err) } break } } } Note that if that function that you defer returns some values, there is no way to actually read and use them. Another good pattern is to write your own cleanup function and then pass it to defer. E.g. if interacting with a DB, you may want to either commit or rollback everything at the end. Another pattern is to return a closure function alongside the usual content and error. That way the caller can call it themselves in their defer. Example: func getFile(n string) (f os.File*, func(), error) {...} So that the caller can do this: f, cleanup, err := getFile(\"/etc/passwd\") // check for err defer cleanup() // do the rest","title":"defer"},{"location":"notes/programming/go/#call-by-value","text":"Anything you pass as a parameter is copied. Making modifications to it will NOT stick, if you pass a struct or int or string. If you pass a map or slice, you can modify the content but not the size.","title":"call by value"},{"location":"notes/programming/go/#pointers","text":"Example: var y int32 = 10 pointerx := &y //pointerx's content is now y's address var pointerz *string //nil pointer, doesn't point to anything Differences from other languages: No memory management No pointer arithmetic & is an address operator that returns the address of that variable. * is the indirection operator. Using it returns the value in that address. Called derefencing . Example: var x int = 10 pointerY := &x var z int = x + *pointerY fmt.Println(z) Always do a null check! var nilPointer *int if nilPointer != nil { fmt.Println(*nilPointer) // panic here } new creates a new null pointer, but is not used much: var x = new(int) You cannot point to builtins like ints and strings directly. You will need to assign them to a variable and then make a pointer of that variable. Pointers in structs are a pain for this reason, you cannot assign a string or int directly to them. A good pattern is to have a helper function that basically takes each type and returns a pointer to that type: func stringp(s string) *string { return &s } Use Pointers to indicate mutability in a function. Since go is call by value, a copy is always made of the paramter passed to the function, and any change you make inside are not going to reflect on the outside. The above note is for primitives, structs, and arrays. More to come on maps and slices. Anyway, a better pattern is to just return the modified content rather than modify it via pointers. Commonly used in json parsing though. Note If you pass a nil pointer to a function, it cannot modify it. You can only a modify a pointer that has valid content.","title":"Pointers"},{"location":"notes/programming/go/#json-parsing","text":"type person struct { Name string `json:\"name\"` Age int `json:\"age\"` } var f person err := json.Unmarshal( []byte(`{\"name\":\"arunsrin\",\"age\":38}`), &f) fmt.Println(f, err) The json library expects an interface{} in the second parameter since it cannot anticipate the type. So the value passed to it has to be a pointer. The lack of generics has led to the above pattern become a norm in this use case. There is a perf hit if you use pointers for small data. Becomes an advantage only for large structs (~mb).","title":"Json parsing"},{"location":"notes/programming/go/#maps-vs-slices","text":"A map is internally implemented as a pointer to a struct. So when passing maps to functions and modifying them inside, you would see a change on the outside as well. So avoid using maps, especially for public consumption. Slices are more complicated when passed as parameters to functions: Change in values are reflected But appending to a slice is not affected This is because when passed to the function, a copy of the length , capacity and pointer are made. So a change in content is because of the pointer pointing to the same common content. But an append results in an increase in length and capacity of the copy and not the original. Note Because of all the above it is simply best to assume that a slice is not modifiable.","title":"Maps vs slices"},{"location":"notes/programming/go/#using-slices-as-buffers","text":"A good pattern is to make a single slice of fixed size and use it in a loop while processing I/O. This is better than allocating memory for each chunk, which leads to the GC having to do a lot of work. Here is an example: package main import ( \"fmt\" \"os\" ) func main() { file, _ := os.Open(\"/etc/passwd\") defer file.Close() data := make([]byte, 100) for { count, err := file.Read(data) if err != nil { break } if count == 0 { break } process(data[:count]) } } func process(d []byte) { fmt.Print(string(d)) } As you can see, data is declared once and reused repeatedly when it is passed to process() . While the length cannot be modified, process() can change the content that was sent to it.","title":"Using slices as buffers"},{"location":"notes/programming/go/#types-methods-interfaces","text":"An abstract type specifies what a type should do, not how it is done. A concrete type specifies what and how. Here's a function attached to a struct: func main() { c := ComplexNumber{3.55, 10} fmt.Println(c.toString()) } type ComplexNumber struct { Real float32 Imaginary float32 } func (c ComplexNumber) toString() string { return fmt.Sprintf(\"%0.1f + %0.1f i\", c.Real, c.Imaginary) } You can attach the same method name to different types. The bit between func and the name toString() is called the receiver spec. You should use a pointer receiver if you intend to mutate it (or handle nil instanes). Otherwise use a simple value receiver. Also the function has to be in the same package level. You can't take a type from some package and override with a function in yours. Modified version of the above with 1 pointer receiver and the other normal receiver: func main() { c := ComplexNumber{3.55, 10} fmt.Println(c.toString()) c.increment() //observe that you didn't have to do &c.increment() here. Go does it automatically fmt.Println(c.toString()) } type ComplexNumber struct { Real float32 Imaginary float32 } func (c ComplexNumber) toString() string { return fmt.Sprintf(\"%0.1f + %0.1f i\", c.Real, c.Imaginary) } func (c *ComplexNumber) increment() { c.Real++ c.Imaginary++ } Note getters and setters are not idiomatic. Just access directly.","title":"Types, methods, interfaces"},{"location":"notes/programming/go/#iota","text":"Equivalent of enums. Seems pretty crippled, ignore. Initializes to 0 and auto-increments from there on. type MailCategory int const ( Uncategorized MailCategory = iota Personal Spam Social Advertisements ) x := Spam fmt.Println(x)","title":"iota"},{"location":"notes/programming/go/#inheritance","text":"Not exactly. But you can embed a type in another. So the former's methods can be accessed in the outer type seamlessly.","title":"Inheritance"},{"location":"notes/programming/go/#interfaces","text":"Example: type Stringer interface { String() string } Here, an implementation must implement a String() method. Idiom is to end the name with er e.g. Stringer() , Closer . A concrete type does not need to declare that it implements a particular interface, it implicitly happens. Like python's duck typing. !!note Idiom: Accept interfaces, return structs","title":"Interfaces"},{"location":"notes/programming/go/#interfaces-and-nil","text":"For an interface to be nil, both the type and the value must be nil. When the type is non-nil, it apparently is not straightforward to tell if the value is nil. Reflection helps here.","title":"interfaces and nil"},{"location":"notes/programming/go/#empty-interfaces","text":"They map to anything in go, and main use case is for open-ended stuff like json parsing. var i interface{} //empty interface i = 10 i = \"hello\" i = struct { FirstName string LastName string } {\"A\", \"S\"} So in the json parsing case you'd see something like this: data := map[string]interface{}{} The first {} is for making an empty interface, the second {} is for instantiating a map instance.","title":"empty interfaces"},{"location":"notes/programming/go/#type-assertions-and-type-switches","text":"type MyInt int func main() { var i interface{} var mine MyInt = 20 i = mine // i2 := i Fails in last line with error `(mismatched types interface {} and int)` i2 := i.(MyInt) fmt.Println(i2 + 1) } Basically here we tell that i2 is of type MyInt . This is a type assertion not a conversion . Happens only at runtime unlike latter which is compile-type. So use the comma-ok pattern to catch the failure. func doThings(i interface{}) { switch j := i.(type) { case nil: // i is nil, type of j is interface{} case int: // j is of type int case MyInt: // j is of type MyInt case io.Reader: // j is of type io.Reader case bool, rune: // i is either bool or rune, so j is of type inteface{} default: // no idea what i is, so j is of type interface{} } } People usually shadow the variable i.e. i := i.(type) In the above we had some estimates of the types. If you don't know the type at all, use Reflection.","title":"Type assertions and type switches"},{"location":"notes/programming/go/#webapp-example","text":"Too long to print here. Here it is.","title":"WebApp example"},{"location":"notes/programming/go/#errors","text":"Always return an error as the last return value. Simple example: func calcRemainderAndMod(num, denom int) (int, int, error) { if denom == 0 { return 0, 0, errors.New(\"denom is 0\") } return num / denom, num % denom, nil } Note No capitalization, punctuation, newlines in error strings. Reasons for returning instead of throwing: - Simpler code paths - Force developers to check and handle natively since all variables must be read in go","title":"Errors"},{"location":"notes/programming/go/#alternate-way","text":"Rather than errors.New(\"some message\") , one can also do this: fmt.ErrorF(\"%d isn't even\", i)","title":"Alternate way"},{"location":"notes/programming/go/#sentinel-errors","text":"Their names start with Err by convention, and indicate that no further processing is possible. Example: the zip package has zip.ErrFormat . Once declared, it is part of the public API of your package. So use carefully, or just pick one that's already there. Looks messy actually, just don't do it.","title":"Sentinel Errors"},{"location":"notes/programming/go/#adding-more-info","text":"Since the error interface is just a string: type error interface { Error() string } You can extend it quite easily like so: struct MyError { StatusCode int Message string } And use it in your code like this: return nil, MyError{ StatusCode: 400, Message: fmt.Sprintf(\"bad request %s\", uid) }","title":"Adding more info"},{"location":"notes/programming/go/#wrapping-errors","text":"You can chain your information to a downstream error using fmt.Errorf 's %w verb. On the receiving side you can unwrap with errors.Unwrap . But you would'nt usually do this. Instead, use errors.Is and errors.As . Once you wrap something, you can't compare and check if a certain Sentinel Error occurred. This is where errors.Is helps. It iterates throught the error chain and tells you if a match is found. if err != nil { if errors.Is(err, os.ErrNotExist) { fmt.Println(\"That file doesn't exist\") } } You can also implement Is() in your custom Error Type and do your own pattern matching implementation. errors.As lets you check if a returned error matches a certain type. err := AFunctionThatReturnsAnError() var myErr MyErr if errors.As(err, &myErr) { fmt.Println(myErr.Code) } Second argument sould either be a pointer to an error, or a pointer to an interface. Don't use this unless you know what you're doing.","title":"Wrapping errors"},{"location":"notes/programming/go/#panic-and-recover","text":"When a panic happens: - current function exits immediately - all its defers run - then all the defers of the calling function run, and so on - finally when main is reached, the program exits with a message and stacktrace You can call panic in your code, usually with a string. func main() { doPanic(\"goodbyeee\") } func doPanic(msg string) { panic(msg) } You can call a recover inside a defer to halt the panic and continue execution. In the following example, division by zero does not kill the program, it continues to the next iteration: func main() { for _, val := range []int{1, 2, 0, 6} { div60(val) } } func div60(i int) { defer func() { if v := recover(); v != nil { fmt.Println(v) } }() fmt.Println(60 / i) }","title":"panic and recover"},{"location":"notes/programming/go/#modules-packages-imports","text":"Core concepts: repositories - where in VCS you'd store your code modules - root of a Go library or app packages - modules consist of one or more of these Modules should be globally unique, like Java's packages. Convention is to have the repo e.g. github.com/arunsrin/blah Have a go.mod in the root directory to declare a module. Use the go mod command to manage this file. learninggo/ch09/my1stmodule \u276f go mod init github.com/arunsrin/example01/v2 go: creating new go.mod: module github.com/arunsrin/example01/v2 learninggo/ch09/my1stmodule via \ue627 v1.16.5 \u276f cat go.mod module github.com/arunsrin/example01/v2 go 1.16 learninggo/ch09/my1stmodule via \ue627 v1.16.5 \u276f A require section declares your dependencies. E.g. require ( github.com/learning-go-book/formatter v0.0.0-20200921021027-5abc380940ae github.com/shopspring/decimal v1.2.0 ) A replace section let's you override a module's location, and an exclude section prevents a specific version from being used.","title":"Modules, Packages, Imports"},{"location":"notes/programming/go/#packages","text":"Say you have 2 packages, formatter and math in 2 subfolders in your module. Use them with the full path in your main.go like so: import ( \"fmt\" \"github.com/learning-go-book/package_example/formatter\" \"github.com/learning-go-book/package_example/math\" ) Warning However tempting it may be, don't use relative paths. Your packages should declare the package name as the first line, e.g. package formatter . Usually this is same as your directory name. Use good naming conventions: - Bad: util.ExtractNames , util.FormatNames - Good: extract.Names , format.Names","title":"Packages"},{"location":"notes/programming/go/#good-module-conventions","text":"Create a cmd/ directory, with one sub-folder for each binary built from the module. All other go code go into packages inside a pkg/ directory.","title":"Good module conventions"},{"location":"notes/programming/go/#overrides","text":"Example: Both crypto/rand and math/rand exist. So the equivalent of python's import blah as blah2 is: import ( crand \"crypto/rand\" \"encoding/binary\" \"fmt\" \"math/rand\" )","title":"Overrides"},{"location":"notes/programming/go/#godoc","text":"Place the comment above the thing being documented, with no new lines in between. Before the package declaration: package-level comments.","title":"godoc"},{"location":"notes/programming/go/#internal-packages","text":"When defines as internal , everything exported by that Package is only visible to other sibling packages.","title":"internal Packages"},{"location":"notes/programming/go/#init-function","text":"Avoid. A function called init() with no parameters and return values. Gets run the first time a package is referenced by another.","title":"init Function"},{"location":"notes/programming/go/#check-available-versions-of-a-module","text":"go list -m -versions github.com/learning-go-book/simpletax To downgrade to a specific version: go get github.com/learning-go-book/simpletax@v1.0.0","title":"Check available versions of a module"},{"location":"notes/programming/go/#major-versions","text":"For all versions apart from 0 and 1, the module path must end in vN where N is the major version. E.g. \"github.com/learning-go-book/simpletax/v2\" In the code itself you can do one of these 2: - Create a sub-directory called v2 or whatever and copy your README, LICENSE fiiles. - Create a branch called v2 or keep version 2 in master and create a branch called v1 for the legacy version.","title":"Major versions"},{"location":"notes/programming/go/#vendoring","text":"Keep copies of dependencies inside your module. go mod vendor","title":"Vendoring"},{"location":"notes/programming/go/#module-proxy-server","text":"go's mirror. First tries there, and downloads and caches if not present. Google also maintains a sum database that has version information. Protects from malicious version modifications. Alternates to this default behaviour: - Use a different proxy server like JFrog's GoCenter - To do this, export GOPROXY=\"https://gocenter.io,direct\" - Disable the behaviour: export GOPROXY=direct - Run your own","title":"Module Proxy Server"},{"location":"notes/programming/go/#private-proxy-servers","text":"Set GOPRIVATE : export GOPRIVATE=*.example.com,company.com/repo Anything matching the above will be downloaded directly.","title":"Private proxy servers"},{"location":"notes/programming/go/#standard-library","text":"Useful stuff from the standard library strconv.Atoi : convert \"5\" to 5 From math/rand : rand.Intn(10) returns a random number between 0 and 10. Seed is fixed though so look deeper os.Args like python's sys.argv","title":"Standard Library"},{"location":"notes/programming/go/#third-party","text":"Useful stuff from the ecosystem. Search in this page for details. go install github.com/rakyll/hey@latest go install golang.org/x/tools/cmd/goimports@latest go install golang.org/x/lint/golint@latest go install golang.org/x/tools/go/analysis/passes/shadow/cmd/shadow@latest The equivalent of pypi here is pkg.go.dev . It automatically indexes open-source go projects.","title":"Third Party"},{"location":"notes/programming/go/#references","text":"Learning Go, by Jon Bodner","title":"References"},{"location":"notes/programming/go/#queued","text":"official code review comments Effective Go Inside the Map implementation, video","title":"Queued"},{"location":"notes/programming/java/","text":"\ud83c\udf75 Java Most of these notes are from the book Java Projects by Peter Verhas . Maven build lifecycle targets validate - validate the project is correct and all necessary information is available compile - compile the source code of the project test - test the compiled source code using a suitable unit testing framework. These tests should not require the code be packaged or deployed package - take the compiled code and package it in its distributable format, such as a JAR. verify - run any checks on results of integration tests to ensure quality criteria are met install - install the package into the local repository, for use as a dependency in other projects locally deploy - done in the build environment, copies the final package to the remote repository for sharing with other developers and projects. From the official documentation . JConsole over SSH with SOCKS Proxy This is from here : Create the SSH socks proxy locally on some free port (e.g. 7777): ssh -fN -D 7777 user@firewalled-host Run JConsole by specifying the SOCKS proxy (e.g. localhost:7777) and the address for the JMX server (e.g. localhost:2147) jconsole -J-DsocksProxyHost=localhost -J-DsocksProxyPort=7777 service:jmx:rmi:///jndi/rmi://localhost:2147/jmxrmi -J-DsocksNonProxyHosts= JShell /list -start - shows modules imported at startup. /edit <number> - edit that line in a new window. /set editor \"vi\" - use vi instead of the default graphical edit pad. /save abc.java - save current buffer to file. /load abc.java - load from file into shell. /-1 - execute last snippet. /1 - execute first snippet. /drop N - drop Nth snippet. /vars - show only variables that were defined in snippets. /types - show only classes that were defined in snippets. Javap javap TestDecompile.class - decompile .class file to human readable format. Does not show content of methods though. javap -c TestDecompile.class - show jvm bytecode in human readable -form, including methods. Jar files These are zip files that have a META-INF folder with a Manifest.mf file inside. To create a jar file: jar -cf hello.jar HelloWorld.class And to run: java -cp hello.jar HelloWorld To see contents of a jar: jar -tf hello.jar Runtime/debugging jps - Shows all runnning java processes. jvisualvm - If you have it, it shows the java processes on the system with details on threads, profiler etc. -Xagentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=7896 Use these args to start a process in debugging mode. agentlib=jdwp - Load the jdwp agent, for debugging. transport=dt_socket - for connecting a debugging client over the network. server=y - this one is the server half of the debugging. suspend=y - don't start executing until a client debugger attaches. address=7896 - port we listen on. Maven Expected directory structure: Java files are in src/main/java as well as src/test/java . Resource files are under src/main/resources and src/test/resources . mvn archetype:generate : Generates a skeleton of a project based on your inputs (package name, versioning, project name, etc). Edit pom.xml and set the jdk version there.. the default may be old. Java 9 onwaards doesn't generate the .class format. You should have this added to the default .xml file: <build> <plugins> <plugin> <groupId>org.apache.maven.plugins</groupId> <artifactId>maven-compiler-plugin</artifactId> <version>3.8.0</version> <configuration> <source>1.11</source> <target>1.11</target> <release>11</release> </configuration> </plugin> </plugins> </build> mvn package - compile, test, bundle. Interfaces All fields (i.e. class variables) default to static final . All methods default to public . Field types static - One instance per class, not per object. final - Initialized exactly once, either where declared or somewhere in the constructor. Immutable after that. transient - Do not serialize/deserialize this field. volatile - Treat as a field that may be accessed by multiple threads. If not volatile, the value may be stored in a processor cache or registry for faster access. Things to find out later See how to create a call graph in eclipse. final keyword? Answer : when used with a variable, it (a) blocks reassignment, and (b) limits existence to that block. e.g. a final String tmp = orig inside a for loop cannot be reassigned with a different value. The value does not exist outside the block it is defined in. Good practice to declare this often as it means a variable is guaranteed not to change in value.","title":"\ud83c\udf75 Java"},{"location":"notes/programming/java/#java","text":"Most of these notes are from the book Java Projects by Peter Verhas .","title":"\ud83c\udf75 Java"},{"location":"notes/programming/java/#maven-build-lifecycle-targets","text":"validate - validate the project is correct and all necessary information is available compile - compile the source code of the project test - test the compiled source code using a suitable unit testing framework. These tests should not require the code be packaged or deployed package - take the compiled code and package it in its distributable format, such as a JAR. verify - run any checks on results of integration tests to ensure quality criteria are met install - install the package into the local repository, for use as a dependency in other projects locally deploy - done in the build environment, copies the final package to the remote repository for sharing with other developers and projects. From the official documentation .","title":"Maven build lifecycle targets"},{"location":"notes/programming/java/#jconsole-over-ssh-with-socks-proxy","text":"This is from here : Create the SSH socks proxy locally on some free port (e.g. 7777): ssh -fN -D 7777 user@firewalled-host Run JConsole by specifying the SOCKS proxy (e.g. localhost:7777) and the address for the JMX server (e.g. localhost:2147) jconsole -J-DsocksProxyHost=localhost -J-DsocksProxyPort=7777 service:jmx:rmi:///jndi/rmi://localhost:2147/jmxrmi -J-DsocksNonProxyHosts=","title":"JConsole over SSH with SOCKS Proxy"},{"location":"notes/programming/java/#jshell","text":"/list -start - shows modules imported at startup. /edit <number> - edit that line in a new window. /set editor \"vi\" - use vi instead of the default graphical edit pad. /save abc.java - save current buffer to file. /load abc.java - load from file into shell. /-1 - execute last snippet. /1 - execute first snippet. /drop N - drop Nth snippet. /vars - show only variables that were defined in snippets. /types - show only classes that were defined in snippets.","title":"JShell"},{"location":"notes/programming/java/#javap","text":"javap TestDecompile.class - decompile .class file to human readable format. Does not show content of methods though. javap -c TestDecompile.class - show jvm bytecode in human readable -form, including methods.","title":"Javap"},{"location":"notes/programming/java/#jar-files","text":"These are zip files that have a META-INF folder with a Manifest.mf file inside. To create a jar file: jar -cf hello.jar HelloWorld.class And to run: java -cp hello.jar HelloWorld To see contents of a jar: jar -tf hello.jar","title":"Jar files"},{"location":"notes/programming/java/#runtimedebugging","text":"jps - Shows all runnning java processes. jvisualvm - If you have it, it shows the java processes on the system with details on threads, profiler etc. -Xagentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=7896 Use these args to start a process in debugging mode. agentlib=jdwp - Load the jdwp agent, for debugging. transport=dt_socket - for connecting a debugging client over the network. server=y - this one is the server half of the debugging. suspend=y - don't start executing until a client debugger attaches. address=7896 - port we listen on.","title":"Runtime/debugging"},{"location":"notes/programming/java/#maven","text":"Expected directory structure: Java files are in src/main/java as well as src/test/java . Resource files are under src/main/resources and src/test/resources . mvn archetype:generate : Generates a skeleton of a project based on your inputs (package name, versioning, project name, etc). Edit pom.xml and set the jdk version there.. the default may be old. Java 9 onwaards doesn't generate the .class format. You should have this added to the default .xml file: <build> <plugins> <plugin> <groupId>org.apache.maven.plugins</groupId> <artifactId>maven-compiler-plugin</artifactId> <version>3.8.0</version> <configuration> <source>1.11</source> <target>1.11</target> <release>11</release> </configuration> </plugin> </plugins> </build> mvn package - compile, test, bundle.","title":"Maven"},{"location":"notes/programming/java/#interfaces","text":"All fields (i.e. class variables) default to static final . All methods default to public .","title":"Interfaces"},{"location":"notes/programming/java/#field-types","text":"static - One instance per class, not per object. final - Initialized exactly once, either where declared or somewhere in the constructor. Immutable after that. transient - Do not serialize/deserialize this field. volatile - Treat as a field that may be accessed by multiple threads. If not volatile, the value may be stored in a processor cache or registry for faster access.","title":"Field types"},{"location":"notes/programming/java/#things-to-find-out-later","text":"See how to create a call graph in eclipse. final keyword? Answer : when used with a variable, it (a) blocks reassignment, and (b) limits existence to that block. e.g. a final String tmp = orig inside a for loop cannot be reassigned with a different value. The value does not exist outside the block it is defined in. Good practice to declare this often as it means a variable is guaranteed not to change in value.","title":"Things to find out later"},{"location":"notes/programming/python/","text":"\ud83d\udc0dPython notes Modern Python (2021 edition) I use Python heavily but still prefer tools and libraries from the 2.x days. Here are some newer tools/packages/learnings that I want to upgrade to. Some of the notes below are from reading Expert Python Programming, 3rd Edition . black Auto-formats your files, like go fmt . Just run and forget. I just selected this as the formatter in vscode. For manual usage, just pip install and run: filegen/app \u276f black main.py reformatted main.py All done! \u2728 \ud83c\udf70 \u2728 1 file reformatted. poetry Creates its own virtualenv so don't install it in one. Instead do this: pip install --user poetry Usage: poetry new some-project # initializes folder structure for src, tests, toml file Or if you already have a project and just want to initialize the .toml file: poetry init The pyproject.toml structure conforms to PEP-518 . Then, activate the virtual env with: poetry shell For adding packages, the only way is with: poetry add <package> This will update the toml file as well. You can then lock dependencies with: poetry lock wait-for-it Run a command when a port is open. Example: wait-for-it --service 0.0.0.0:8000 -- curl localhost:8000 Debugging Here's a 2 lines that drops you into a shell: python3 -m pdb -c continue script.py For setting breakpoints, do this: breakpoint() # or this: import pdb; pdb.set_trace() # or this if you want a better shell: import ipdb; ipdb.set_trace() Get help with help pdb . There is also something called development mode for some extra runtime checks, turn it on with one of these: python -X dev app.py # or PYTHONDEVMODE=1 app.py This gives better stack traces on receiving system signals or segfaults, deprecation warnings, unsafe GIL usage etc. There is also something called development mode for some extra runtime checks, turn it on with one of these: python -X dev app.py # or PYTHONDEVMODE=1 app.py This gives better stack traces on receiving signals, deprecation warnings, unsafe GIL usage etc. See python paths This shows the location of the user's site-packages folder, the sys.path contents, etc. python3 -m site Merging dictionaries Newer python versions: >>> {'a':1,'b':2} | {'b':20,'c':30} {'a': 1, 'b': 20, 'c': 30} Right most dict gets the value if there's a clash. Alternative way, using collections.ChainMap : >>> import collections >>> collections.ChainMap({'a':1,'b':2}, {'b':20,'c':30}) ChainMap({'a': 1, 'b': 2}, {'b': 20, 'c': 30}) >>> In this case the left dict gets priority. ChainMap just uses the referenes so if the underlying dicts change, ChainMap knows about it. Type Hints Generic types: tuple , list , dict , set , frozenset etc. For dicts you need to use dict[KeyType, ValueType] . There is also typing.Any if your return value is unknown, for instance. map/filter/reduce Map takes the function (in this case just squares your input), and applies it to the iterable (in this case the range ). list(map(lambda x: x**2, range(10))) Filter takes an iterable and runs a function against each element one by one. e.g. to prevent even numbers: list(filter(lambda x: x%2 == 0, range(10))) Reduce is now in functools . It reduces an iterable to a single value. i.e. it takes reduce(func, [a, b, c, d]) and does this: func(func(func(a, b), c), d) . E.g to sum numbers in a range: from functools import reduce reduce(lambda x, y: x + y, range(10)) Since these returns an iterator, you can call next() to get the next result. Concurrency Best definition is from Leslie Lamport: \"Two events are concurrent if neither can causally affect the other.\" So, concurrency is a propery of a program or problem or algorithm, while parallelism is one of the ways of achieving this. multithreading Use Queue for communication Use thread pools and throttling so you don't overload yourself (or the remote party) Don't print inside threads, send your output to a results queue and print in main() at the end multiprocessing The in-built multiprocessing package has interesting tools for sharing data: Pipe for simple socket-like 2 way communication. Has a send() , recv() etc. Queue which is just like the standard queue sharedctypes for C types in a dedicated pool of memory You can replace multiprocessing with multiprocessing.dummy and you write exactly the same code but with threads instead of processes in the background. async This is co-operative so someone must relinquish execution control so that the next process can get a slice.1 You can feed a bunch of coroutines to asyncio.gather() . It returns a single future object, which can then be run in the even loop. Use await asyncio.sleep() instead of time.sleep() to yield control. Use concurrent.futures to take a synchronous library and run it under the hood in a multithreaded manner but by using async patterns. It has a ThreadPoolExecutor and ProcessPoolExecutor to do so. Once you submit a function to these, you will get back a Future object, and you can get the actual result in Future.result() . Instead of run_in_loop you would do a run_in_executor . Python3 on centos (using scl): scl enable python33 bash Design patterns Observer: Like a presence subscription. multiple obvservers get notified when a core object changes. Also see @property to create setters/getters for attributes. That way when an attribute changes, we can make a call to update() and let the observers know. Strategy: Different implementations hidden beneath a single abstraction. e.g. user calls sort() but does not care which algorithm is used. Create different classes and implement __call__ , so that when an object is created, that function is called automatically. Template: Differing steps in separate classes, one controller. Unicode, and Encode vs Decode bytes.decode : interpret a stream of bytes (from a file or the network) as unicode, with a passed charset like UTF-8 or latin-1. str.encode : take a unicode string and convert it to bytes, to write to file or send over a network. deep breath both byte strings and unicode have a method to convert to the other. byte.decode('utf-8') takes a byte stream and represents it as a UTF-8 string. utf.encode() takes a utf-8 string and represents it as a byte stream (to send out over a network, for example). encode() accepts an arg that allows you to represent as ascii, but replace out-of-range characters with ???? or something else. Python2: str: stream of bytes, unicode: unicode. Python3: str: unicode, bytes: stream of bytes. Python2 implicitly tries to change bytes to unicode and vice versa to be 'helpful'. Python3 doesn't. A recommendation: bytes on the outside -> decode to utf-8 -> use unicode inside -> encode to bytes -> send out. IOBuffer and FileBuffer are like dummy network/file interfaces (useful for tests?) ISO-8859-1 aka Latin-1 is a single byte extension to ascii that supports a few extra symbols. Coverage usage Run this: coverage run scriptname args Results are stored in .coverage . If the script has different args, backup .coverage , run again and then combine them: coverage combine .coverage.old .coverage For a quick summary ( -m specifies the missing lines): coverage report -m For a report ( -d specifies the dest folder): coverage html -d coverage_html Decorator example def my_decorator(func): def wrapper(*args, **kwargs): # do pre-processing ret = func(*args, **kwargs) # do post-processing return ret return wrapper i.e., return a function (wrapper) that calls func with its args, but do your pre/post stuff within wrapper. Django notes Change your models (in models.py). Run python manage.py makemigrations to create migrations for those changes Run python manage.py migrate to apply those changes to the database. Magic number The python interpreter's magic number is found in: importlib.util.MAGIC_NUMBER .pyc file format: magic number | mtime | size | marshaled code object Dunder methods String/bytes representation __repr__, __str__, __format__, __bytes__ Conversion to number __abs__, __bool__, __complex__, __int__, __float__, __hash__, __index__ Emulating collections __len__, __getitem__, __setitem__, __delitem__, __contains__ Iteration __iter__, __reversed__, __next__ Emulating callables __call__ Context management __enter__, __exit__ Instance creation and destruction __new__, __init__, __del__ Attribute management __getattr__, __getattribute__, __setattr__, __delattr__, __dir__ Attribute descriptors __get__, __set__, __delete__ Class services __prepare__, __instancecheck__, __subclasscheck__ Pickling The last byte of a pickled file is a '.' Anything that follows it is ignored. This would be a way to embed a jpeg or something to the end of a pickle file..?? Staticmethod vs Classmethod staticmethod: can be called directly from the class, without instantiating an object. classmethod: exactly the same. BUT: when a staticmethod is called from an object, the 'self' parameter is never passed, the way it is for classmethods and normal methods. Import files with hyphens test_cmd = importlib.import_module('test-cmd', None)","title":"\ud83d\udc0dPython notes"},{"location":"notes/programming/python/#python-notes","text":"","title":"\ud83d\udc0dPython notes"},{"location":"notes/programming/python/#modern-python-2021-edition","text":"I use Python heavily but still prefer tools and libraries from the 2.x days. Here are some newer tools/packages/learnings that I want to upgrade to. Some of the notes below are from reading Expert Python Programming, 3rd Edition .","title":"Modern Python (2021 edition)"},{"location":"notes/programming/python/#black","text":"Auto-formats your files, like go fmt . Just run and forget. I just selected this as the formatter in vscode. For manual usage, just pip install and run: filegen/app \u276f black main.py reformatted main.py All done! \u2728 \ud83c\udf70 \u2728 1 file reformatted.","title":"black"},{"location":"notes/programming/python/#poetry","text":"Creates its own virtualenv so don't install it in one. Instead do this: pip install --user poetry Usage: poetry new some-project # initializes folder structure for src, tests, toml file Or if you already have a project and just want to initialize the .toml file: poetry init The pyproject.toml structure conforms to PEP-518 . Then, activate the virtual env with: poetry shell For adding packages, the only way is with: poetry add <package> This will update the toml file as well. You can then lock dependencies with: poetry lock","title":"poetry"},{"location":"notes/programming/python/#wait-for-it","text":"Run a command when a port is open. Example: wait-for-it --service 0.0.0.0:8000 -- curl localhost:8000","title":"wait-for-it"},{"location":"notes/programming/python/#debugging","text":"Here's a 2 lines that drops you into a shell: python3 -m pdb -c continue script.py For setting breakpoints, do this: breakpoint() # or this: import pdb; pdb.set_trace() # or this if you want a better shell: import ipdb; ipdb.set_trace() Get help with help pdb . There is also something called development mode for some extra runtime checks, turn it on with one of these: python -X dev app.py # or PYTHONDEVMODE=1 app.py This gives better stack traces on receiving system signals or segfaults, deprecation warnings, unsafe GIL usage etc. There is also something called development mode for some extra runtime checks, turn it on with one of these: python -X dev app.py # or PYTHONDEVMODE=1 app.py This gives better stack traces on receiving signals, deprecation warnings, unsafe GIL usage etc.","title":"Debugging"},{"location":"notes/programming/python/#see-python-paths","text":"This shows the location of the user's site-packages folder, the sys.path contents, etc. python3 -m site","title":"See python paths"},{"location":"notes/programming/python/#merging-dictionaries","text":"Newer python versions: >>> {'a':1,'b':2} | {'b':20,'c':30} {'a': 1, 'b': 20, 'c': 30} Right most dict gets the value if there's a clash. Alternative way, using collections.ChainMap : >>> import collections >>> collections.ChainMap({'a':1,'b':2}, {'b':20,'c':30}) ChainMap({'a': 1, 'b': 2}, {'b': 20, 'c': 30}) >>> In this case the left dict gets priority. ChainMap just uses the referenes so if the underlying dicts change, ChainMap knows about it.","title":"Merging dictionaries"},{"location":"notes/programming/python/#type-hints","text":"Generic types: tuple , list , dict , set , frozenset etc. For dicts you need to use dict[KeyType, ValueType] . There is also typing.Any if your return value is unknown, for instance.","title":"Type Hints"},{"location":"notes/programming/python/#mapfilterreduce","text":"Map takes the function (in this case just squares your input), and applies it to the iterable (in this case the range ). list(map(lambda x: x**2, range(10))) Filter takes an iterable and runs a function against each element one by one. e.g. to prevent even numbers: list(filter(lambda x: x%2 == 0, range(10))) Reduce is now in functools . It reduces an iterable to a single value. i.e. it takes reduce(func, [a, b, c, d]) and does this: func(func(func(a, b), c), d) . E.g to sum numbers in a range: from functools import reduce reduce(lambda x, y: x + y, range(10)) Since these returns an iterator, you can call next() to get the next result.","title":"map/filter/reduce"},{"location":"notes/programming/python/#concurrency","text":"Best definition is from Leslie Lamport: \"Two events are concurrent if neither can causally affect the other.\" So, concurrency is a propery of a program or problem or algorithm, while parallelism is one of the ways of achieving this.","title":"Concurrency"},{"location":"notes/programming/python/#multithreading","text":"Use Queue for communication Use thread pools and throttling so you don't overload yourself (or the remote party) Don't print inside threads, send your output to a results queue and print in main() at the end","title":"multithreading"},{"location":"notes/programming/python/#multiprocessing","text":"The in-built multiprocessing package has interesting tools for sharing data: Pipe for simple socket-like 2 way communication. Has a send() , recv() etc. Queue which is just like the standard queue sharedctypes for C types in a dedicated pool of memory You can replace multiprocessing with multiprocessing.dummy and you write exactly the same code but with threads instead of processes in the background.","title":"multiprocessing"},{"location":"notes/programming/python/#async","text":"This is co-operative so someone must relinquish execution control so that the next process can get a slice.1 You can feed a bunch of coroutines to asyncio.gather() . It returns a single future object, which can then be run in the even loop. Use await asyncio.sleep() instead of time.sleep() to yield control. Use concurrent.futures to take a synchronous library and run it under the hood in a multithreaded manner but by using async patterns. It has a ThreadPoolExecutor and ProcessPoolExecutor to do so. Once you submit a function to these, you will get back a Future object, and you can get the actual result in Future.result() . Instead of run_in_loop you would do a run_in_executor .","title":"async"},{"location":"notes/programming/python/#python3-on-centos-using-scl","text":"scl enable python33 bash","title":"Python3 on centos (using scl):"},{"location":"notes/programming/python/#design-patterns","text":"","title":"Design patterns"},{"location":"notes/programming/python/#observer","text":"Like a presence subscription. multiple obvservers get notified when a core object changes. Also see @property to create setters/getters for attributes. That way when an attribute changes, we can make a call to update() and let the observers know.","title":"Observer:"},{"location":"notes/programming/python/#strategy","text":"Different implementations hidden beneath a single abstraction. e.g. user calls sort() but does not care which algorithm is used. Create different classes and implement __call__ , so that when an object is created, that function is called automatically.","title":"Strategy:"},{"location":"notes/programming/python/#template","text":"Differing steps in separate classes, one controller.","title":"Template:"},{"location":"notes/programming/python/#unicode-and-encode-vs-decode","text":"bytes.decode : interpret a stream of bytes (from a file or the network) as unicode, with a passed charset like UTF-8 or latin-1. str.encode : take a unicode string and convert it to bytes, to write to file or send over a network. deep breath both byte strings and unicode have a method to convert to the other. byte.decode('utf-8') takes a byte stream and represents it as a UTF-8 string. utf.encode() takes a utf-8 string and represents it as a byte stream (to send out over a network, for example). encode() accepts an arg that allows you to represent as ascii, but replace out-of-range characters with ???? or something else. Python2: str: stream of bytes, unicode: unicode. Python3: str: unicode, bytes: stream of bytes. Python2 implicitly tries to change bytes to unicode and vice versa to be 'helpful'. Python3 doesn't. A recommendation: bytes on the outside -> decode to utf-8 -> use unicode inside -> encode to bytes -> send out. IOBuffer and FileBuffer are like dummy network/file interfaces (useful for tests?) ISO-8859-1 aka Latin-1 is a single byte extension to ascii that supports a few extra symbols.","title":"Unicode, and Encode vs Decode"},{"location":"notes/programming/python/#coverage-usage","text":"Run this: coverage run scriptname args Results are stored in .coverage . If the script has different args, backup .coverage , run again and then combine them: coverage combine .coverage.old .coverage For a quick summary ( -m specifies the missing lines): coverage report -m For a report ( -d specifies the dest folder): coverage html -d coverage_html","title":"Coverage usage"},{"location":"notes/programming/python/#decorator-example","text":"def my_decorator(func): def wrapper(*args, **kwargs): # do pre-processing ret = func(*args, **kwargs) # do post-processing return ret return wrapper i.e., return a function (wrapper) that calls func with its args, but do your pre/post stuff within wrapper.","title":"Decorator example"},{"location":"notes/programming/python/#django-notes","text":"Change your models (in models.py). Run python manage.py makemigrations to create migrations for those changes Run python manage.py migrate to apply those changes to the database.","title":"Django notes"},{"location":"notes/programming/python/#magic-number","text":"The python interpreter's magic number is found in: importlib.util.MAGIC_NUMBER .pyc file format: magic number | mtime | size | marshaled code object","title":"Magic number"},{"location":"notes/programming/python/#dunder-methods","text":"String/bytes representation __repr__, __str__, __format__, __bytes__ Conversion to number __abs__, __bool__, __complex__, __int__, __float__, __hash__, __index__ Emulating collections __len__, __getitem__, __setitem__, __delitem__, __contains__ Iteration __iter__, __reversed__, __next__ Emulating callables __call__ Context management __enter__, __exit__ Instance creation and destruction __new__, __init__, __del__ Attribute management __getattr__, __getattribute__, __setattr__, __delattr__, __dir__ Attribute descriptors __get__, __set__, __delete__ Class services __prepare__, __instancecheck__, __subclasscheck__","title":"Dunder methods"},{"location":"notes/programming/python/#pickling","text":"The last byte of a pickled file is a '.' Anything that follows it is ignored. This would be a way to embed a jpeg or something to the end of a pickle file..??","title":"Pickling"},{"location":"notes/programming/python/#staticmethod-vs-classmethod","text":"staticmethod: can be called directly from the class, without instantiating an object. classmethod: exactly the same. BUT: when a staticmethod is called from an object, the 'self' parameter is never passed, the way it is for classmethods and normal methods.","title":"Staticmethod vs Classmethod"},{"location":"notes/programming/python/#import-files-with-hyphens","text":"test_cmd = importlib.import_module('test-cmd', None)","title":"Import files with hyphens"},{"location":"research/capitalism/","text":"\ud83d\udcb0 Capitalism Unfettered capitalism is the root of all evil. Pretty much all of the anti-work subreddit is a joy to lurk in. Fuck the Plastic Industry Nice overview of how the book industry compares with ebooks. Essentially amazon re-used the same model in both (where the publisher recommends a price but the seller decides it ultimately), and Apple colluded with the big publishers to switch it to another model: where the price can be determined by the publisher up front, and the seller just gets a flat 30% cut. Beware arguments for privatization : Has a nice table of the Fortune 100, where a number of government entities (mainly China's) frequent the top list.","title":"\ud83d\udcb0 Capitalism"},{"location":"research/capitalism/#capitalism","text":"Unfettered capitalism is the root of all evil. Pretty much all of the anti-work subreddit is a joy to lurk in. Fuck the Plastic Industry Nice overview of how the book industry compares with ebooks. Essentially amazon re-used the same model in both (where the publisher recommends a price but the seller decides it ultimately), and Apple colluded with the big publishers to switch it to another model: where the price can be determined by the publisher up front, and the seller just gets a flat 30% cut. Beware arguments for privatization : Has a nice table of the Fortune 100, where a number of government entities (mainly China's) frequent the top list.","title":"\ud83d\udcb0 Capitalism"},{"location":"research/climate-change/","text":"\ud83c\udf21\ufe0f Climate Change 10 charts by the Guardian xkcd on temperature change Australia's 2019/2020 forest fires My own notes from the book \"The thinking person's guide to Climate Change\"","title":"\ud83c\udf21\ufe0f Climate Change"},{"location":"research/climate-change/#climate-change","text":"10 charts by the Guardian xkcd on temperature change Australia's 2019/2020 forest fires My own notes from the book \"The thinking person's guide to Climate Change\"","title":"\ud83c\udf21\ufe0f Climate Change"},{"location":"research/covid-19/","text":"\ud83e\udda0 COVID-19 References I'm keeping a diary of interesting links to track the COVID-19 epidemic. Global links Archive of a good bunch of links on SSC . A rationalist prepper . Articles like this helped me prepare about a month before shit hit the fan. Why You Must Act Now - Nice comprehensive article that was doing the rounds in the early days. Comprehensive arstechnica coverage . Why the whole test kit availability thing was messed up in the early days: they were tainted . Timeline of WHO's response . How New Zealand beat COVID-19 . A nice summary of the Vaccine Protocols . Scepticism A paper that was doing the rounds on Whatsapp was retracted . HCQ results after certain clowns made a big deal of it. Lack of clarity on remdesivir's effectiveness . It may be worse than doing nothing . Social media scrambling as always, fighting misinformation . India-specific links Trying to predict the curve , way back in March. Some more scenarios , from March. Reasons for doubt: India under-reporting TB cases for years . So cruel :( . Politicians and corporations put worker rights last. India has an Integrated Disease Surveillance Program that is meant to handle epidemics like this. They had daily updates until COVID-19 hit, and ICMR stepped in instead. How to make even a fucking epidemic about religion . ICMR research that implies 7 lakh infected in a few districts, when the nation-wide count at that time was 3.4 lakhs (!!) Bangalore-specific links BBMP daily bulletins . Very nice charts. Hospital beds allocated and available currently .","title":"\ud83e\udda0 COVID-19 References"},{"location":"research/covid-19/#covid-19-references","text":"I'm keeping a diary of interesting links to track the COVID-19 epidemic.","title":"\ud83e\udda0 COVID-19 References"},{"location":"research/covid-19/#global-links","text":"Archive of a good bunch of links on SSC . A rationalist prepper . Articles like this helped me prepare about a month before shit hit the fan. Why You Must Act Now - Nice comprehensive article that was doing the rounds in the early days. Comprehensive arstechnica coverage . Why the whole test kit availability thing was messed up in the early days: they were tainted . Timeline of WHO's response . How New Zealand beat COVID-19 . A nice summary of the Vaccine Protocols .","title":"Global links"},{"location":"research/covid-19/#scepticism","text":"A paper that was doing the rounds on Whatsapp was retracted . HCQ results after certain clowns made a big deal of it. Lack of clarity on remdesivir's effectiveness . It may be worse than doing nothing . Social media scrambling as always, fighting misinformation .","title":"Scepticism"},{"location":"research/covid-19/#india-specific-links","text":"Trying to predict the curve , way back in March. Some more scenarios , from March. Reasons for doubt: India under-reporting TB cases for years . So cruel :( . Politicians and corporations put worker rights last. India has an Integrated Disease Surveillance Program that is meant to handle epidemics like this. They had daily updates until COVID-19 hit, and ICMR stepped in instead. How to make even a fucking epidemic about religion . ICMR research that implies 7 lakh infected in a few districts, when the nation-wide count at that time was 3.4 lakhs (!!)","title":"India-specific links"},{"location":"research/covid-19/#bangalore-specific-links","text":"BBMP daily bulletins . Very nice charts. Hospital beds allocated and available currently .","title":"Bangalore-specific links"},{"location":"research/cryptocurrencies/","text":"\ud83d\udcb8 Cryptocurrencies I find it telling that the loudest proponents of Crypto are VCs who extol the virtues of a decentralized system while building and profiting from centralized solutions. Here are some links that align well with how I perceive crypto. Usenix | The Web3 Fraud - Mostly from the perspective of how painfully slow and inefficient the compute is. Web3? I have my DAOts - Nicely balances the FOMO that a self-respective engineer would have with a new technology with failings of crypto/NFTs. look what you made me do: a lot of people have asked me to make NFT games and I won\u2019t because i\u2019m not a fucking dumbass. now let me tell you why only a dumbass would get into NFT games - A game developers perspective on NFTs. Cryptocurrency is an abject disaster - From Drew DeVault, who is always worth reading. Bitcoin: The Postmodern Ponzi - Comparison to a Ponzi scheme. Blockchain and Trust - By Schneier.","title":"\ud83d\udcb8 Cryptocurrencies"},{"location":"research/cryptocurrencies/#cryptocurrencies","text":"I find it telling that the loudest proponents of Crypto are VCs who extol the virtues of a decentralized system while building and profiting from centralized solutions. Here are some links that align well with how I perceive crypto. Usenix | The Web3 Fraud - Mostly from the perspective of how painfully slow and inefficient the compute is. Web3? I have my DAOts - Nicely balances the FOMO that a self-respective engineer would have with a new technology with failings of crypto/NFTs. look what you made me do: a lot of people have asked me to make NFT games and I won\u2019t because i\u2019m not a fucking dumbass. now let me tell you why only a dumbass would get into NFT games - A game developers perspective on NFTs. Cryptocurrency is an abject disaster - From Drew DeVault, who is always worth reading. Bitcoin: The Postmodern Ponzi - Comparison to a Ponzi scheme. Blockchain and Trust - By Schneier.","title":"\ud83d\udcb8 Cryptocurrencies"},{"location":"research/philosophy/","text":"\ud83d\udcad Philosophy / Morality Vegetarianism Animal Pain and New Mysticism about Concsciousness Peter Singer on Animals More on vegetarianism , from SSC's adversarial collaboration and also links to some nice research on harm/suffering etc: \"In total, meat, aquaculture, eggs, and dairy use ~83% of the world\u2019s farmland and contribute 56-58% of food\u2019s different emissions, despite providing only 37% of our protein and 18% of our calories.\" Meat's impact on climate What do Humans owe Animals? - Nice back-and-forth debate. Miscellaneous Outgroups Chomsky on Education Moral Foundations by Jonathan Haidt Against dog ownership","title":"\ud83d\udcad Philosophy / Morality"},{"location":"research/philosophy/#philosophy-morality","text":"","title":"\ud83d\udcad Philosophy / Morality"},{"location":"research/philosophy/#vegetarianism","text":"Animal Pain and New Mysticism about Concsciousness Peter Singer on Animals More on vegetarianism , from SSC's adversarial collaboration and also links to some nice research on harm/suffering etc: \"In total, meat, aquaculture, eggs, and dairy use ~83% of the world\u2019s farmland and contribute 56-58% of food\u2019s different emissions, despite providing only 37% of our protein and 18% of our calories.\" Meat's impact on climate What do Humans owe Animals? - Nice back-and-forth debate.","title":"Vegetarianism"},{"location":"research/philosophy/#miscellaneous","text":"Outgroups Chomsky on Education Moral Foundations by Jonathan Haidt Against dog ownership","title":"Miscellaneous"},{"location":"research/privacy-internet/","text":"\ud83d\udd0f Online Privacy and the Internet On blocking ads, filter bubbles, fake news and the like. Ads and Ad blocking Ads don't work that way A slightly different and interesting perspective on how advertising works. Total advertising denial - This guy blocks everything. Advertising is a cancer on society Ad networks Fake news India had its first Whatsapp election","title":"\ud83d\udd0f Online Privacy and the Internet"},{"location":"research/privacy-internet/#online-privacy-and-the-internet","text":"On blocking ads, filter bubbles, fake news and the like.","title":"\ud83d\udd0f Online Privacy and the Internet"},{"location":"research/privacy-internet/#ads-and-ad-blocking","text":"Ads don't work that way A slightly different and interesting perspective on how advertising works. Total advertising denial - This guy blocks everything. Advertising is a cancer on society Ad networks","title":"Ads and Ad blocking"},{"location":"research/privacy-internet/#fake-news","text":"India had its first Whatsapp election","title":"Fake news"},{"location":"research/productivity/","text":"\u2705 Productivity Hobby Planning Once a week I have a 'Planning' session. I skim through my To Dos, what I did this week and what I want to do the next week. This is purely for my personal hobbies and not for work. For example, on one week I might binge-watch a TV show that just came out, so the next week I try to spend more time reading. In this slot, I also skim through my long-term hobby goals, and see what medium / short term steps I'm taking towards reaching them. Right now I like to balance my team between reading and playing games . Art is something I want to get better at so I try to do something there as well. Tools I like and highly recommend the following tools: MS To Do - this has an indispensable feature called 'Plan My Day' which is the first thing I do every morning. Makes it quite easy to surface things that you had scheduled for a particular day. Cross Platform, so it's really easy to add and review periodically. OneNote - After using text-based editors for years, I've taken a liking to tools that support images. OneNote does this well with a great interface, 3 levels of 'folder' hierarchy and great integration with my stylus. Vim / Typora - I'm torn between markdown as a store of data and OneNote. Typora seems to bridge both worlds with a really nice UI and seamless integration for images. References Note Taking - Analog Research on non-linear note taking Some analog To Do systems . For those who want to try something other than Bullet Journals. More paper propaganda Bullet journals for work Note Taking - Other Using the filesystem for notes Zen and the art of File and Folder organization Some guy likes Roam Some thoughts on building a second brain Todo lists Why calendars are better Ask Ask HN: How did you build up your personal knowledge base? What do you use for personal daily goals?","title":"\u2705 Productivity"},{"location":"research/productivity/#productivity","text":"","title":"\u2705 Productivity"},{"location":"research/productivity/#hobby-planning","text":"Once a week I have a 'Planning' session. I skim through my To Dos, what I did this week and what I want to do the next week. This is purely for my personal hobbies and not for work. For example, on one week I might binge-watch a TV show that just came out, so the next week I try to spend more time reading. In this slot, I also skim through my long-term hobby goals, and see what medium / short term steps I'm taking towards reaching them. Right now I like to balance my team between reading and playing games . Art is something I want to get better at so I try to do something there as well.","title":"Hobby Planning"},{"location":"research/productivity/#tools","text":"I like and highly recommend the following tools: MS To Do - this has an indispensable feature called 'Plan My Day' which is the first thing I do every morning. Makes it quite easy to surface things that you had scheduled for a particular day. Cross Platform, so it's really easy to add and review periodically. OneNote - After using text-based editors for years, I've taken a liking to tools that support images. OneNote does this well with a great interface, 3 levels of 'folder' hierarchy and great integration with my stylus. Vim / Typora - I'm torn between markdown as a store of data and OneNote. Typora seems to bridge both worlds with a really nice UI and seamless integration for images.","title":"Tools"},{"location":"research/productivity/#references","text":"","title":"References"},{"location":"research/productivity/#note-taking-analog","text":"Research on non-linear note taking Some analog To Do systems . For those who want to try something other than Bullet Journals. More paper propaganda Bullet journals for work","title":"Note Taking - Analog"},{"location":"research/productivity/#note-taking-other","text":"Using the filesystem for notes Zen and the art of File and Folder organization Some guy likes Roam Some thoughts on building a second brain","title":"Note Taking - Other"},{"location":"research/productivity/#todo-lists","text":"Why calendars are better","title":"Todo lists"},{"location":"research/productivity/#ask","text":"Ask HN: How did you build up your personal knowledge base? What do you use for personal daily goals?","title":"Ask"},{"location":"research/scepticism/","text":"\ud83d\udcad Scepticism Sometimes I get into arguments with people about some fairly interesting topics. Other times it's on stupid things they read on social media and swallow without a second thought. Here are some well written articles on interesting topics. Behavioural Economics What has happened down here is the winds have changed The death of behavioural economics Reconstruction of a Train Wreck: How Priming Research Went off the Rails GMOs People fear new technology. GMOs interest me because they stand on the thin line between fascinating technology and scary dystopia. I think they are a powerful tool for humanity and research in them should be encouraged. 21 year study Slate article Cell phone 'Radiation' There's more of this going around these days, with some geniuses linking 5G towers to COVID-19. Cell phones link to cancer Radio towers linked to cancer Homeopathy My favourite post on Homeopathy , by the one-and-only Ben Goldacre. Why you can't trust Homeopathy Vaccines There are fortunately no stupid people in my immediate community who are vaccine-averse. Lots of info on RationalWiki Mercury, Vaccines, and Autism Nice gif that explains herd immunity Miscellaneous Assassinations foretold in Moby Dick - Show this to those people who keep finding hidden meanings in the Bible etc. How to avoid swallowing War Propaganda Internet cranks Mark McCarron is his own internet rabbit hole. Here's an article of his on a Spam/Email alternative: We've found the perfect solution to spam \u2022 The Register . He's also written a cipher called crystalline. Read his comments to see how defensive and out of touch with reality he is.","title":"\ud83d\udcad Scepticism"},{"location":"research/scepticism/#scepticism","text":"Sometimes I get into arguments with people about some fairly interesting topics. Other times it's on stupid things they read on social media and swallow without a second thought. Here are some well written articles on interesting topics.","title":"\ud83d\udcad Scepticism"},{"location":"research/scepticism/#behavioural-economics","text":"What has happened down here is the winds have changed The death of behavioural economics Reconstruction of a Train Wreck: How Priming Research Went off the Rails","title":"Behavioural Economics"},{"location":"research/scepticism/#gmos","text":"People fear new technology. GMOs interest me because they stand on the thin line between fascinating technology and scary dystopia. I think they are a powerful tool for humanity and research in them should be encouraged. 21 year study Slate article","title":"GMOs"},{"location":"research/scepticism/#cell-phone-radiation","text":"There's more of this going around these days, with some geniuses linking 5G towers to COVID-19. Cell phones link to cancer Radio towers linked to cancer","title":"Cell phone 'Radiation'"},{"location":"research/scepticism/#homeopathy","text":"My favourite post on Homeopathy , by the one-and-only Ben Goldacre. Why you can't trust Homeopathy","title":"Homeopathy"},{"location":"research/scepticism/#vaccines","text":"There are fortunately no stupid people in my immediate community who are vaccine-averse. Lots of info on RationalWiki Mercury, Vaccines, and Autism Nice gif that explains herd immunity","title":"Vaccines"},{"location":"research/scepticism/#miscellaneous","text":"Assassinations foretold in Moby Dick - Show this to those people who keep finding hidden meanings in the Bible etc. How to avoid swallowing War Propaganda","title":"Miscellaneous"},{"location":"research/scepticism/#internet-cranks","text":"Mark McCarron is his own internet rabbit hole. Here's an article of his on a Spam/Email alternative: We've found the perfect solution to spam \u2022 The Register . He's also written a cipher called crystalline. Read his comments to see how defensive and out of touch with reality he is.","title":"Internet cranks"}]}